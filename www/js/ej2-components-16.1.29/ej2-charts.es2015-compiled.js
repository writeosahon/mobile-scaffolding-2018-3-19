'use strict';System.register(['@syncfusion/ej2-base','@syncfusion/ej2-data','@syncfusion/ej2-pdf-export'],function(_export2,_context){"use strict";var Animation,Browser,ChildProperty,Collection,Complex,Component,Event,EventHandler,Internationalization,L10n,NotifyPropertyChanges,Property,SvgRenderer,Touch,compile,createElement,extend,getValue,isNullOrUndefined,merge,_print,remove,DataManager,DataUtil,Query,PdfBitmap,PdfDocument,PdfPageOrientation,_get,_createClass,_typeof,Theme,__decorate$1,Connector,Font,Border,ChartArea,Margin,Animation$1,Indexes,CornerRadius,Index,EmptyPointSettings,TooltipSettings,Mean,PolarArc,CustomizeOption,StackValues,TextOption,PathOption,RectOption,CircleOption,PolygonOption,Size,Rect,ChartLocation,Thickness,ColorValue,PointData,AccPointData,ControlPoints,DoubleRange,Double,loaded,load,animationComplete,legendRender,textRender,pointRender,seriesRender,axisLabelRender,axisRangeCalculated,axisMultiLabelRender,tooltipRender,chartMouseMove,chartMouseClick,pointClick,pointMove,chartMouseLeave,chartMouseDown,chartMouseUp,zoomComplete,dragComplete,resized,beforePrint,annotationRender,__decorate$3,ChartAnnotationSettings,LabelBorder,MultiLevelCategories,StripLineSettings,MultiLevelLabels,__decorate$2,axisPadding,Row,Column,MajorGridLines,MinorGridLines,AxisLine,MajorTickLines,MinorTickLines,CrosshairTooltip,Axis,VisibleLabels,axisPadding$1,CartesianAxisLayoutPanel,ChartData,__decorate$4,DataLabelSettings,MarkerSettings,Points,Trendline,ErrorBarCapSettings,ChartSegment,ErrorBarSettings,SeriesBase,Series,Data,MarkerExplode,Marker,__decorate$5,Location,LegendSettings,BaseLegend,LegendOptions,__decorate$6,TechnicalIndicator,ExportUtils,__decorate,CrosshairSettings,ZoomSettings,Chart,NiceInterval,DateTime,Category,Logarithmic,DateTimeCategory,StripLine,LineBase,LineSeries,ColumnBase,ColumnSeries,MultiColoredSeries,AreaSeries,BarSeries,PolarRadarPanel,PolarSeries,RadarSeries,StackingBarSeries,CandleSeries,StackingColumnSeries,StepLineSeries,StepAreaSeries,StackingAreaSeries,ScatterSeries,RangeColumnSeries,WaterfallSeries,HiloSeries,HiloOpenCloseSeries,RangeAreaSeries,BubbleSeries,SplineBase,SplineSeries,SplineAreaSeries,TechnicalAnalysis,SmaIndicator,EmaIndicator,TmaIndicator,AccumulationDistributionIndicator,AtrIndicator,MomentumIndicator,RsiIndicator,StochasticIndicator,BollingerBands,MacdIndicator,Trendlines,Crosshair,BaseTooltip,Side,Tooltip,Toolkit,Zoom,BaseSelection,Selection,DataLabel,ErrorBar,Legend,AnnotationBase,ChartAnnotation,BoxAndWhiskerSeries,MultiColoredAreaSeries,MultiColoredLineSeries,MultiLevelLabel,__decorate$8,AccumulationAnnotationSettings,AccumulationDataLabelSettings,AccPoints,AccumulationSeries,AccumulationBase,PieBase,PieSeries,__decorate$7,AccumulationChart,TriangularBase,FunnelSeries,PyramidSeries,AccumulationLegend,AccumulationDataLabel,AccumulationTooltip,AccumulationSelection,AccumulationAnnotation;function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}/** @private */function getSeriesColor(theme){var palette=void 0;switch(theme){case'Fabric':palette=['#4472c4','#ed7d31','#ffc000','#70ad47','#5b9bd5','#c1c1c1','#6f6fe2','#e269ae','#9e480e','#997300'];break;case'Bootstrap':palette=['#a16ee5','#f7ce69','#55a5c2','#7ddf1e','#ff6ea6','#7953ac','#b99b4f','#407c92','#5ea716','#b91c52'];break;case'Highcontrast':palette=['#79ECE4','#E98272','#DFE6B6','#C6E773','#BA98FF','#FA83C3','#00C27A','#43ACEF','#D681EF','#D8BC6E'];break;default:palette=['#00bdae','#404041','#357cd2','#e56590','#f8b883','#70ad47','#dd8abd','#7f84e8','#7bb4eb','#ea7a57'];break;}return palette;}/** @private */function getThemeColor(theme){var style=void 0;switch(theme){case'Highcontrast':style={axisLabel:'#ffffff',axisTitle:'#ffffff',axisLine:'#ffffff',majorGridLine:'#BFBFBF',minorGridLine:'#969696',majorTickLine:'#BFBFBF',minorTickLine:'#969696',chartTitle:'#ffffff',legendLabel:'#ffffff',background:'#000000',areaBorder:'#ffffff',errorBar:'#ffffff',crosshairLine:'#ffffff',crosshairFill:'#ffffff',crosshairLabel:'#000000',tooltipFill:'#ffffff',tooltipBoldLabel:'#000000',tooltipLightLabel:'#000000',tooltipHeaderLine:'#969696',markerShadow:'#BFBFBF',selectionRectFill:'rgba(255, 217, 57, 0.3)',selectionRectStroke:'#ffffff',selectionCircleStroke:'#FFD939'};break;default:style={axisLabel:'#686868',axisTitle:'#424242',axisLine:'#b5b5b5',majorGridLine:'#dbdbdb',minorGridLine:'#eaeaea',majorTickLine:'#b5b5b5',minorTickLine:'#d6d6d6',chartTitle:'#424242',legendLabel:'#353535',background:'#FFFFFF',areaBorder:'Gray',errorBar:'#000000',crosshairLine:'#4f4f4f',crosshairFill:'#4f4f4f',crosshairLabel:'#e5e5e5',tooltipFill:'rgba(0, 8, 22, 0.75)',tooltipBoldLabel:'#ffffff',tooltipLightLabel:'#dbdbdb',tooltipHeaderLine:'#ffffff',markerShadow:null,selectionRectFill:'rgba(41, 171, 226, 0.1)',selectionRectStroke:'#29abe2',selectionCircleStroke:'#29abe2'};break;}return style;}/**
 * Methods for calculating the text size.
 *//**
 * Function to measure the height and width of the text.
 * @param  {string} text
 * @param  {FontModel} font
 * @param  {string} id
 * @returns no
 * @private
 */function measureText(text,font){var htmlObject=document.getElementById('chartmeasuretext');if(htmlObject===null){htmlObject=createElement('text',{id:'chartmeasuretext'});document.body.appendChild(htmlObject);}htmlObject.innerHTML=text;htmlObject.style.position='absolute';htmlObject.style.fontSize=font.size;htmlObject.style.fontWeight=font.fontWeight;htmlObject.style.fontStyle=font.fontStyle;htmlObject.style.fontFamily=font.fontFamily;htmlObject.style.visibility='hidden';htmlObject.style.top='-100';htmlObject.style.left='0';htmlObject.style.whiteSpace='nowrap';// For bootstrap line height issue
htmlObject.style.lineHeight='normal';return new Size(htmlObject.clientWidth,htmlObject.clientHeight);}/**
 * Function to sort the dataSource, by default it sort the data in ascending order.
 * @param  {Object} data
 * @param  {string} fields
 * @param  {boolean} isDescending
 * @returns Object
 */function sort(data,fields,isDescending){var sortData=extend([],data,null);sortData.sort(function(a,b){var first=0;var second=0;for(var i=0;i<fields.length;i++){first+=a[fields[i]];second+=b[fields[i]];}if(!isDescending&&first<second||isDescending&&first>second){return-1;}else if(first===second){return 0;}return 1;});return sortData;}/** @private */function rotateTextSize(font,text,angle,chart){var renderer=new SvgRenderer(chart.element.id);var box=void 0;var options=void 0;var htmlObject=void 0;options={'font-size':font.size,'font-style':font.fontStyle,'font-family':font.fontFamily,'font-weight':font.fontWeight,'transform':'rotate('+angle+', 0, 0)','text-anchor':'middle'};htmlObject=renderer.createText(options,text);if(!chart.delayRedraw){chart.element.appendChild(chart.svgObject);}chart.svgObject.appendChild(htmlObject);box=htmlObject.getBoundingClientRect();remove(htmlObject);if(!chart.delayRedraw){remove(chart.svgObject);}return new Size(box.right-box.left,box.bottom-box.top);}/** @private */function removeElement(id){var element=getElement(id);if(element){remove(element);}}/** @private */function logBase(value,base){return Math.log(value)/Math.log(base);}/** @private */function showTooltip(text,x,y,areaWidth,id,element,isTouch){//let id1: string = 'EJ2_legend_tooltip';
var tooltip=document.getElementById(id);var width=measureText(text,{fontFamily:'Segoe UI',size:'12px',fontStyle:'Normal',fontWeight:'Regular'}).width+5;x=x+width>areaWidth?x-width:x;if(!tooltip){tooltip=createElement('div',{innerHTML:text,id:id,styles:'top:'+(y+15).toString()+'px;left:'+(x+15).toString()+'px;background-color: rgb(255, 255, 255) !important; color:black !important; '+'position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;'+'padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: "Segoe UI"'});element.appendChild(tooltip);}else{tooltip.innerHTML=text;tooltip.style.top=(y+15).toString()+'px';tooltip.style.left=(x+15).toString()+'px';}if(isTouch){setTimeout(function(){removeElement(id);},1500);}}/** @private */function inside(value,range){return value<range.max&&value>range.min;}/** @private */function withIn(value,range){return value<=range.max&&value>=range.min;}/** @private */function withInRange(previousPoint,currentPoint,nextPoint,series){var mX2=series.logWithIn(currentPoint.xValue,series.xAxis);var mX1=previousPoint?series.logWithIn(previousPoint.xValue,series.xAxis):mX2;var mX3=nextPoint?series.logWithIn(nextPoint.xValue,series.xAxis):mX2;var xStart=Math.floor(series.xAxis.visibleRange.min);var xEnd=Math.ceil(series.xAxis.visibleRange.max);return mX1>=xStart&&mX1<=xEnd||mX2>=xStart&&mX2<=xEnd||mX3>=xStart&&mX3<=xEnd||xStart>=mX1&&xStart<=mX3;}/** @private */function sum(values){var sum=0;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=values[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var value=_step.value;sum+=value;}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}return sum;}/** @private */function subArraySum(values,first,last,index,series){var sum=0;if(index!==null){for(var i=first+1;i<last;i++){if(index.indexOf(i)===-1){sum+=values[i][series.yName];}}}else{for(var _i=first+1;_i<last;_i++){if(!isNullOrUndefined(values[_i][series.yName])){sum+=values[_i][series.yName];}}}return sum;}/** @private */function subtractThickness(rect,thickness){rect.x+=thickness.left;rect.y+=thickness.top;rect.width-=thickness.left+thickness.right;rect.height-=thickness.top+thickness.bottom;return rect;}/** @private */function subtractRect(rect,thickness){rect.x+=thickness.x;rect.y+=thickness.y;rect.width-=thickness.x+thickness.width;rect.height-=thickness.y+thickness.height;return rect;}/** @private */function degreeToLocation(degree,radius,center){var radian=degree*Math.PI/180;return new ChartLocation(Math.cos(radian)*radius+center.x,Math.sin(radian)*radius+center.y);}function getAccumulationLegend(locX,locY,r,height,width,mode){var cartesianlarge=degreeToLocation(270,r,new ChartLocation(locX,locY));var cartesiansmall=degreeToLocation(270,r,new ChartLocation(locX+width/10,locY));return'M'+' '+locX+' '+locY+' '+'L'+' '+(locX+r)+' '+locY+' '+'A'+' '+r+' '+r+' '+0+' '+1+' '+1+' '+cartesianlarge.x+' '+cartesianlarge.y+' '+'Z'+' '+'M'+' '+(locX+width/10)+' '+(locY-height/10)+' '+'L'+(locX+r)+' '+(locY-height/10)+' '+'A'+' '+r+' '+r+' '+0+' '+0+' '+0+' '+cartesiansmall.x+' '+cartesiansmall.y+' '+'Z';}/** @private */function getAngle(center,point){var angle=Math.atan2(point.y-center.y,point.x-center.x);angle=angle<0?6.283+angle:angle;return angle*(180/Math.PI);}/** @private */function subArray(values,index){var subArray=[];for(var i=0;i<=index-1;i++){subArray.push(values[i]);}return subArray;}/** @private */function valueToCoefficient(value,axis){var range=axis.visibleRange;var result=(value-range.min)/range.delta;return axis.isInversed?1-result:result;}/** @private */function TransformToVisible(x,y,xAxis,yAxis,isInverted,series){x=xAxis.valueType==='Logarithmic'?logBase(x>1?x:1,xAxis.logBase):x;y=yAxis.valueType==='Logarithmic'?logBase(y>1?y:1,yAxis.logBase):y;x+=xAxis.valueType==='Category'&&xAxis.labelPlacement==='BetweenTicks'&&series.type!=='Radar'?0.5:0;var radius=series.chart.radius*valueToCoefficient(y,yAxis);var point=CoefficientToVector(valueToPolarCoefficient(x,xAxis),series.chart.primaryXAxis.startAngle);return{x:series.clipRect.width/2+series.clipRect.x+radius*point.x,y:series.clipRect.height/2+series.clipRect.y+radius*point.y};}/**
 * method to find series, point index by element id
 * @private
 */function indexFinder(id){var isPoint=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var ids=['NaN','NaN'];if(id.indexOf('_Point_')>-1){ids=id.split('_Series_')[1].split('_Point_');}else if(id.indexOf('_shape_')>-1&&(!isPoint||isPoint&&id.indexOf('_legend_')===-1)){ids=id.split('_shape_');ids[0]='0';}else if(id.indexOf('_text_')>-1&&(!isPoint||isPoint&&id.indexOf('_legend_')===-1)){ids=id.split('_text_');ids[0]='0';}return new Index(parseInt(ids[0],10),parseInt(ids[1],10));}/** @private */function CoefficientToVector(coefficient,startAngle){startAngle=startAngle<0?startAngle+360:startAngle;var angle=Math.PI*(1.5-2*coefficient);angle=angle+startAngle*Math.PI/180;return{x:Math.cos(angle),y:Math.sin(angle)};}/** @private */function valueToPolarCoefficient(value,axis){var range=axis.visibleRange;var delta=void 0;var length=void 0;if(axis.valueType!=='Category'){delta=range.max-(axis.valueType==='DateTime'?axis.dateTimeInterval:range.interval)-range.min;length=axis.visibleLabels.length-1;delta=delta===0?1:delta;}else{delta=range.delta;length=axis.visibleLabels.length;}return axis.isInversed?(value-range.min)/delta*(1-1/length):1-(value-range.min)/delta*(1-1/length);}/** @private *//** @private */function createTooltip(id,text,top,left,fontSize){var tooltip=getElement(id);var style='top:'+top.toString()+'px;'+'left:'+left.toString()+'px;'+'color:black !important'+'background:#FFFFFF !important'+';'+'position:absolute;border:1px solid #707070;font-size:'+fontSize+';border-radius:2px;';if(!tooltip){tooltip=createElement('div',{id:id,innerHTML:'&nbsp;'+text+'&nbsp;',styles:style});document.body.appendChild(tooltip);}else{tooltip.setAttribute('innerHTML','&nbsp;'+text+'&nbsp;');tooltip.setAttribute('styles',style);}}/** @private */function createZoomingLabels(chart,axis,parent,index,isVertical,rect){var margin=5;var opposedPosition=axis.opposedPosition;var anchor=isVertical?'start':'auto';var size=void 0;var chartRect=chart.availableSize.width;var x=void 0;var y=void 0;var rx=3;var arrowLocation=void 0;var direction=void 0;for(var i=0;i<2;i++){size=measureText(i?axis.endLabel:axis.startLabel,axis.labelStyle);if(isVertical){arrowLocation=i?new ChartLocation(rect.x,rect.y+rx):new ChartLocation(axis.rect.x,rect.y+rect.height-rx);x=rect.x+(opposedPosition?rect.width+margin:-(size.width+margin+margin));y=rect.y+(i?0:rect.height-size.height-margin);x+=x<0||chartRect<x+size.width+margin?opposedPosition?-(size.width/2):size.width/2:0;direction=findDirection(rx,rx,new Rect(x,y,size.width+margin,size.height+margin),arrowLocation,margin,false,false,!opposedPosition,arrowLocation.x,arrowLocation.y+(i?-rx:rx));}else{arrowLocation=i?new ChartLocation(rect.x+rect.width-rx,rect.y+rect.height):new ChartLocation(rect.x+rx,rect.y+rect.height);x=rect.x+(i?rect.width-size.width-margin:0);y=opposedPosition?rect.y-size.height-10:rect.y+rect.height+margin;direction=findDirection(rx,rx,new Rect(x,y,size.width+margin,size.height+margin),arrowLocation,margin,opposedPosition,!opposedPosition,false,arrowLocation.x+(i?rx:-rx),arrowLocation.y);}x=x+margin/2;y=y+3*(size.height/4)+margin/2;parent.appendChild(chart.renderer.drawPath(new PathOption(chart.element.id+'_Zoom_'+index+'_AxisLabel_Shape_'+i,chart.themeStyle.crosshairFill,2,chart.themeStyle.crosshairFill,1,null,direction)));textElement(new TextOption(chart.element.id+'_Zoom_'+index+'_AxisLabel_'+i,x,y,anchor,i?axis.endLabel:axis.startLabel),{color:chart.themeStyle.crosshairLabel,fontFamily:'Segoe UI',fontWeight:'Regular',size:'11px'},chart.themeStyle.crosshairLabel,parent);}return parent;}//Within bounds
/** @private */function withInBounds(x,y,bounds){var width=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var height=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;return x>=bounds.x-width&&x<=bounds.x+bounds.width+width&&y>=bounds.y-height&&y<=bounds.y+bounds.height+height;}/** @private */function getValueXByPoint(value,size,axis){var actualValue=!axis.isInversed?value/size:1-value/size;return actualValue*axis.visibleRange.delta+axis.visibleRange.min;}/** @private */function getValueYByPoint(value,size,axis){var actualValue=axis.isInversed?value/size:1-value/size;return actualValue*axis.visibleRange.delta+axis.visibleRange.min;}/** @private */function findClipRect(series){var rect=series.clipRect;if(series.chart.requireInvertedAxis){rect.x=series.yAxis.rect.x;rect.y=series.xAxis.rect.y;rect.width=series.yAxis.rect.width;rect.height=series.xAxis.rect.height;}else{rect.x=series.xAxis.rect.x;rect.y=series.yAxis.rect.y;rect.width=series.xAxis.rect.width;rect.height=series.yAxis.rect.height;}}/** @private */function firstToLowerCase(str){return str.substr(0,1).toLowerCase()+str.substr(1);}/** @private */function getMinPointsDelta(axis,seriesCollection){var minDelta=Number.MAX_VALUE;var xValues=void 0;var minVal=void 0;seriesCollection.forEach(function(series,index){xValues=[];if(series.visible&&(axis.name===series.xAxisName||axis.name==='primaryXAxis'&&series.xAxisName===null||axis.name===series.chart.primaryXAxis.name&&!series.xAxisName)){xValues=series.points.map(function(point,index){return point.xValue;});xValues.sort(function(first,second){return first-second;});if(xValues.length===1){minVal=xValues[0]-(series.xMin&&series.xAxis.valueType!=='DateTime'?series.xMin:axis.visibleRange.min);if(minVal!==0){minDelta=Math.min(minDelta,minVal);}}else{xValues.forEach(function(value,index,xValues){if(index>0&&value){minVal=value-xValues[index-1];if(minVal!==0){minDelta=Math.min(minDelta,minVal);}}});}}});if(minDelta===Number.MAX_VALUE){minDelta=1;}return minDelta;}/** @private */function getAnimationFunction(effect){var functionName=void 0;switch(effect){case'Linear':functionName=linear;break;}return functionName;}/**
 * Animation Effect Calculation Started Here
 * @param currentTime
 * @param startValue
 * @param endValue
 * @param duration
 * @private
 */function linear(currentTime,startValue,endValue,duration){return-endValue*Math.cos(currentTime/duration*(Math.PI/2))+endValue+startValue;}/**
 * Animation Effect Calculation End
 * @private
 */function markerAnimate(element,delay,duration,series,pointIndex,point,isLabel){var centerX=point.x;var centerY=point.y;var height=0;element.style.visibility='hidden';new Animation({}).animate(element,{duration:duration,delay:delay,progress:function progress(args){if(args.timeStamp>args.delay){args.element.style.visibility='visible';height=(args.timeStamp-args.delay)/args.duration;element.setAttribute('transform','translate('+centerX+' '+centerY+') scale('+height+') translate('+-centerX+' '+-centerY+')');}},end:function end(model){element.style.visibility='';element.removeAttribute('transform');if((series.type==='Scatter'||series.type==='Bubble')&&!isLabel&&pointIndex===series.points.length-1){series.chart.trigger('animationComplete',{series:series});}}});}/**
 * Animation for template
 * @private
 */function templateAnimate(element,delay,duration,name,isRemove){new Animation({}).animate(element,{duration:duration,delay:delay,name:name,progress:function progress(args){args.element.style.visibility='visible';},end:function end(args){if(isRemove){remove(args.element);}else{args.element.style.visibility='visible';}}});}/** @private */function drawSymbol(location,shape,size,url,options,label){var renderer=new SvgRenderer('');var temp=calculateShapes(location,size,shape,options,url);var htmlObject=renderer['draw'+temp.functionName](temp.renderOption);htmlObject.setAttribute('aria-label',label);return htmlObject;}/** @private */function calculateShapes(location,size,shape,options,url){var path=void 0;var functionName='Path';var width=size.width;var height=size.height;var locX=location.x;var locY=location.y;var x=location.x+-width/2;var y=location.y+-height/2;switch(shape){case'Circle':case'Bubble':functionName='Ellipse';merge(options,{'rx':width/2,'ry':height/2,'cx':locX,'cy':locY});break;case'Cross':path='M'+' '+x+' '+locY+' '+'L'+' '+(locX+width/2)+' '+locY+' '+'M'+' '+locX+' '+(locY+height/2)+' '+'L'+' '+locX+' '+(locY+-height/2);merge(options,{'d':path});break;case'HorizontalLine':path='M'+' '+x+' '+locY+' '+'L'+' '+(locX+width/2)+' '+locY;merge(options,{'d':path});break;case'VerticalLine':path='M'+' '+locX+' '+(locY+height/2)+' '+'L'+' '+locX+' '+(locY+-height/2);merge(options,{'d':path});break;case'Diamond':path='M'+' '+x+' '+locY+' '+'L'+' '+locX+' '+(locY+-height/2)+' '+'L'+' '+(locX+width/2)+' '+locY+' '+'L'+' '+locX+' '+(locY+height/2)+' '+'L'+' '+x+' '+locY+' z';merge(options,{'d':path});break;case'Rectangle':case'Hilo':case'HiloOpenClose':case'Candle':case'Waterfall':case'BoxAndWhisker':case'StepArea':path='M'+' '+x+' '+(locY+-height/2)+' '+'L'+' '+(locX+width/2)+' '+(locY+-height/2)+' '+'L'+' '+(locX+width/2)+' '+(locY+height/2)+' '+'L'+' '+x+' '+(locY+height/2)+' '+'L'+' '+x+' '+(locY+-height/2)+' z';merge(options,{'d':path});break;case'Pyramid':case'Triangle':path='M'+' '+x+' '+(locY+height/2)+' '+'L'+' '+locX+' '+(locY+-height/2)+' '+'L'+' '+(locX+width/2)+' '+(locY+height/2)+' '+'L'+' '+x+' '+(locY+height/2)+' z';merge(options,{'d':path});break;case'Funnel':case'InvertedTriangle':path='M'+' '+(locX+width/2)+' '+(locY-height/2)+' '+'L'+' '+locX+' '+(locY+height/2)+' '+'L'+' '+(locX-width/2)+' '+(locY-height/2)+' '+'L'+' '+(locX+width/2)+' '+(locY-height/2)+' z';merge(options,{'d':path});break;case'Pentagon':var eq=72;var xValue=void 0;var yValue=void 0;for(var i=0;i<=5;i++){xValue=width/2*Math.cos(Math.PI/180*(i*eq));yValue=height/2*Math.sin(Math.PI/180*(i*eq));if(i===0){path='M'+' '+(locX+xValue)+' '+(locY+yValue)+' ';}else{path=path.concat('L'+' '+(locX+xValue)+' '+(locY+yValue)+' ');}}path=path.concat('Z');merge(options,{'d':path});break;case'Image':functionName='Image';merge(options,{'href':url,'height':height,'width':width,x:x,y:y});break;}options=calculateLegendShapes(location,new Size(width,height),shape,options).renderOption;return{renderOption:options,functionName:functionName};}/** @private */function getRectLocation(startLocation,endLocation,outerRect){var x=void 0;var y=void 0;x=endLocation.x<outerRect.x?outerRect.x:endLocation.x>outerRect.x+outerRect.width?outerRect.x+outerRect.width:endLocation.x;y=endLocation.y<outerRect.y?outerRect.y:endLocation.y>outerRect.y+outerRect.height?outerRect.y+outerRect.height:endLocation.y;return new Rect(x>startLocation.x?startLocation.x:x,y>startLocation.y?startLocation.y:y,Math.abs(x-startLocation.x),Math.abs(y-startLocation.y));}/** @private */function minMax(value,min,max){return value>max?max:value<min?min:value;}/** @private */function getElement(id){return document.getElementById(id);}/** @private */function getTemplateFunction(template){var templateFn=null;try{if(document.querySelectorAll(template).length){templateFn=compile(document.querySelector(template).innerHTML.trim());}}catch(e){templateFn=compile(template);}return templateFn;}/** @private */function createTemplate(childElement,pointIndex,content,chart,point,series){var templateFn=void 0;var templateElement=void 0;templateFn=getTemplateFunction(content);try{if(templateFn&&templateFn({chart:chart,series:series,point:point}).length){templateElement=templateFn({chart:chart,series:series,point:point});while(templateElement.length>0){childElement.appendChild(templateElement[0]);}}}catch(e){return childElement;}return childElement;}/** @private */function getFontStyle(font){var style='';style='font-size:'+font.size+'; font-style:'+font.fontStyle+'; font-weight:'+font.fontWeight+'; font-family:'+font.fontFamily+';opacity:'+font.opacity+'; color:'+font.color+';';return style;}/** @private */function measureElementRect(element){var bounds=void 0;document.body.appendChild(element);bounds=element.getBoundingClientRect();removeElement(element.id);return bounds;}/** @private */function findlElement(elements,id){var element=void 0;for(var i=0,length=elements.length;i<length;i++){if(elements[i].id.indexOf(id)>-1){element=elements[i];continue;}}return element;}/** @private */function getPoint(x,y,xAxis,yAxis,isInverted,series){x=xAxis.valueType==='Logarithmic'?logBase(x>1?x:1,xAxis.logBase):x;y=yAxis.valueType==='Logarithmic'?logBase(y>1?y:1,yAxis.logBase):y;x=valueToCoefficient(x,xAxis);y=valueToCoefficient(y,yAxis);var xLength=isInverted?xAxis.rect.height:xAxis.rect.width;var yLength=isInverted?yAxis.rect.width:yAxis.rect.height;var locationX=isInverted?y*yLength:x*xLength;var locationY=isInverted?(1-x)*xLength:(1-y)*yLength;return new ChartLocation(locationX,locationY);}/** @private */function appendElement(child,parent){if(child&&child.hasChildNodes()&&parent){parent.appendChild(child);}else{return null;}}/** @private */function getDraggedRectLocation(x1,y1,x2,y2,outerRect){var width=Math.abs(x1-x2);var height=Math.abs(y1-y2);var x=Math.max(checkBounds(Math.min(x1,x2),width,outerRect.x,outerRect.width),outerRect.x);var y=Math.max(checkBounds(Math.min(y1,y2),height,outerRect.y,outerRect.height),outerRect.y);return new Rect(x,y,Math.min(width,outerRect.width),Math.min(height,outerRect.height));}/** @private */function checkBounds(start,size,min,max){if(start<min){start=min;}else if(start+size>max+min){start=max+min-size;}return start;}/** @private */function getLabelText(currentPoint,series,chart){var labelFormat=series.yAxis.labelFormat;var text=[];var customLabelFormat=labelFormat.match('{value}')!==null;switch(series.seriesType){case'XY':text.push(currentPoint.text||currentPoint.yValue.toString());break;case'HighLow':text.push(currentPoint.text||Math.max(currentPoint.high,currentPoint.low).toString());text.push(currentPoint.text||Math.min(currentPoint.high,currentPoint.low).toString());break;case'HighLowOpenClose':text.push(currentPoint.text||Math.max(currentPoint.high,currentPoint.low).toString());text.push(currentPoint.text||Math.min(currentPoint.high,currentPoint.low).toString());text.push(currentPoint.text||Math.max(currentPoint.open,currentPoint.close).toString());text.push(currentPoint.text||Math.min(currentPoint.open,currentPoint.close).toString());break;case'BoxPlot':text.push(currentPoint.text||currentPoint.median.toString());text.push(currentPoint.text||currentPoint.maximum.toString());text.push(currentPoint.text||currentPoint.minimum.toString());text.push(currentPoint.text||currentPoint.upperQuartile.toString());text.push(currentPoint.text||currentPoint.lowerQuartile.toString());var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=currentPoint.outliers[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var liers=_step2.value;text.push(currentPoint.text||liers.toString());}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}break;}if(labelFormat&&!currentPoint.text){for(var i=0;i<text.length;i++){text[i]=customLabelFormat?labelFormat.replace('{value}',series.yAxis.format(parseFloat(text[i]))):series.yAxis.format(parseFloat(text[i]));}}return text;}/** @private */function stopTimer(timer){window.clearInterval(timer);}/** @private */function isCollide(rect,collections,clipRect){var isCollide=void 0;var currentRect=new Rect(rect.x+clipRect.x,rect.y+clipRect.y,rect.width,rect.height);isCollide=collections.some(function(rect){return currentRect.x<rect.x+rect.width&&currentRect.x+currentRect.width>rect.x&&currentRect.y<rect.y+rect.height&&currentRect.height+currentRect.y>rect.y;});return isCollide;}/** @private */function isOverlap(currentRect,rect){return currentRect.x<rect.x+rect.width&&currentRect.x+currentRect.width>rect.x&&currentRect.y<rect.y+rect.height&&currentRect.height+currentRect.y>rect.y;}/** @private */function containsRect(currentRect,rect){return currentRect.x<=rect.x&&currentRect.x+currentRect.width>=rect.x+rect.width&&currentRect.y<=rect.y&&currentRect.height+currentRect.y>=rect.y+rect.height;}/** @private */function calculateRect(location,textSize,margin){return new Rect(location.x-textSize.width/2-margin.left,location.y-textSize.height/2-margin.top,textSize.width+margin.left+margin.right,textSize.height+margin.top+margin.bottom);}/** @private */function convertToHexCode(value){return'#'+componentToHex(value.r)+componentToHex(value.g)+componentToHex(value.b);}/** @private */function componentToHex(value){var hex=value.toString(16);return hex.length===1?'0'+hex:hex;}/** @private */function convertHexToColor(hex){var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?new ColorValue(parseInt(result[1],16),parseInt(result[2],16),parseInt(result[3],16)):new ColorValue(255,255,255);}/** @private */function colorNameToHex(color){var element=void 0;color=color==='transparent'?'white':color;element=document.getElementById('chartmeasuretext');element.style.color=color;color=window.getComputedStyle(element).color;var exp=/^(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/;var isRGBValue=exp.exec(color);return convertToHexCode(new ColorValue(parseInt(isRGBValue[3],10),parseInt(isRGBValue[4],10),parseInt(isRGBValue[5],10)));}/** @private */function getSaturationColor(color,factor){color=colorNameToHex(color);color=color.replace(/[^0-9a-f]/gi,'');if(color.length<6){color=color[0]+color[0]+color[1]+color[1]+color[2]+color[2];}factor=factor||0;// convert to decimal and change luminosity
var rgb='#';var colorCode=void 0;for(var i=0;i<3;i++){colorCode=parseInt(color.substr(i*2,2),16);colorCode=Math.round(Math.min(Math.max(0,colorCode+colorCode*factor),255));rgb+=('00'+colorCode.toString(16)).substr(colorCode.toString(16).length);}return rgb;}/** @private */function getMedian(values){var half=Math.floor(values.length/2);return values.length%2?values[half]:(values[half-1]+values[half])/2.0;}/** @private */// tslint:disable-next-line:max-func-body-length
function calculateLegendShapes(location,size,shape,options){var padding=10;var path='';var height=size.height;var width=size.width;var locX=location.x;var locY=location.y;switch(shape){case'MultiColoredLine':case'Line':path='M'+' '+(locX+-width/2)+' '+locY+' '+'L'+' '+(locX+width/2)+' '+locY;merge(options,{'d':path});break;case'StepLine':options.fill='transparent';path='M'+' '+(locX+-width/2-padding/4)+' '+(locY+height/2)+' '+'L'+' '+(locX+-width/2+width/10)+' '+(locY+height/2)+' '+'L'+' '+(locX+-width/2+width/10)+' '+locY+' '+'L'+' '+(locX+-width/10)+' '+locY+' '+'L'+' '+(locX+-width/10)+' '+(locY+height/2)+' '+'L'+' '+(locX+width/5)+' '+(locY+height/2)+' '+'L'+' '+(locX+width/5)+' '+(locY+-height/2)+' '+'L'+' '+(locX+width/2)+' '+(locY+-height/2)+'L'+' '+(locX+width/2)+' '+(locY+height/2)+' '+'L'+''+(locX+width/2+padding/4)+' '+(locY+height/2);merge(options,{'d':path});break;case'RightArrow':var space=2;path='M'+' '+(locX+-width/2)+' '+(locY-height/2)+' '+'L'+' '+(locX+width/2)+' '+locY+' '+'L'+' '+(locX+-width/2)+' '+(locY+height/2)+' L'+' '+(locX+-width/2)+' '+(locY+height/2-space)+' '+'L'+' '+(locX+width/2-2*space)+' '+locY+' L'+(locX+-width/2)+' '+(locY-height/2+space)+' Z';merge(options,{'d':path});break;case'LeftArrow':options.fill=options.stroke;options.stroke='transparent';space=2;path='M'+' '+(locX+width/2)+' '+(locY-height/2)+' '+'L'+' '+(locX+-width/2)+' '+locY+' '+'L'+' '+(locX+width/2)+' '+(locY+height/2)+' '+'L'+' '+(locX+width/2)+' '+(locY+height/2-space)+' L'+' '+(locX+-width/2+2*space)+' '+locY+' L'+(locX+width/2)+' '+(locY-height/2+space)+' Z';merge(options,{'d':path});break;case'Column':case'StackingColumn':case'StackingColumn100':case'RangeColumn':path='M'+' '+(locX-3*(width/5))+' '+(locY-height/5)+' '+'L'+' '+(locX+3*(-width/10))+' '+(locY-height/5)+' '+'L'+' '+(locX+3*(-width/10))+' '+(locY+height/2)+' '+'L'+' '+(locX-3*(width/5))+' '+(locY+height/2)+' '+'Z'+' '+'M'+' '+(locX+-width/10-width/20)+' '+(locY-height/4-padding/2)+' '+'L'+' '+(locX+width/10+width/20)+' '+(locY-height/4-padding/2)+' '+'L'+' '+(locX+width/10+width/20)+' '+(locY+height/2)+' '+'L'+' '+(locX+-width/10-width/20)+' '+(locY+height/2)+' '+'Z'+' '+'M'+' '+(locX+3*(width/10))+' '+locY+' '+'L'+' '+(locX+3*(width/5))+' '+locY+' '+'L'+' '+(locX+3*(width/5))+' '+(locY+height/2)+' '+'L'+' '+(locX+3*(width/10))+' '+(locY+height/2)+' '+'Z';merge(options,{'d':path});break;case'Bar':case'StackingBar':case'StackingBar100':path='M'+' '+(locX+-width/2+-padding/4)+' '+(locY-3*(height/5))+' '+'L'+' '+(locX+3*(width/10))+' '+(locY-3*(height/5))+' '+'L'+' '+(locX+3*(width/10))+' '+(locY-3*(height/10))+' '+'L'+' '+(locX-width/2+-padding/4)+' '+(locY-3*(height/10))+' '+'Z'+' '+'M'+' '+(locX+-width/2+-padding/4)+' '+(locY-height/5+padding/20)+' '+'L'+' '+(locX+width/2+padding/4)+' '+(locY-height/5+padding/20)+' '+'L'+' '+(locX+width/2+padding/4)+' '+(locY+height/10+padding/20)+' '+'L'+' '+(locX-width/2+-padding/4)+' '+(locY+height/10+padding/20)+' '+'Z'+' '+'M'+' '+(locX-width/2+-padding/4)+' '+(locY+height/5+padding/10)+' '+'L'+' '+(locX+-width/4)+' '+(locY+height/5+padding/10)+' '+'L'+' '+(locX+-width/4)+' '+(locY+height/2+padding/10)+' '+'L'+' '+(locX-width/2+-padding/4)+' '+(locY+height/2+padding/10)+' '+'Z';merge(options,{'d':path});break;case'Spline':options.fill='transparent';path='M'+' '+(locX-width/2)+' '+(locY+height/5)+' '+'Q'+' '+locX+' '+(locY-height)+' '+locX+' '+(locY+height/5)+' '+'M'+' '+locX+' '+(locY+height/5)+' '+'Q'+' '+(locX+width/2)+' '+(locY+height/2)+' '+(locX+width/2)+' '+(locY-height/2);merge(options,{'d':path});break;case'Area':case'MultiColoredArea':case'RangeArea':case'StackingArea':case'StackingArea100':path='M'+' '+(locX-width/2-padding/4)+' '+(locY+height/2)+' '+'L'+' '+(locX+-width/4+-padding/8)+' '+(locY-height/2)+' '+'L'+' '+locX+' '+(locY+height/4)+' '+'L'+' '+(locX+width/4+padding/8)+' '+(locY+-height/2+height/4)+' '+'L'+' '+(locX+height/2+padding/4)+' '+(locY+height/2)+' '+'Z';merge(options,{'d':path});break;case'SplineArea':path='M'+' '+(locX-width/2)+' '+(locY+height/5)+' '+'Q'+' '+locX+' '+(locY-height)+' '+locX+' '+(locY+height/5)+' '+'Z'+' '+'M'+' '+locX+' '+(locY+height/5)+' '+'Q'+' '+(locX+width/2)+' '+(locY+height/2)+' '+(locX+width/2)+' '+(locY-height/2)+' '+' Z';merge(options,{'d':path});break;case'Pie':case'Doughnut':options.stroke='transparent';var r=Math.min(height,width)/2;path=getAccumulationLegend(locX,locY,r,height,width,shape);merge(options,{'d':path});break;}return{renderOption:options};}/** @private */function textTrim(maxWidth,text,font){var label=text;var size=measureText(text,font).width;if(size>maxWidth){var textLength=text.length;for(var i=textLength-1;i>=0;--i){label=text.substring(0,i)+'...';size=measureText(label,font).width;if(size<=maxWidth){return label;}}}return label;}/** @private */function stringToNumber(value,containerSize){if(value!==null&&value!==undefined){return value.indexOf('%')!==-1?containerSize/100*parseInt(value,10):parseInt(value,10);}return null;}/** @private */function findDirection(rX,rY,rect,arrowLocation,arrowPadding,top,bottom,left,tipX,tipY,tipRadius){var direction='';var startX=rect.x;var startY=rect.y;var width=rect.x+rect.width;var height=rect.y+rect.height;tipRadius=tipRadius?tipRadius:0;if(top){direction=direction.concat('M'+' '+startX+' '+(startY+rY)+' Q '+startX+' '+startY+' '+(startX+rX)+' '+startY+' '+' L'+' '+(width-rX)+' '+startY+' Q '+width+' '+startY+' '+width+' '+(startY+rY));direction=direction.concat(' L'+' '+width+' '+(height-rY)+' Q '+width+' '+height+' '+(width-rX)+' '+height);if(arrowPadding!==0){direction=direction.concat(' L'+' '+(arrowLocation.x+arrowPadding/2)+' '+height);direction=direction.concat(' L'+' '+(tipX+tipRadius)+' '+(height+arrowPadding-tipRadius));direction+=' Q'+' '+tipX+' '+(height+arrowPadding)+' '+(tipX-tipRadius)+' '+(height+arrowPadding-tipRadius);}if(arrowLocation.x-arrowPadding/2>startX){direction=direction.concat(' L'+' '+(arrowLocation.x-arrowPadding/2)+' '+height+' L'+' '+(startX+rX)+' '+height+' Q '+startX+' '+height+' '+startX+' '+(height-rY)+' z');}else{if(arrowPadding===0){direction=direction.concat(' L'+' '+(startX+rX)+' '+height+' Q '+startX+' '+height+' '+startX+' '+(height-rY)+' z');}else{direction=direction.concat(' L'+' '+startX+' '+(height+rY)+' z');}}}else if(bottom){direction=direction.concat('M'+' '+startX+' '+(startY+rY)+' Q '+startX+' '+startY+' '+(startX+rX)+' '+startY+' L'+' '+(arrowLocation.x-arrowPadding/2)+' '+startY);direction=direction.concat(' L'+' '+(tipX-tipRadius)+' '+(arrowLocation.y+tipRadius));direction+=' Q'+' '+tipX+' '+arrowLocation.y+' '+(tipX+tipRadius)+' '+(arrowLocation.y+tipRadius);direction=direction.concat(' L'+' '+(arrowLocation.x+arrowPadding/2)+' '+startY+' L'+' '+(width-rX)+' '+startY+' Q '+width+' '+startY+' '+width+' '+(startY+rY));direction=direction.concat(' L'+' '+width+' '+(height-rY)+' Q '+width+' '+height+' '+(width-rX)+' '+height+' L'+' '+(startX+rX)+' '+height+' Q '+startX+' '+height+' '+startX+' '+(height-rY)+' z');}else if(left){direction=direction.concat('M'+' '+startX+' '+(startY+rY)+' Q '+startX+' '+startY+' '+(startX+rX)+' '+startY);direction=direction.concat(' L'+' '+(width-rX)+' '+startY+' Q '+width+' '+startY+' '+width+' '+(startY+rY)+' L'+' '+width+' '+(arrowLocation.y-arrowPadding/2));direction=direction.concat(' L'+' '+(width+arrowPadding-tipRadius)+' '+(tipY-tipRadius));direction+=' Q '+(width+arrowPadding)+' '+tipY+' '+(width+arrowPadding-tipRadius)+' '+(tipY+tipRadius);direction=direction.concat(' L'+' '+width+' '+(arrowLocation.y+arrowPadding/2)+' L'+' '+width+' '+(height-rY)+' Q '+width+' '+height+' '+(width-rX)+' '+height);direction=direction.concat(' L'+' '+(startX+rX)+' '+height+' Q '+startX+' '+height+' '+startX+' '+(height-rY)+' z');}else{direction=direction.concat('M'+' '+(startX+rX)+' '+startY+' Q '+startX+' '+startY+' '+startX+' '+(startY+rY)+' L'+' '+startX+' '+(arrowLocation.y-arrowPadding/2));direction=direction.concat(' L'+' '+(startX-arrowPadding+tipRadius)+' '+(tipY-tipRadius));direction+=' Q '+(startX-arrowPadding)+' '+tipY+' '+(startX-arrowPadding+tipRadius)+' '+(tipY+tipRadius);direction=direction.concat(' L'+' '+startX+' '+(arrowLocation.y+arrowPadding/2)+' L'+' '+startX+' '+(height-rY)+' Q '+startX+' '+height+' '+(startX+rX)+' '+height);direction=direction.concat(' L'+' '+(width-rX)+' '+height+' Q '+width+' '+height+' '+width+' '+(height-rY)+' L'+' '+width+' '+(startY+rY)+' Q '+width+' '+startY+' '+(width-rX)+' '+startY+' z');}return direction;}/** @private */function textElement(options,font,color,parent){var isMinus=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var renderOptions={};var htmlObject=void 0;var tspanElement=void 0;var renderer=new SvgRenderer('');var text=void 0;var height=void 0;renderOptions={'id':options.id,'x':options.x,'y':options.y,'fill':color,'font-size':font.size,'font-style':font.fontStyle,'font-family':font.fontFamily,'font-weight':font.fontWeight,'text-anchor':options.anchor,'transform':options.transform,'opacity':font.opacity,'dominant-baseline':options.baseLine};text=typeof options.text==='string'?options.text:isMinus?options.text[options.text.length-1]:options.text[0];htmlObject=renderer.createText(renderOptions,text);if(typeof options.text!=='string'&&options.text.length>1){for(var i=1,len=options.text.length;i<len;i++){height=measureText(options.text[i],font).height;tspanElement=renderer.createTSpan({'x':options.x,'id':options.id,'y':options.y+(isMinus?-(i*height):i*height)},isMinus?options.text[options.text.length-(i+1)]:options.text[i]);htmlObject.appendChild(tspanElement);}}parent.appendChild(htmlObject);return htmlObject;}/**
 * Method to calculate the width and height of the chart
 */function calculateSize(chart){var containerWidth=chart.element.clientWidth;var containerHeight=chart.element.clientHeight;chart.availableSize=new Size(stringToNumber(chart.width,containerWidth)||containerWidth||600,stringToNumber(chart.height,containerHeight)||containerHeight||450);}function createSvg(chart){chart.renderer=new SvgRenderer(chart.element.id);calculateSize(chart);chart.svgObject=chart.renderer.createSvg({id:chart.element.id+'_svg',width:chart.availableSize.width,height:chart.availableSize.height});}/**
 * To calculate chart title and height
 * @param title
 * @param style
 * @param width
 */function getTitle(title,style,width){var titleCollection=[];switch(style.textOverflow){case'Wrap':titleCollection=textWrap(title,width,style);break;case'Trim':titleCollection.push(textTrim(width,title,style));break;default:titleCollection.push(title);break;}return titleCollection;}/**
 * Method to calculate x position of title
 */function titlePositionX(chartSize,leftPadding,rightPadding,titleStyle){var positionX=void 0;if(titleStyle.textAlignment==='Near'){positionX=leftPadding;}else if(titleStyle.textAlignment==='Center'){positionX=chartSize.width/2;}else{positionX=chartSize.width-rightPadding;}return positionX;}/**
 * Method to find new text and element size based on textOverflow
 */function textWrap(currentLabel,maximumWidth,font){var textCollection=currentLabel.split(' ');var label='';var labelCollection=[];var text=void 0;for(var i=0,len=textCollection.length;i<len;i++){text=textCollection[i];if(measureText(label.concat(text),font).width<maximumWidth){label=label.concat((label===''?'':' ')+text);}else{if(label!==''){labelCollection.push(textTrim(maximumWidth,label,font));label=text;}else{labelCollection.push(textTrim(maximumWidth,text,font));text='';}}if(label&&i===len-1){labelCollection.push(textTrim(maximumWidth,label,font));}}return labelCollection;}/** @private *//**
 * method to get series from index
 * @private
 */function getSeriesFromIndex(index,visibleSeries){var _iteratorNormalCompletion113=true;var _didIteratorError113=false;var _iteratorError113=undefined;try{for(var _iterator113=visibleSeries[Symbol.iterator](),_step113;!(_iteratorNormalCompletion113=(_step113=_iterator113.next()).done);_iteratorNormalCompletion113=true){var series=_step113.value;if(index===series.index){return series;}}}catch(err){_didIteratorError113=true;_iteratorError113=err;}finally{try{if(!_iteratorNormalCompletion113&&_iterator113.return){_iterator113.return();}}finally{if(_didIteratorError113){throw _iteratorError113;}}}return visibleSeries[0];}/**
 * method to get point from index
 * @private
 */function pointByIndex(index,points){var _iteratorNormalCompletion114=true;var _didIteratorError114=false;var _iteratorError114=undefined;try{for(var _iterator114=points[Symbol.iterator](),_step114;!(_iteratorNormalCompletion114=(_step114=_iterator114.next()).done);_iteratorNormalCompletion114=true){var point=_step114.value;if(point.index===index){return point;}}}catch(err){_didIteratorError114=true;_iteratorError114=err;}finally{try{if(!_iteratorNormalCompletion114&&_iterator114.return){_iterator114.return();}}finally{if(_didIteratorError114){throw _iteratorError114;}}}return null;}/**
 * Defines the common functionalities of accumulation series
 *//**
 * Accumulation Base used to do some base calculation for accumulation chart.
 */return{setters:[function(_syncfusionEj2Base){Animation=_syncfusionEj2Base.Animation;Browser=_syncfusionEj2Base.Browser;ChildProperty=_syncfusionEj2Base.ChildProperty;Collection=_syncfusionEj2Base.Collection;Complex=_syncfusionEj2Base.Complex;Component=_syncfusionEj2Base.Component;Event=_syncfusionEj2Base.Event;EventHandler=_syncfusionEj2Base.EventHandler;Internationalization=_syncfusionEj2Base.Internationalization;L10n=_syncfusionEj2Base.L10n;NotifyPropertyChanges=_syncfusionEj2Base.NotifyPropertyChanges;Property=_syncfusionEj2Base.Property;SvgRenderer=_syncfusionEj2Base.SvgRenderer;Touch=_syncfusionEj2Base.Touch;compile=_syncfusionEj2Base.compile;createElement=_syncfusionEj2Base.createElement;extend=_syncfusionEj2Base.extend;getValue=_syncfusionEj2Base.getValue;isNullOrUndefined=_syncfusionEj2Base.isNullOrUndefined;merge=_syncfusionEj2Base.merge;_print=_syncfusionEj2Base.print;remove=_syncfusionEj2Base.remove;},function(_syncfusionEj2Data){DataManager=_syncfusionEj2Data.DataManager;DataUtil=_syncfusionEj2Data.DataUtil;Query=_syncfusionEj2Data.Query;},function(_syncfusionEj2PdfExport){PdfBitmap=_syncfusionEj2PdfExport.PdfBitmap;PdfDocument=_syncfusionEj2PdfExport.PdfDocument;PdfPageOrientation=_syncfusionEj2PdfExport.PdfPageOrientation;}],execute:function(){_get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();_typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};(function(Theme){/** @private */Theme.axisLabelFont={size:'12px',fontWeight:'Normal',color:null,fontStyle:'Normal',fontFamily:'Segoe UI'};/** @private */Theme.axisTitleFont={size:'14px',fontWeight:'Normal',color:null,fontStyle:'Normal',fontFamily:'Segoe UI'};/** @private */Theme.chartTitleFont={size:'15px',fontWeight:'500',color:null,fontStyle:'Normal',fontFamily:'Segoe UI'};/** @private */Theme.crosshairLabelFont={size:'13px',fontWeight:'Normal',color:null,fontStyle:'Normal',fontFamily:'Segoe UI'};/** @private */Theme.tooltipLabelFont={size:'13px',fontWeight:'Normal',color:null,fontStyle:'Normal',fontFamily:'Segoe UI'};/** @private */Theme.legendLabelFont={size:'13px',fontWeight:'Normal',color:null,fontStyle:'Normal',fontFamily:'Segoe UI'};/** @private */Theme.stripLineLabelFont={size:'12px',fontWeight:'Regular',color:'#353535',fontStyle:'Normal',fontFamily:'Segoe UI'};})(Theme||_export2('Theme',Theme={}));__decorate$1=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==='undefined'?'undefined':_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};_export2('Connector',Connector=function(_ChildProperty){_inherits(Connector,_ChildProperty);function Connector(){_classCallCheck(this,Connector);return _possibleConstructorReturn(this,(Connector.__proto__||Object.getPrototypeOf(Connector)).apply(this,arguments));}return Connector;}(ChildProperty));__decorate$1([Property('Line')],Connector.prototype,"type",void 0);__decorate$1([Property(null)],Connector.prototype,"color",void 0);__decorate$1([Property(1)],Connector.prototype,"width",void 0);__decorate$1([Property(null)],Connector.prototype,"length",void 0);__decorate$1([Property('')],Connector.prototype,"dashArray",void 0);/**
 * Configures the fonts in charts.
 */_export2('Font',Font=function(_ChildProperty2){_inherits(Font,_ChildProperty2);function Font(){_classCallCheck(this,Font);return _possibleConstructorReturn(this,(Font.__proto__||Object.getPrototypeOf(Font)).apply(this,arguments));}return Font;}(ChildProperty));__decorate$1([Property('16px')],Font.prototype,"size",void 0);__decorate$1([Property('')],Font.prototype,"color",void 0);__decorate$1([Property('Segoe UI')],Font.prototype,"fontFamily",void 0);__decorate$1([Property('Normal')],Font.prototype,"fontWeight",void 0);__decorate$1([Property('Normal')],Font.prototype,"fontStyle",void 0);__decorate$1([Property(1)],Font.prototype,"opacity",void 0);__decorate$1([Property('Center')],Font.prototype,"textAlignment",void 0);__decorate$1([Property('Trim')],Font.prototype,"textOverflow",void 0);/**
 * Configures the borders in the chart.
 */_export2('Border',Border=function(_ChildProperty3){_inherits(Border,_ChildProperty3);function Border(){_classCallCheck(this,Border);return _possibleConstructorReturn(this,(Border.__proto__||Object.getPrototypeOf(Border)).apply(this,arguments));}return Border;}(ChildProperty));__decorate$1([Property('')],Border.prototype,"color",void 0);__decorate$1([Property(1)],Border.prototype,"width",void 0);/**
 * Configures the chart area.
 */_export2('ChartArea',ChartArea=function(_ChildProperty4){_inherits(ChartArea,_ChildProperty4);function ChartArea(){_classCallCheck(this,ChartArea);return _possibleConstructorReturn(this,(ChartArea.__proto__||Object.getPrototypeOf(ChartArea)).apply(this,arguments));}return ChartArea;}(ChildProperty));__decorate$1([Complex({},Border)],ChartArea.prototype,"border",void 0);__decorate$1([Property('transparent')],ChartArea.prototype,"background",void 0);__decorate$1([Property(1)],ChartArea.prototype,"opacity",void 0);/**
 * Configures the chart margins.
 */_export2('Margin',Margin=function(_ChildProperty5){_inherits(Margin,_ChildProperty5);function Margin(){_classCallCheck(this,Margin);return _possibleConstructorReturn(this,(Margin.__proto__||Object.getPrototypeOf(Margin)).apply(this,arguments));}return Margin;}(ChildProperty));__decorate$1([Property(10)],Margin.prototype,"left",void 0);__decorate$1([Property(10)],Margin.prototype,"right",void 0);__decorate$1([Property(10)],Margin.prototype,"top",void 0);__decorate$1([Property(10)],Margin.prototype,"bottom",void 0);/**
 * Configures the animation behavior for chart series.
 */_export2('Animation',Animation$1=function(_ChildProperty6){_inherits(Animation$1,_ChildProperty6);function Animation$1(){_classCallCheck(this,Animation$1);return _possibleConstructorReturn(this,(Animation$1.__proto__||Object.getPrototypeOf(Animation$1)).apply(this,arguments));}return Animation$1;}(ChildProperty));__decorate$1([Property(true)],Animation$1.prototype,"enable",void 0);__decorate$1([Property(1000)],Animation$1.prototype,"duration",void 0);__decorate$1([Property(0)],Animation$1.prototype,"delay",void 0);/** @private */_export2('Indexes',Indexes=function(_ChildProperty7){_inherits(Indexes,_ChildProperty7);function Indexes(){_classCallCheck(this,Indexes);return _possibleConstructorReturn(this,(Indexes.__proto__||Object.getPrototypeOf(Indexes)).apply(this,arguments));}return Indexes;}(ChildProperty));__decorate$1([Property(0)],Indexes.prototype,"series",void 0);__decorate$1([Property(0)],Indexes.prototype,"point",void 0);/**
 * Column series rounded corner options
 */_export2('CornerRadius',CornerRadius=function(_ChildProperty8){_inherits(CornerRadius,_ChildProperty8);function CornerRadius(){_classCallCheck(this,CornerRadius);return _possibleConstructorReturn(this,(CornerRadius.__proto__||Object.getPrototypeOf(CornerRadius)).apply(this,arguments));}return CornerRadius;}(ChildProperty));__decorate$1([Property(0)],CornerRadius.prototype,"topLeft",void 0);__decorate$1([Property(0)],CornerRadius.prototype,"topRight",void 0);__decorate$1([Property(0)],CornerRadius.prototype,"bottomLeft",void 0);__decorate$1([Property(0)],CornerRadius.prototype,"bottomRight",void 0);/**
 * @private
 */_export2('Index',Index=function Index(seriesIndex,pointIndex){_classCallCheck(this,Index);this.series=seriesIndex;this.point=pointIndex;});_export2('EmptyPointSettings',EmptyPointSettings=function(_ChildProperty9){_inherits(EmptyPointSettings,_ChildProperty9);function EmptyPointSettings(){_classCallCheck(this,EmptyPointSettings);return _possibleConstructorReturn(this,(EmptyPointSettings.__proto__||Object.getPrototypeOf(EmptyPointSettings)).apply(this,arguments));}return EmptyPointSettings;}(ChildProperty));__decorate$1([Property(null)],EmptyPointSettings.prototype,"fill",void 0);__decorate$1([Complex({color:'transparent',width:0},Border)],EmptyPointSettings.prototype,"border",void 0);__decorate$1([Property('Gap')],EmptyPointSettings.prototype,"mode",void 0);/**
 * Configures the ToolTips in the chart.
 */_export2('TooltipSettings',TooltipSettings=function(_ChildProperty10){_inherits(TooltipSettings,_ChildProperty10);function TooltipSettings(){_classCallCheck(this,TooltipSettings);return _possibleConstructorReturn(this,(TooltipSettings.__proto__||Object.getPrototypeOf(TooltipSettings)).apply(this,arguments));}return TooltipSettings;}(ChildProperty));__decorate$1([Property(false)],TooltipSettings.prototype,"enable",void 0);__decorate$1([Property(false)],TooltipSettings.prototype,"shared",void 0);__decorate$1([Property(null)],TooltipSettings.prototype,"fill",void 0);__decorate$1([Property(null)],TooltipSettings.prototype,"header",void 0);__decorate$1([Property(0.75)],TooltipSettings.prototype,"opacity",void 0);__decorate$1([Complex(Theme.tooltipLabelFont,Font)],TooltipSettings.prototype,"textStyle",void 0);__decorate$1([Property(null)],TooltipSettings.prototype,"format",void 0);__decorate$1([Property(null)],TooltipSettings.prototype,"template",void 0);__decorate$1([Property(true)],TooltipSettings.prototype,"enableAnimation",void 0);__decorate$1([Complex({color:'#cccccc',width:0.5},Border)],TooltipSettings.prototype,"border",void 0);_export2('Mean',Mean=function Mean(verticalStandardMean,verticalSquareRoot,horizontalStandardMean,horizontalSquareRoot,verticalMean,horizontalMean){_classCallCheck(this,Mean);this.verticalStandardMean=verticalStandardMean;this.horizontalStandardMean=horizontalStandardMean;this.verticalSquareRoot=verticalSquareRoot;this.horizontalSquareRoot=horizontalSquareRoot;this.verticalMean=verticalMean;this.horizontalMean=horizontalMean;});_export2('PolarArc',PolarArc=function PolarArc(startAngle,endAngle,innerRadius,radius,currentXPosition){_classCallCheck(this,PolarArc);this.startAngle=startAngle;this.endAngle=endAngle;this.innerRadius=innerRadius;this.radius=radius;this.currentXPosition=currentXPosition;});_export2('CustomizeOption',CustomizeOption=function CustomizeOption(id){_classCallCheck(this,CustomizeOption);this.id=id;});_export2('StackValues',StackValues=function StackValues(startValue,endValue){_classCallCheck(this,StackValues);this.startValues=startValue;this.endValues=endValue;});_export2('TextOption',TextOption=function(_CustomizeOption){_inherits(TextOption,_CustomizeOption);function TextOption(id,x,y,anchor,text){var transform=arguments.length>5&&arguments[5]!==undefined?arguments[5]:'';var baseLine=arguments[6];_classCallCheck(this,TextOption);var _this11=_possibleConstructorReturn(this,(TextOption.__proto__||Object.getPrototypeOf(TextOption)).call(this,id));_this11.transform='';_this11.baseLine='auto';_this11.x=x;_this11.y=y;_this11.anchor=anchor;_this11.text=text;_this11.transform=transform;_this11.baseLine=baseLine;return _this11;}return TextOption;}(CustomizeOption));_export2('PathOption',PathOption=function(_CustomizeOption2){_inherits(PathOption,_CustomizeOption2);function PathOption(id,fill,width,color,opacity,dashArray,d){_classCallCheck(this,PathOption);var _this12=_possibleConstructorReturn(this,(PathOption.__proto__||Object.getPrototypeOf(PathOption)).call(this,id));_this12.opacity=opacity;_this12.fill=fill;_this12.stroke=color;_this12['stroke-width']=width;_this12['stroke-dasharray']=dashArray;_this12.d=d;return _this12;}return PathOption;}(CustomizeOption));_export2('RectOption',RectOption=function(_PathOption){_inherits(RectOption,_PathOption);function RectOption(id,fill,border,opacity,rect,rx,ry,transform,dashArray){_classCallCheck(this,RectOption);var _this13=_possibleConstructorReturn(this,(RectOption.__proto__||Object.getPrototypeOf(RectOption)).call(this,id,fill,border.width,border.color,opacity,dashArray));_this13.y=rect.y;_this13.x=rect.x;_this13.height=rect.height;_this13.width=rect.width;_this13.rx=rx?rx:0;_this13.ry=ry?ry:0;_this13.transform=transform?transform:'';return _this13;}return RectOption;}(PathOption));_export2('CircleOption',CircleOption=function(_PathOption2){_inherits(CircleOption,_PathOption2);function CircleOption(id,fill,border,opacity,cx,cy,r){_classCallCheck(this,CircleOption);var _this14=_possibleConstructorReturn(this,(CircleOption.__proto__||Object.getPrototypeOf(CircleOption)).call(this,id,fill,border.width,border.color,opacity));_this14.cy=cy;_this14.cx=cx;_this14.r=r;return _this14;}return CircleOption;}(PathOption));_export2('PolygonOption',PolygonOption=function PolygonOption(id,points,fill){_classCallCheck(this,PolygonOption);this.id=id;this.points=points;this.fill=fill;});_export2('Size',Size=function Size(width,height){_classCallCheck(this,Size);this.width=width;this.height=height;});_export2('Rect',Rect=function Rect(x,y,width,height){_classCallCheck(this,Rect);this.x=x;this.y=y;this.width=width;this.height=height;});_export2('ChartLocation',ChartLocation=function ChartLocation(x,y){_classCallCheck(this,ChartLocation);this.x=x;this.y=y;});_export2('Thickness',Thickness=function Thickness(left,right,top,bottom){_classCallCheck(this,Thickness);this.left=left;this.right=right;this.top=top;this.bottom=bottom;});_export2('ColorValue',ColorValue=function ColorValue(r,g,b){_classCallCheck(this,ColorValue);this.r=r;this.g=g;this.b=b;});_export2('PointData',PointData=function PointData(point,series){var index=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;_classCallCheck(this,PointData);this.point=point;this.series=series;this.lierIndex=index;});_export2('AccPointData',AccPointData=function AccPointData(point,series){var index=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;_classCallCheck(this,AccPointData);this.point=point;this.series=series;});_export2('ControlPoints',ControlPoints=function ControlPoints(controlPoint1,controlPoint2){_classCallCheck(this,ControlPoints);this.controlPoint1=controlPoint1;this.controlPoint2=controlPoint2;});DoubleRange=function(){_createClass(DoubleRange,[{key:'start',get:function get(){return this.mStart;}},{key:'end',get:function get(){return this.mEnd;}},{key:'delta',get:function get(){return this.mEnd-this.mStart;}},{key:'median',get:function get(){return this.mStart+(this.mEnd-this.mStart)/2;}}]);function DoubleRange(start,end){_classCallCheck(this,DoubleRange);/*
          if (!isNaN(start) && !isNaN(end)) {
           this.mIsEmpty = true;
          } else {
              this.mIsEmpty = false;
          }*/if(start<end){this.mStart=start;this.mEnd=end;}else{this.mStart=end;this.mEnd=start;}}return DoubleRange;}();Double=function(){/**
     * Constructor for the dateTime module.
     * @private
     */function Double(chart){_classCallCheck(this,Double);this.chart=chart;}/**
     * Numeric Nice Interval for the axis.
     * @private
     */_createClass(Double,[{key:'calculateNumericNiceInterval',value:function calculateNumericNiceInterval(axis,delta,size){var actualDesiredIntervalsCount=axis.getActualDesiredIntervalsCount(size);var niceInterval=delta/actualDesiredIntervalsCount;if(axis.desiredIntervals!=null){return niceInterval;}var minInterval=Math.pow(10,Math.floor(logBase(niceInterval,10)));var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=axis.intervalDivs[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var interval=_step3.value;var currentInterval=minInterval*interval;if(actualDesiredIntervalsCount<delta/currentInterval){break;}niceInterval=currentInterval;}}catch(err){_didIteratorError3=true;_iteratorError3=err;}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return();}}finally{if(_didIteratorError3){throw _iteratorError3;}}}return niceInterval;}},{key:'getActualRange',value:function getActualRange(axis,size){this.initializeDoubleRange(axis);axis.actualRange.interval=axis.interval||this.calculateNumericNiceInterval(axis,axis.doubleRange.delta,size);axis.actualRange.min=axis.doubleRange.start;axis.actualRange.max=axis.doubleRange.end;}},{key:'initializeDoubleRange',value:function initializeDoubleRange(axis){//Axis Min
if(axis.minimum!==null){this.min=axis.minimum;}else if(this.min===null||this.min===Number.POSITIVE_INFINITY){this.min=0;}// Axis Max
if(axis.maximum!==null){this.max=axis.maximum;}else if(this.max===null||this.max===Number.NEGATIVE_INFINITY){this.max=5;}if(this.min===this.max){this.max=axis.valueType.indexOf('Category')>-1?this.max:this.min+1;}axis.doubleRange=new DoubleRange(this.min,this.max);axis.actualRange={};}},{key:'calculateRangeAndInterval',value:function calculateRangeAndInterval(size,axis){this.calculateRange(axis,size);this.getActualRange(axis,size);this.applyRangePadding(axis,size);this.calculateVisibleLabels(axis,this.chart);}},{key:'calculateRange',value:function calculateRange(axis,size){/*! Generate axis range */this.min=null;this.max=null;if(!axis.setRange()){var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=axis.series[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var series=_step4.value;if(!series.visible){continue;}this.paddingInterval=0;if(series.type.indexOf('Column')>-1&&axis.orientation==='Horizontal'||series.type.indexOf('Bar')>-1&&axis.orientation==='Vertical'){if((series.xAxis.valueType==='Double'||series.xAxis.valueType==='DateTime')&&series.xAxis.rangePadding==='Auto'){this.paddingInterval=getMinPointsDelta(series.xAxis,axis.series)/2;}}//For xRange
if(axis.orientation==='Horizontal'){if(this.chart.requireInvertedAxis){this.findMinMax(series.yMin,series.yMax);}else{this.findMinMax(series.xMin-this.paddingInterval,series.xMax+this.paddingInterval);}}// For yRange
if(axis.orientation==='Vertical'){if(this.chart.requireInvertedAxis){this.findMinMax(series.xMin-this.paddingInterval,series.xMax+this.paddingInterval);}else{this.findMinMax(series.yMin,series.yMax);}}}}catch(err){_didIteratorError4=true;_iteratorError4=err;}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return){_iterator4.return();}}finally{if(_didIteratorError4){throw _iteratorError4;}}}}}},{key:'findMinMax',value:function findMinMax(min,max){if(this.min===null||this.min>min){this.min=min;}if(this.max===null||this.max<max){this.max=max;}}},{key:'applyRangePadding',value:function applyRangePadding(axis,size){var start=axis.actualRange.min;var end=axis.actualRange.max;if(!axis.setRange()){var interval=axis.actualRange.interval;var padding=axis.getRangePadding(this.chart);if(padding==='Additional'||padding==='Round'){this.findAdditional(axis,start,end,interval);}else if(padding==='Normal'){this.findNormal(axis,start,end,interval,size);}else{this.updateActualRange(axis,start,end,interval);}}axis.actualRange.delta=axis.actualRange.max-axis.actualRange.min;this.calculateVisibleRange(size,axis);}},{key:'updateActualRange',value:function updateActualRange(axis,minimum,maximum,interval){axis.actualRange.min=axis.minimum!=null?axis.minimum:minimum;axis.actualRange.max=axis.maximum!=null?axis.maximum:maximum;axis.actualRange.interval=axis.interval!=null?axis.interval:interval;}},{key:'findAdditional',value:function findAdditional(axis,start,end,interval){var minimum=void 0;var maximum=void 0;minimum=Math.floor(start/interval)*interval;maximum=Math.ceil(end/interval)*interval;if(axis.rangePadding==='Additional'){minimum-=interval;maximum+=interval;}this.updateActualRange(axis,minimum,maximum,interval);}},{key:'findNormal',value:function findNormal(axis,start,end,interval,size){var remaining=void 0;var minimum=void 0;var maximum=void 0;var startValue=start;if(start<0){startValue=0;minimum=start+start/20;remaining=interval+minimum%interval;if(0.365*interval>=remaining){minimum-=interval;}if(minimum%interval<0){minimum=minimum-interval-minimum%interval;}}else{minimum=start<5.0/6.0*end?0:start-(end-start)/2;if(minimum%interval>0){minimum-=minimum%interval;}}maximum=end>0?end+(end-startValue)/20:end-(end-startValue)/20;remaining=interval-maximum%interval;if(0.365*interval>=remaining){maximum+=interval;}if(maximum%interval>0){maximum=maximum+interval-maximum%interval;}axis.doubleRange=new DoubleRange(minimum,maximum);if(minimum===0){interval=this.calculateNumericNiceInterval(axis,axis.doubleRange.delta,size);maximum=Math.ceil(maximum/interval)*interval;}this.updateActualRange(axis,minimum,maximum,interval);}},{key:'calculateVisibleRange',value:function calculateVisibleRange(size,axis){axis.visibleRange={max:axis.actualRange.max,min:axis.actualRange.min,delta:axis.actualRange.delta,interval:axis.actualRange.interval};if(axis.zoomFactor<1||axis.zoomPosition>0){axis.calculateVisibleRange(size);axis.visibleRange.interval=axis.enableAutoIntervalOnZooming&&axis.valueType!=='Category'?this.calculateNumericNiceInterval(axis,axis.doubleRange.delta,size):axis.visibleRange.interval;}axis.triggerRangeRender(this.chart,axis.visibleRange.min,axis.visibleRange.max,axis.visibleRange.interval);}},{key:'calculateVisibleLabels',value:function calculateVisibleLabels(axis,chart){/*! Generate axis labels */axis.visibleLabels=[];var tempInterval=axis.visibleRange.min;if(axis.zoomFactor<1||axis.zoomPosition>0||this.paddingInterval){tempInterval=axis.visibleRange.min-axis.visibleRange.min%axis.visibleRange.interval;}var format=this.getFormat(axis);var isCustom=format.match('{value}')!==null;axis.format=chart.intl.getNumberFormat({format:isCustom?'':format,useGrouping:chart.useGroupingSeparator});axis.startLabel=axis.format(axis.visibleRange.min);axis.endLabel=axis.format(axis.visibleRange.max);for(;tempInterval<=axis.visibleRange.max;tempInterval+=axis.visibleRange.interval){if(withIn(tempInterval,axis.visibleRange)){axis.triggerLabelRender(chart,tempInterval,this.formatValue(axis,isCustom,format,tempInterval),axis.labelStyle);}}axis.getMaxLabelWidth(chart);}},{key:'getFormat',value:function getFormat(axis){if(axis.labelFormat){return axis.labelFormat;}return axis.isStack100?'{value}%':'';}},{key:'formatValue',value:function formatValue(axis,isCustom,format,tempInterval){return isCustom?format.replace('{value}',axis.format(tempInterval)):axis.format(tempInterval);}}]);return Double;}();_export2('loaded',loaded='loaded');_export2('load',load='load');_export2('animationComplete',animationComplete='animationComplete');_export2('legendRender',legendRender='legendRender');_export2('textRender',textRender='textRender');_export2('pointRender',pointRender='pointRender');_export2('seriesRender',seriesRender='seriesRender');_export2('axisLabelRender',axisLabelRender='axisLabelRender');_export2('axisRangeCalculated',axisRangeCalculated='axisRangeCalculated');_export2('axisMultiLabelRender',axisMultiLabelRender='axisMultiLabelRender');_export2('tooltipRender',tooltipRender='tooltipRender');_export2('chartMouseMove',chartMouseMove='chartMouseMove');_export2('chartMouseClick',chartMouseClick='chartMouseClick');_export2('pointClick',pointClick='pointClick');_export2('pointMove',pointMove='pointMove');_export2('chartMouseLeave',chartMouseLeave='chartMouseLeave');_export2('chartMouseDown',chartMouseDown='chartMouseDown');_export2('chartMouseUp',chartMouseUp='chartMouseUp');_export2('zoomComplete',zoomComplete='zoomComplete');_export2('dragComplete',dragComplete='dragComplete');_export2('resized',resized='resized');_export2('beforePrint',beforePrint='beforePrint');_export2('annotationRender',annotationRender='annotationRender');__decorate$3=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==='undefined'?'undefined':_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};_export2('ChartAnnotationSettings',ChartAnnotationSettings=function(_ChildProperty11){_inherits(ChartAnnotationSettings,_ChildProperty11);function ChartAnnotationSettings(){_classCallCheck(this,ChartAnnotationSettings);return _possibleConstructorReturn(this,(ChartAnnotationSettings.__proto__||Object.getPrototypeOf(ChartAnnotationSettings)).apply(this,arguments));}return ChartAnnotationSettings;}(ChildProperty));__decorate$3([Property('0')],ChartAnnotationSettings.prototype,"x",void 0);__decorate$3([Property('0')],ChartAnnotationSettings.prototype,"y",void 0);__decorate$3([Property(null)],ChartAnnotationSettings.prototype,"content",void 0);__decorate$3([Property('Center')],ChartAnnotationSettings.prototype,"horizontalAlignment",void 0);__decorate$3([Property('Pixel')],ChartAnnotationSettings.prototype,"coordinateUnits",void 0);__decorate$3([Property('Chart')],ChartAnnotationSettings.prototype,"region",void 0);__decorate$3([Property('Middle')],ChartAnnotationSettings.prototype,"verticalAlignment",void 0);__decorate$3([Property(null)],ChartAnnotationSettings.prototype,"xAxisName",void 0);__decorate$3([Property(null)],ChartAnnotationSettings.prototype,"yAxisName",void 0);__decorate$3([Property(null)],ChartAnnotationSettings.prototype,"description",void 0);/**
 * label border properties.
 */_export2('LabelBorder',LabelBorder=function(_ChildProperty12){_inherits(LabelBorder,_ChildProperty12);function LabelBorder(){_classCallCheck(this,LabelBorder);return _possibleConstructorReturn(this,(LabelBorder.__proto__||Object.getPrototypeOf(LabelBorder)).apply(this,arguments));}return LabelBorder;}(ChildProperty));__decorate$3([Property('')],LabelBorder.prototype,"color",void 0);__decorate$3([Property(1)],LabelBorder.prototype,"width",void 0);__decorate$3([Property('Rectangle')],LabelBorder.prototype,"type",void 0);/**
 * categories for multi level labels
 */_export2('MultiLevelCategories',MultiLevelCategories=function(_ChildProperty13){_inherits(MultiLevelCategories,_ChildProperty13);function MultiLevelCategories(){_classCallCheck(this,MultiLevelCategories);return _possibleConstructorReturn(this,(MultiLevelCategories.__proto__||Object.getPrototypeOf(MultiLevelCategories)).apply(this,arguments));}return MultiLevelCategories;}(ChildProperty));__decorate$3([Property(null)],MultiLevelCategories.prototype,"start",void 0);__decorate$3([Property(null)],MultiLevelCategories.prototype,"end",void 0);__decorate$3([Property('')],MultiLevelCategories.prototype,"text",void 0);__decorate$3([Property(null)],MultiLevelCategories.prototype,"maximumTextWidth",void 0);/**
 * Strip line properties
 */_export2('StripLineSettings',StripLineSettings=function(_ChildProperty14){_inherits(StripLineSettings,_ChildProperty14);function StripLineSettings(){_classCallCheck(this,StripLineSettings);return _possibleConstructorReturn(this,(StripLineSettings.__proto__||Object.getPrototypeOf(StripLineSettings)).apply(this,arguments));}return StripLineSettings;}(ChildProperty));__decorate$3([Property(true)],StripLineSettings.prototype,"visible",void 0);__decorate$3([Property(false)],StripLineSettings.prototype,"startFromAxis",void 0);__decorate$3([Property(null)],StripLineSettings.prototype,"start",void 0);__decorate$3([Property(null)],StripLineSettings.prototype,"end",void 0);__decorate$3([Property(null)],StripLineSettings.prototype,"size",void 0);__decorate$3([Property('#808080')],StripLineSettings.prototype,"color",void 0);__decorate$3([Complex({color:'transparent',width:1},Border)],StripLineSettings.prototype,"border",void 0);__decorate$3([Property('')],StripLineSettings.prototype,"text",void 0);__decorate$3([Property(null)],StripLineSettings.prototype,"rotation",void 0);__decorate$3([Property('Middle')],StripLineSettings.prototype,"horizontalAlignment",void 0);__decorate$3([Property('Middle')],StripLineSettings.prototype,"verticalAlignment",void 0);__decorate$3([Complex(Theme.stripLineLabelFont,Font)],StripLineSettings.prototype,"textStyle",void 0);__decorate$3([Property('Behind')],StripLineSettings.prototype,"zIndex",void 0);__decorate$3([Property(1)],StripLineSettings.prototype,"opacity",void 0);/**
 * MultiLevelLabels properties
 */_export2('MultiLevelLabels',MultiLevelLabels=function(_ChildProperty15){_inherits(MultiLevelLabels,_ChildProperty15);function MultiLevelLabels(){_classCallCheck(this,MultiLevelLabels);return _possibleConstructorReturn(this,(MultiLevelLabels.__proto__||Object.getPrototypeOf(MultiLevelLabels)).apply(this,arguments));}return MultiLevelLabels;}(ChildProperty));__decorate$3([Property('Center')],MultiLevelLabels.prototype,"alignment",void 0);__decorate$3([Property('Wrap')],MultiLevelLabels.prototype,"overflow",void 0);__decorate$3([Complex(Theme.axisLabelFont,Font)],MultiLevelLabels.prototype,"textStyle",void 0);__decorate$3([Complex({color:null,width:1,type:'Rectangle'},LabelBorder)],MultiLevelLabels.prototype,"border",void 0);__decorate$3([Collection([],MultiLevelCategories)],MultiLevelLabels.prototype,"categories",void 0);__decorate$2=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==='undefined'?'undefined':_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};axisPadding=10;_export2('Row',Row=function(_ChildProperty16){_inherits(Row,_ChildProperty16);function Row(){_classCallCheck(this,Row);var _this20=_possibleConstructorReturn(this,(Row.__proto__||Object.getPrototypeOf(Row)).apply(this,arguments));/** @private */_this20.axes=[];/** @private */_this20.nearSizes=[];/** @private */_this20.farSizes=[];return _this20;}/**
     * Measure the row size
     * @return {void}
     * @private
     */_createClass(Row,[{key:'computeSize',value:function computeSize(axis,clipRect){var width=0;var innerPadding=5;if(axis.visible){width+=axis.findTickSize(axis.crossInAxis)+axis.findLabelSize(axis.crossInAxis,innerPadding)+axis.lineStyle.width/2;}if(axis.opposedPosition){this.farSizes.push(width);}else{this.nearSizes.push(width);}}}]);return Row;}(ChildProperty));__decorate$2([Property('100%')],Row.prototype,"height",void 0);__decorate$2([Complex({},Border)],Row.prototype,"border",void 0);/**
 * Configures the `columns` of the chart.
 */_export2('Column',Column=function(_ChildProperty17){_inherits(Column,_ChildProperty17);function Column(){_classCallCheck(this,Column);var _this21=_possibleConstructorReturn(this,(Column.__proto__||Object.getPrototypeOf(Column)).apply(this,arguments));/** @private */_this21.axes=[];/** @private */_this21.nearSizes=[];/** @private */_this21.farSizes=[];/** @private */_this21.padding=0;return _this21;}/**
     * Measure the column size
     * @return {void}
     * @private
     */_createClass(Column,[{key:'computeSize',value:function computeSize(axis,clipRect){var height=0;var innerPadding=5;if(axis.visible){height+=axis.findTickSize(axis.crossInAxis)+axis.findLabelSize(axis.crossInAxis,innerPadding)+axis.lineStyle.width/2;}if(axis.opposedPosition){this.farSizes.push(height);}else{this.nearSizes.push(height);}}}]);return Column;}(ChildProperty));__decorate$2([Property('100%')],Column.prototype,"width",void 0);__decorate$2([Complex({},Border)],Column.prototype,"border",void 0);/**
 * Configures the major grid lines in the `axis`.
 */_export2('MajorGridLines',MajorGridLines=function(_ChildProperty18){_inherits(MajorGridLines,_ChildProperty18);function MajorGridLines(){_classCallCheck(this,MajorGridLines);return _possibleConstructorReturn(this,(MajorGridLines.__proto__||Object.getPrototypeOf(MajorGridLines)).apply(this,arguments));}return MajorGridLines;}(ChildProperty));__decorate$2([Property(1)],MajorGridLines.prototype,"width",void 0);__decorate$2([Property('')],MajorGridLines.prototype,"dashArray",void 0);__decorate$2([Property(null)],MajorGridLines.prototype,"color",void 0);/**
 * Configures the minor grid lines in the `axis`.
 */_export2('MinorGridLines',MinorGridLines=function(_ChildProperty19){_inherits(MinorGridLines,_ChildProperty19);function MinorGridLines(){_classCallCheck(this,MinorGridLines);return _possibleConstructorReturn(this,(MinorGridLines.__proto__||Object.getPrototypeOf(MinorGridLines)).apply(this,arguments));}return MinorGridLines;}(ChildProperty));__decorate$2([Property(0.7)],MinorGridLines.prototype,"width",void 0);__decorate$2([Property('')],MinorGridLines.prototype,"dashArray",void 0);__decorate$2([Property(null)],MinorGridLines.prototype,"color",void 0);/**
 * Configures the axis line of a chart.
 */_export2('AxisLine',AxisLine=function(_ChildProperty20){_inherits(AxisLine,_ChildProperty20);function AxisLine(){_classCallCheck(this,AxisLine);return _possibleConstructorReturn(this,(AxisLine.__proto__||Object.getPrototypeOf(AxisLine)).apply(this,arguments));}return AxisLine;}(ChildProperty));__decorate$2([Property(1)],AxisLine.prototype,"width",void 0);__decorate$2([Property('')],AxisLine.prototype,"dashArray",void 0);__decorate$2([Property(null)],AxisLine.prototype,"color",void 0);/**
 * Configures the major tick lines.
 */_export2('MajorTickLines',MajorTickLines=function(_ChildProperty21){_inherits(MajorTickLines,_ChildProperty21);function MajorTickLines(){_classCallCheck(this,MajorTickLines);return _possibleConstructorReturn(this,(MajorTickLines.__proto__||Object.getPrototypeOf(MajorTickLines)).apply(this,arguments));}return MajorTickLines;}(ChildProperty));__decorate$2([Property(1)],MajorTickLines.prototype,"width",void 0);__decorate$2([Property(5)],MajorTickLines.prototype,"height",void 0);__decorate$2([Property(null)],MajorTickLines.prototype,"color",void 0);/**
 * Configures the minor tick lines.
 */_export2('MinorTickLines',MinorTickLines=function(_ChildProperty22){_inherits(MinorTickLines,_ChildProperty22);function MinorTickLines(){_classCallCheck(this,MinorTickLines);return _possibleConstructorReturn(this,(MinorTickLines.__proto__||Object.getPrototypeOf(MinorTickLines)).apply(this,arguments));}return MinorTickLines;}(ChildProperty));__decorate$2([Property(0.7)],MinorTickLines.prototype,"width",void 0);__decorate$2([Property(5)],MinorTickLines.prototype,"height",void 0);__decorate$2([Property(null)],MinorTickLines.prototype,"color",void 0);/**
 * Configures the crosshair ToolTip.
 */_export2('CrosshairTooltip',CrosshairTooltip=function(_ChildProperty23){_inherits(CrosshairTooltip,_ChildProperty23);function CrosshairTooltip(){_classCallCheck(this,CrosshairTooltip);return _possibleConstructorReturn(this,(CrosshairTooltip.__proto__||Object.getPrototypeOf(CrosshairTooltip)).apply(this,arguments));}return CrosshairTooltip;}(ChildProperty));__decorate$2([Property(false)],CrosshairTooltip.prototype,"enable",void 0);__decorate$2([Property(null)],CrosshairTooltip.prototype,"fill",void 0);__decorate$2([Complex(Theme.crosshairLabelFont,Font)],CrosshairTooltip.prototype,"textStyle",void 0);/**
 * Configures the axes in the chart.
 */_export2('Axis',Axis=function(_ChildProperty24){_inherits(Axis,_ChildProperty24);function Axis(){_classCallCheck(this,Axis);var _this28=_possibleConstructorReturn(this,(Axis.__proto__||Object.getPrototypeOf(Axis)).apply(this,arguments));/** @private */_this28.visibleLabels=[];/** @private */_this28.series=[];/** @private */_this28.rect=new Rect(undefined,undefined,0,0);/** @private */_this28.axisBottomLine=null;/** @private */_this28.intervalDivs=[10,5,2,1];/** @private */_this28.angle=_this28.labelRotation;/** @private */_this28.isStack100=false;/** @private */_this28.crossAt=null;/** @private */_this28.updatedRect=null;/** @private */_this28.multiLevelLabelHeight=0;return _this28;}/**
     * The function used to find tick size.
     * @return {number}
     * @private
     */_createClass(Axis,[{key:'findTickSize',value:function findTickSize(crossAxis){if(this.tickPosition==='Inside'){return 0;}if(crossAxis&&(!crossAxis.visibleRange||this.isInside(crossAxis.visibleRange))){return 0;}return this.majorTickLines.height;}},{key:'isInside',value:function isInside(range){return inside(this.crossAt,range)||!this.opposedPosition&&this.crossAt>=range.max||this.opposedPosition&&this.crossAt<=range.min;}},{key:'findLabelSize',value:function findLabelSize(crossAxis,innerPadding){var titleSize=0;if(this.title){titleSize=measureText(this.title,this.titleStyle).height+innerPadding;}if(this.labelPosition==='Inside'){return titleSize+innerPadding;}var diff=void 0;var value=void 0;var labelSize=titleSize+innerPadding+axisPadding+(this.orientation==='Vertical'?this.maxLabelSize.width:this.maxLabelSize.height)+this.multiLevelLabelHeight;if(crossAxis&&this.placeNextToAxisLine){var range=crossAxis.visibleRange;var size=crossAxis.orientation==='Horizontal'?crossAxis.rect.width:crossAxis.rect.height;if(!range||!size){return 0;}else if(this.isInside(range)){value=this.findDifference(crossAxis);diff=value*(size/range.delta);diff=value*((size-(diff<labelSize?labelSize-diff:0))/range.delta);labelSize=diff<labelSize?labelSize-diff:0;}}return labelSize;}},{key:'updateCrossValue',value:function updateCrossValue(chart){var value=this.crossAt;if(value===null||!this.isInside(this.crossInAxis.visibleRange)){this.updatedRect=this.rect;return null;}var range=this.crossInAxis.visibleRange;if(!this.opposedPosition){if(this.crossAt>range.max){value=range.max;}}else{if(this.crossAt<range.min){value=range.min;}}this.updatedRect=extend({},this.rect,null,true);if(this.orientation==='Horizontal'){value=this.crossInAxis.rect.height-valueToCoefficient(value,this.crossInAxis)*this.crossInAxis.rect.height;this.updatedRect.y=this.crossInAxis.rect.y+value;}else{value=valueToCoefficient(value,this.crossInAxis)*this.crossInAxis.rect.width;this.updatedRect.x=this.crossInAxis.rect.x+value;}}},{key:'findDifference',value:function findDifference(crossAxis){var value=0;if(this.opposedPosition){value=crossAxis.isInversed?crossAxis.visibleRange.min:crossAxis.visibleRange.max;}else{value=crossAxis.isInversed?crossAxis.visibleRange.max:crossAxis.visibleRange.min;}return Math.abs(this.crossAt-value);}},{key:'setRange',value:function setRange(){if(this.minimum!=null&&this.maximum!=null){return true;}return false;}},{key:'calculateVisibleRange',value:function calculateVisibleRange(size){if(this.zoomFactor<1||this.zoomPosition>0){var baseRange=this.actualRange;var start=void 0;var end=void 0;if(!this.isInversed){start=this.actualRange.min+this.zoomPosition*this.actualRange.delta;end=start+this.zoomFactor*this.actualRange.delta;}else{start=this.actualRange.max-this.zoomPosition*this.actualRange.delta;end=start-this.zoomFactor*this.actualRange.delta;}if(start<baseRange.min){end=end+(baseRange.min-start);start=baseRange.min;}if(end>baseRange.max){start=start-(end-baseRange.max);end=baseRange.max;}this.doubleRange=new DoubleRange(start,end);this.visibleRange.min=this.doubleRange.start;this.visibleRange.max=this.doubleRange.end;this.visibleRange.delta=this.doubleRange.delta;}}},{key:'getActualDesiredIntervalsCount',value:function getActualDesiredIntervalsCount(availableSize){var size=this.orientation==='Horizontal'?availableSize.width:availableSize.height;if(this.desiredIntervals===null){var desiredIntervalsCount=(this.orientation==='Horizontal'?0.533:1)*this.maximumLabels;desiredIntervalsCount=Math.max(size*(desiredIntervalsCount/100),1);return desiredIntervalsCount;}else{return this.desiredIntervals;}}},{key:'triggerLabelRender',value:function triggerLabelRender(chart,tempInterval,text,labelStyle){var argsData=void 0;argsData={cancel:false,name:axisLabelRender,axis:this,text:text,value:tempInterval,labelStyle:labelStyle};chart.trigger(axisLabelRender,argsData);if(!argsData.cancel){this.visibleLabels.push(new VisibleLabels(argsData.text,argsData.value,argsData.labelStyle));}}},{key:'triggerRangeRender',value:function triggerRangeRender(chart,minimum,maximum,interval){var argsData=void 0;argsData={cancel:false,name:axisRangeCalculated,axis:this,minimum:minimum,maximum:maximum,interval:interval};chart.trigger(axisRangeCalculated,argsData);if(!argsData.cancel){this.visibleRange.min=argsData.minimum;this.visibleRange.max=argsData.maximum;this.visibleRange.interval=argsData.interval;this.visibleRange.delta=argsData.maximum-argsData.minimum;}}},{key:'getRangePadding',value:function getRangePadding(chart){var padding=this.rangePadding;if(padding!=='Auto'){return padding;}switch(this.orientation){case'Horizontal':if(chart.requireInvertedAxis){padding=this.isStack100?'Round':'Normal';}else{padding='None';}break;case'Vertical':if(!chart.requireInvertedAxis){padding=this.isStack100?'Round':'Normal';}else{padding='None';}break;}return padding;}},{key:'getMaxLabelWidth',value:function getMaxLabelWidth(chart){var pointX=void 0;var previousEnd=0;var isIntersect=false;this.angle=this.labelRotation;this.maxLabelSize=new Size(0,0);var action=this.labelIntersectAction;var label=void 0;for(var i=0;i<this.visibleLabels.length;i++){label=this.visibleLabels[i];label.size=measureText(label.text,this.labelStyle);if(label.size.width>this.maxLabelSize.width){this.maxLabelSize.width=label.size.width;this.rotatedLabel=label.text;}if(label.size.height>this.maxLabelSize.height){this.maxLabelSize.height=label.size.height;}if(action==='None'||action==='Hide'||action==='Trim'){continue;}if((action!=='None'||this.angle%360===0)&&this.orientation==='Horizontal'&&this.rect.width>0&&!isIntersect){pointX=valueToCoefficient(label.value,this)*this.rect.width+this.rect.x;pointX-=label.size.width/2;if(this.edgeLabelPlacement==='Shift'){if(i===0&&pointX<this.rect.x){pointX=this.rect.x;}if(i===this.visibleLabels.length-1&&pointX+label.size.width>this.rect.x+this.rect.width){pointX=this.rect.x+this.rect.width-label.size.width;}}switch(action){case'MultipleRows':if(i>0){this.findMultiRows(i,pointX,label);}break;case'Rotate45':case'Rotate90':if(i>0&&(!this.isInversed?pointX<=previousEnd:pointX+label.size.width>=previousEnd)){this.angle=action==='Rotate45'?45:90;isIntersect=true;}break;default:label.text=textWrap(label.text,this.rect.width/this.visibleLabels.length,this.labelStyle);var height=label.size.height*label.text.length;if(height>this.maxLabelSize.height){this.maxLabelSize.height=height;}break;}previousEnd=this.isInversed?pointX:pointX+label.size.width;}}if(this.angle!==0&&this.orientation==='Horizontal'){this.maxLabelSize=rotateTextSize(this.labelStyle,this.rotatedLabel,this.angle,chart);}if(chart.multiLevelLabelModule&&this.multiLevelLabels.length>0){chart.multiLevelLabelModule.getMultilevelLabelsHeight(this);}}},{key:'findMultiRows',value:function findMultiRows(length,currentX,currentLabel){var label=void 0;var pointX=void 0;var store=[];var isMultiRows=void 0;for(var i=length-1;i>=0;i--){label=this.visibleLabels[i];pointX=valueToCoefficient(label.value,this)*this.rect.width+this.rect.x;isMultiRows=!this.isInversed?currentX<pointX+label.size.width/2:currentX+currentLabel.size.width>pointX-label.size.width/2;if(isMultiRows){store.push(label.index);currentLabel.index=currentLabel.index>label.index?currentLabel.index:label.index+1;}else{currentLabel.index=store.indexOf(label.index)>-1?currentLabel.index:label.index;}}var height=currentLabel.size.height*currentLabel.index+5*(currentLabel.index-1);if(height>this.maxLabelSize.height){this.maxLabelSize.height=height;}}},{key:'getModule',value:function getModule(chart){if(this.valueType==='Double'){this.baseModule=new Double(chart);}else{this.baseModule=chart[firstToLowerCase(this.valueType)+'Module'];}}}]);return Axis;}(ChildProperty));__decorate$2([Complex(Theme.axisLabelFont,Font)],Axis.prototype,"labelStyle",void 0);__decorate$2([Complex({},CrosshairTooltip)],Axis.prototype,"crosshairTooltip",void 0);__decorate$2([Property('')],Axis.prototype,"title",void 0);__decorate$2([Complex(Theme.axisTitleFont,Font)],Axis.prototype,"titleStyle",void 0);__decorate$2([Property('')],Axis.prototype,"labelFormat",void 0);__decorate$2([Property('')],Axis.prototype,"skeleton",void 0);__decorate$2([Property('DateTime')],Axis.prototype,"skeletonType",void 0);__decorate$2([Property(0)],Axis.prototype,"plotOffset",void 0);__decorate$2([Property(false)],Axis.prototype,"isIndexed",void 0);__decorate$2([Property(10)],Axis.prototype,"logBase",void 0);__decorate$2([Property(0)],Axis.prototype,"columnIndex",void 0);__decorate$2([Property(0)],Axis.prototype,"rowIndex",void 0);__decorate$2([Property(1)],Axis.prototype,"span",void 0);__decorate$2([Property(null)],Axis.prototype,"desiredIntervals",void 0);__decorate$2([Property(3)],Axis.prototype,"maximumLabels",void 0);__decorate$2([Property(1)],Axis.prototype,"zoomFactor",void 0);__decorate$2([Property(0)],Axis.prototype,"zoomPosition",void 0);__decorate$2([Property(false)],Axis.prototype,"opposedPosition",void 0);__decorate$2([Property(true)],Axis.prototype,"enableAutoIntervalOnZooming",void 0);__decorate$2([Property('Auto')],Axis.prototype,"rangePadding",void 0);__decorate$2([Property('Double')],Axis.prototype,"valueType",void 0);__decorate$2([Property('None')],Axis.prototype,"edgeLabelPlacement",void 0);__decorate$2([Property('Auto')],Axis.prototype,"intervalType",void 0);__decorate$2([Property('BetweenTicks')],Axis.prototype,"labelPlacement",void 0);__decorate$2([Property('Outside')],Axis.prototype,"tickPosition",void 0);__decorate$2([Property('Outside')],Axis.prototype,"labelPosition",void 0);__decorate$2([Property('')],Axis.prototype,"name",void 0);__decorate$2([Property(true)],Axis.prototype,"visible",void 0);__decorate$2([Property(0)],Axis.prototype,"minorTicksPerInterval",void 0);__decorate$2([Property(0)],Axis.prototype,"labelRotation",void 0);__decorate$2([Property(null)],Axis.prototype,"crossesAt",void 0);__decorate$2([Property(true)],Axis.prototype,"placeNextToAxisLine",void 0);__decorate$2([Property(null)],Axis.prototype,"crossesInAxis",void 0);__decorate$2([Property(null)],Axis.prototype,"minimum",void 0);__decorate$2([Property(null)],Axis.prototype,"maximum",void 0);__decorate$2([Property(null)],Axis.prototype,"interval",void 0);__decorate$2([Complex({},MajorTickLines)],Axis.prototype,"majorTickLines",void 0);__decorate$2([Complex({},MinorTickLines)],Axis.prototype,"minorTickLines",void 0);__decorate$2([Complex({},MajorGridLines)],Axis.prototype,"majorGridLines",void 0);__decorate$2([Complex({},MinorGridLines)],Axis.prototype,"minorGridLines",void 0);__decorate$2([Complex({},AxisLine)],Axis.prototype,"lineStyle",void 0);__decorate$2([Property('Trim')],Axis.prototype,"labelIntersectAction",void 0);__decorate$2([Property(false)],Axis.prototype,"isInversed",void 0);__decorate$2([Property(100)],Axis.prototype,"coefficient",void 0);__decorate$2([Property(0)],Axis.prototype,"startAngle",void 0);__decorate$2([Property(null)],Axis.prototype,"description",void 0);__decorate$2([Property(2)],Axis.prototype,"tabIndex",void 0);__decorate$2([Collection([],StripLineSettings)],Axis.prototype,"stripLines",void 0);__decorate$2([Collection([],MultiLevelLabels)],Axis.prototype,"multiLevelLabels",void 0);__decorate$2([Complex({color:null,width:0,type:'Rectangle'},LabelBorder)],Axis.prototype,"border",void 0);/** @private */_export2('VisibleLabels',VisibleLabels=function VisibleLabels(text,value,labelStyle){var size=arguments.length>3&&arguments[3]!==undefined?arguments[3]:new Size(0,0);var index=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1;_classCallCheck(this,VisibleLabels);this.text=text;this.originalText=text;this.value=value;this.labelStyle=labelStyle;this.size=size;this.index=1;});axisPadding$1=10;CartesianAxisLayoutPanel=function(){/** @private */function CartesianAxisLayoutPanel(chartModule){_classCallCheck(this,CartesianAxisLayoutPanel);this.chart=chartModule;this.padding=5;}/**
     * Measure the axis size.
     * @return {void}
     * @private
     */_createClass(CartesianAxisLayoutPanel,[{key:'measureAxis',value:function measureAxis(rect){var chart=this.chart;this.crossAt(chart);this.seriesClipRect=new Rect(rect.x,rect.y,rect.width,rect.height);this.initialClipRect=rect;this.leftSize=0;this.rightSize=0;this.topSize=0;this.bottomSize=0;//Measure Axis size with initial Rect
this.measureRowAxis(chart,this.initialClipRect);this.initialClipRect=subtractThickness(this.initialClipRect,new Thickness(this.leftSize,this.rightSize,0,0));this.measureColumnAxis(chart,this.initialClipRect);this.initialClipRect=subtractThickness(this.initialClipRect,new Thickness(0,0,this.topSize,this.bottomSize));if(!this.chart.delayRedraw){this.calculateAxisSize(this.initialClipRect);}this.leftSize=0;this.rightSize=0;this.topSize=0;this.bottomSize=0;//Measure Axis size with series Rect
this.measureRowAxis(chart,this.initialClipRect);this.seriesClipRect=subtractThickness(this.seriesClipRect,new Thickness(this.leftSize,this.rightSize,0,0));this.measureColumnAxis(chart,this.initialClipRect);this.seriesClipRect=subtractThickness(this.seriesClipRect,new Thickness(0,0,this.topSize,this.bottomSize));if(!this.chart.delayRedraw){chart.refreshAxis();this.calculateAxisSize(this.seriesClipRect);}}},{key:'measureRowAxis',value:function measureRowAxis(chart,rect){var row=void 0;this.calculateRowSize(rect);var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=chart.rows[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var item=_step5.value;row=item;row.nearSizes=[];row.farSizes=[];this.arrangeAxis(row);this.measureDefinition(row,chart,new Size(chart.availableSize.width,row.computedHeight),rect);if(this.leftSize<sum(row.nearSizes)){this.leftSize=sum(row.nearSizes);}if(this.rightSize<sum(row.farSizes)){this.rightSize=sum(row.farSizes);}}}catch(err){_didIteratorError5=true;_iteratorError5=err;}finally{try{if(!_iteratorNormalCompletion5&&_iterator5.return){_iterator5.return();}}finally{if(_didIteratorError5){throw _iteratorError5;}}}}},{key:'measureColumnAxis',value:function measureColumnAxis(chart,rect){var column=void 0;this.calculateColumnSize(rect);var _iteratorNormalCompletion6=true;var _didIteratorError6=false;var _iteratorError6=undefined;try{for(var _iterator6=chart.columns[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=true){var item=_step6.value;column=item;column.farSizes=[];column.nearSizes=[];this.arrangeAxis(column);this.measureDefinition(column,chart,new Size(column.computedWidth,chart.availableSize.height),rect);if(this.bottomSize<sum(column.nearSizes)){this.bottomSize=sum(column.nearSizes);}if(this.topSize<sum(column.farSizes)){this.topSize=sum(column.farSizes);}}}catch(err){_didIteratorError6=true;_iteratorError6=err;}finally{try{if(!_iteratorNormalCompletion6&&_iterator6.return){_iterator6.return();}}finally{if(_didIteratorError6){throw _iteratorError6;}}}}},{key:'measureDefinition',value:function measureDefinition(definition,chart,size,clipRect){var _iteratorNormalCompletion7=true;var _didIteratorError7=false;var _iteratorError7=undefined;try{for(var _iterator7=definition.axes[Symbol.iterator](),_step7;!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=true){var axis=_step7.value;axis.getModule(chart);axis.baseModule.calculateRangeAndInterval(size,axis);definition.computeSize(axis,clipRect);}}catch(err){_didIteratorError7=true;_iteratorError7=err;}finally{try{if(!_iteratorNormalCompletion7&&_iterator7.return){_iterator7.return();}}finally{if(_didIteratorError7){throw _iteratorError7;}}}if(definition.farSizes.length>0){definition.farSizes[definition.farSizes.length-1]-=axisPadding$1;}if(definition.nearSizes.length>0){definition.nearSizes[definition.nearSizes.length-1]-=axisPadding$1;}}},{key:'calculateAxisSize',value:function calculateAxisSize(rect){var chart=this.chart;var row=void 0;var column=void 0;var definition=void 0;var axis=void 0;var nearCount=0;var farCount=0;var size=0;var x=void 0;var y=void 0;this.calculateRowSize(rect);for(var i=0,len=chart.rows.length;i<len;i++){row=chart.rows[i];nearCount=0;farCount=0;for(var j=0,_len=row.axes.length;j<_len;j++){axis=row.axes[j];if(axis.rect.height===0){axis.rect.height=row.computedHeight;size=0;for(var k=i+1,_len2=i+axis.span;k<_len2;k++){definition=chart.rows[k];size+=definition.computedHeight;}axis.rect.y=row.computedTop-size+axis.plotOffset;axis.rect.height=axis.rect.height+size-2*axis.plotOffset;axis.rect.width=0;}if(axis.opposedPosition){x=rect.x+rect.width+sum(subArray(row.farSizes,farCount));axis.rect.x=axis.rect.x>=x?axis.rect.x:x;farCount++;}else{x=rect.x-sum(subArray(row.nearSizes,nearCount));axis.rect.x=axis.rect.x<=x?axis.rect.x:x;nearCount++;}}}this.calculateColumnSize(rect);for(var _i2=0,_len3=chart.columns.length;_i2<_len3;_i2++){column=chart.columns[_i2];nearCount=0;farCount=0;for(var _j=0,_len4=column.axes.length;_j<_len4;_j++){axis=column.axes[_j];if(axis.rect.width===0){for(var _k=_i2,_len5=_i2+axis.span;_k<_len5;_k++){definition=chart.columns[_k];axis.rect.width+=definition.computedWidth;}axis.rect.x=column.computedLeft+axis.plotOffset;axis.rect.width-=2*axis.plotOffset;axis.rect.height=0;}if(axis.opposedPosition){y=rect.y-sum(subArray(column.farSizes,farCount));axis.rect.y=axis.rect.y<=y?axis.rect.y:y;farCount++;}else{y=rect.y+rect.height+sum(subArray(column.nearSizes,nearCount));axis.rect.y=axis.rect.y>=y?axis.rect.y:y;nearCount++;}}}}},{key:'measure',value:function measure(){var chart=this.chart;var row=void 0;var column=void 0;var definition=void 0;var actualIndex=void 0;var span=void 0;var _iteratorNormalCompletion8=true;var _didIteratorError8=false;var _iteratorError8=undefined;try{for(var _iterator8=chart.axisCollections[Symbol.iterator](),_step8;!(_iteratorNormalCompletion8=(_step8=_iterator8.next()).done);_iteratorNormalCompletion8=true){var axis=_step8.value;//definition.Axes = axis;
if(axis.orientation==='Vertical'){chart.verticalAxes.push(axis);actualIndex=this.getActualRow(axis);row=chart.rows[actualIndex];this.pushAxis(row,axis);span=actualIndex+axis.span>chart.rows.length?chart.rows.length:actualIndex+axis.span;for(var j=actualIndex+1;j<span;j++){definition=chart.rows[j];definition.axes[row.axes.length-1]=axis;chart.rows[j]=definition;}chart.rows[actualIndex]=row;}else{chart.horizontalAxes.push(axis);actualIndex=this.getActualColumn(axis);column=chart.columns[actualIndex];this.pushAxis(column,axis);span=actualIndex+axis.span>chart.columns.length?chart.columns.length:actualIndex+axis.span;for(var _j2=actualIndex+1;_j2<span;_j2++){definition=chart.columns[_j2];definition.axes[column.axes.length-1]=axis;chart.columns[_j2]=definition;}chart.columns[actualIndex]=column;}}}catch(err){_didIteratorError8=true;_iteratorError8=err;}finally{try{if(!_iteratorNormalCompletion8&&_iterator8.return){_iterator8.return();}}finally{if(_didIteratorError8){throw _iteratorError8;}}}}},{key:'crossAt',value:function crossAt(chart){var _iteratorNormalCompletion9=true;var _didIteratorError9=false;var _iteratorError9=undefined;try{for(var _iterator9=chart.axisCollections[Symbol.iterator](),_step9;!(_iteratorNormalCompletion9=(_step9=_iterator9.next()).done);_iteratorNormalCompletion9=true){var axis=_step9.value;if(axis.crossesAt===null){continue;}var isTransposed=chart.isTransposed;if(!axis.crossesInAxis){if(chart.requireInvertedAxis){axis.crossInAxis=axis.orientation==='Horizontal'?chart.primaryXAxis:chart.primaryYAxis;}else{axis.crossInAxis=axis.orientation==='Horizontal'?chart.primaryYAxis:chart.primaryXAxis;}axis.crossAt=this.updateCrossAt(axis.crossInAxis,axis.crossesAt);continue;}else{for(var i=2,len=chart.axisCollections.length;i<len;i++){if(axis.crossesInAxis===chart.axisCollections[i].name){axis.crossInAxis=chart.axisCollections[i];axis.crossAt=this.updateCrossAt(axis.crossInAxis,axis.crossesAt);continue;}}}}}catch(err){_didIteratorError9=true;_iteratorError9=err;}finally{try{if(!_iteratorNormalCompletion9&&_iterator9.return){_iterator9.return();}}finally{if(_didIteratorError9){throw _iteratorError9;}}}}},{key:'updateCrossAt',value:function updateCrossAt(axis,crossAt){switch(axis.valueType){case'DateTime':var option={skeleton:'full',type:'dateTime'};var dateParser=this.chart.intl.getDateParser(option);var dateFormatter=this.chart.intl.getDateFormat(option);return Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({val:crossAt}).val))));case'Category':return parseFloat(crossAt)?parseFloat(crossAt):axis.labels.indexOf(crossAt);case'Logarithmic':return logBase(crossAt,axis.logBase);default:return crossAt;}}},{key:'pushAxis',value:function pushAxis(definition,axis){for(var i=0,len=definition.axes.length;i<=len;i++){if(!definition.axes[i]){definition.axes[i]=axis;break;}}}},{key:'arrangeAxis',value:function arrangeAxis(definition){var axisCollection=[];for(var i=0,len=definition.axes.length;i<=len;i++){if(definition.axes[i]){axisCollection.push(definition.axes[i]);}}definition.axes=axisCollection;}},{key:'getActualColumn',value:function getActualColumn(axis){var actualLength=this.chart.columns.length;var pos=axis.columnIndex;var result=pos>=actualLength?actualLength-1:pos<0?0:pos;return result;}},{key:'getActualRow',value:function getActualRow(axis){var actualLength=this.chart.rows.length;var pos=axis.rowIndex;var result=pos>=actualLength?actualLength-1:pos<0?0:pos;return result;}},{key:'calculateRowSize',value:function calculateRowSize(rect){/*! Calculate row size */var chart=this.chart;var row=void 0;var rowTop=rect.y+rect.height;var height=0;var remainingHeight=Math.max(0,rect.height);for(var i=0,len=chart.rows.length;i<len;i++){row=chart.rows[i];if(row.height.indexOf('%')!==-1){height=Math.min(remainingHeight,rect.height*parseInt(row.height,10)/100);}else{height=Math.min(remainingHeight,parseInt(row.height,10));}height=i!==len-1?height:remainingHeight;row.computedHeight=height;rowTop-=height;row.computedTop=rowTop;remainingHeight-=height;}}},{key:'calculateColumnSize',value:function calculateColumnSize(rect){/*! Calculate column size */var chart=this.chart;var column=void 0;var columnLeft=rect.x;var width=0;var remainingWidth=Math.max(0,rect.width);for(var i=0,len=chart.columns.length;i<len;i++){column=chart.columns[i];if(column.width.indexOf('%')!==-1){width=Math.min(remainingWidth,rect.width*parseInt(column.width,10)/100);}else{width=Math.min(remainingWidth,parseInt(column.width,10));}width=i!==len-1?width:remainingWidth;column.computedWidth=width;column.computedLeft=columnLeft;columnLeft+=width;remainingWidth-=width;}}},{key:'renderAxes',value:function renderAxes(){var chart=this.chart;var axis=void 0;var axisElement=chart.renderer.createGroup({id:chart.element.id+'AxisInsideCollection'});var axisLineElement=chart.renderer.createGroup({id:chart.element.id+'AxisOutsideCollection'});var outsideElement=void 0;var isInside=void 0;for(var i=0,len=chart.axisCollections.length;i<len;i++){axis=chart.axisCollections[i];this.element=chart.renderer.createGroup({id:chart.element.id+'AxisGroup'+i+'Inside'});outsideElement=chart.renderer.createGroup({id:chart.element.id+'AxisGroup'+i+'Outside'});isInside=this.findAxisPosition(axis);if(axis.orientation==='Horizontal'){axis.updateCrossValue(chart);if(axis.visible&&axis.lineStyle.width>0){this.drawAxisLine(axis,i,axis.plotOffset,0,isInside?outsideElement:this.element,axis.updatedRect);}if(axis.majorGridLines.width>0||axis.majorTickLines.width>0){this.drawXAxisGridLine(axis,i,isInside||axis.tickPosition==='Inside'?outsideElement:this.element,axis.updatedRect);}if(axis.visible){this.drawXAxisLabels(axis,i,isInside||axis.labelPosition==='Inside'?outsideElement:this.element,axis.placeNextToAxisLine?axis.updatedRect:axis.rect);this.drawXAxisBorder(axis,i,isInside||axis.labelPosition==='Inside'?outsideElement:this.element,axis.placeNextToAxisLine?axis.updatedRect:axis.rect);this.drawXAxisTitle(axis,i,isInside?outsideElement:this.element,axis.placeNextToAxisLine?axis.updatedRect:axis.rect);}}else{axis.updateCrossValue(chart);if(axis.visible&&axis.lineStyle.width>0){this.drawAxisLine(axis,i,0,axis.plotOffset,isInside?outsideElement:this.element,axis.updatedRect);}if(axis.majorGridLines.width>0||axis.majorTickLines.width>0){this.drawYAxisGridLine(axis,i,isInside||axis.tickPosition==='Inside'?outsideElement:this.element,axis.updatedRect);}if(axis.visible){this.drawYAxisLabels(axis,i,isInside||axis.labelPosition==='Inside'?outsideElement:this.element,axis.placeNextToAxisLine?axis.updatedRect:axis.rect);this.drawYAxisBorder(axis,i,isInside||axis.labelPosition==='Inside'?outsideElement:this.element,axis.placeNextToAxisLine?axis.updatedRect:axis.rect);this.drawYAxisTitle(axis,i,isInside?outsideElement:this.element,axis.placeNextToAxisLine?axis.updatedRect:axis.rect);}}axisElement.appendChild(this.element);if(outsideElement&&outsideElement.childNodes.length>0){axisLineElement.appendChild(outsideElement);}}this.element=chart.renderer.createGroup({id:chart.element.id+'DefinitionLine'});for(var j=0,_len6=chart.rows.length;j<_len6;j++){var row=chart.rows[j];if(row.border.color){this.drawBottomLine(row,j,true);}}for(var _j3=0,_len7=chart.columns.length;_j3<_len7;_j3++){var column=chart.columns[_j3];if(column.border.color){this.drawBottomLine(column,_j3,false);}}axisElement.appendChild(this.element);chart.svgObject.appendChild(axisElement);return axisLineElement;}},{key:'findAxisPosition',value:function findAxisPosition(axis){return axis.crossAt!==null&&axis.isInside(axis.crossInAxis.visibleRange);}},{key:'drawBottomLine',value:function drawBottomLine(definition,index,isRow){var chart=this.chart;var optionsLine={};var x1=void 0;var x2=void 0;var y1=void 0;var y2=void 0;var definitionName=void 0;if(isRow){definition=definition;y1=y2=definition.computedTop+definition.computedHeight;x1=this.seriesClipRect.x;x2=x1+this.seriesClipRect.width;definitionName='Row';}else{definition=definition;x1=x2=definition.computedLeft;y1=this.seriesClipRect.y;y2=y1+this.seriesClipRect.height;definitionName='Column';}optionsLine={'id':chart.element.id+'_AxisBottom_'+definitionName+index,x1:x1,y1:y1,x2:x2,y2:y2,'stroke-width':definition.border.width,'stroke':definition.border.color};this.htmlObject=chart.renderer.drawLine(optionsLine);this.element.appendChild(this.htmlObject);}},{key:'drawAxisLine',value:function drawAxisLine(axis,index,plotX,plotY,parent,rect){var chart=this.chart;var optionsLine={};optionsLine={'id':chart.element.id+'AxisLine_'+index,x1:rect.x-plotX,y1:rect.y-plotY,x2:rect.x+rect.width+plotX,y2:rect.y+rect.height+plotY,'stroke-dasharray':axis.lineStyle.dashArray,'stroke-width':axis.lineStyle.width,'stroke':axis.lineStyle.color||chart.themeStyle.axisLine};this.htmlObject=chart.renderer.drawLine(optionsLine);parent.appendChild(this.htmlObject);}},{key:'drawYAxisGridLine',value:function drawYAxisGridLine(axis,index,parent,rect){var chart=this.chart;var tempInterval=void 0;var pointY=0;var majorGrid='';var majorTick='';var minorGird='';var minorTick='';var minorDirection=void 0;var tickSize=axis.opposedPosition?axis.majorTickLines.height:-axis.majorTickLines.height;var axisLineSize=axis.opposedPosition?axis.lineStyle.width/2:-axis.lineStyle.width/2;var ticksbwtLabel=axis.valueType==='Category'&&axis.labelPlacement==='BetweenTicks'?0.5:0;var ticks=axis.tickPosition==='Inside'?rect.x-tickSize-axisLineSize:rect.x+tickSize+axisLineSize;var length=axis.visibleLabels.length;if(axis.valueType.indexOf('Category')&&axis.labelPlacement==='BetweenTicks'&&length>0){length+=1;}//Gridlines
for(var i=0;i<length;i++){tempInterval=!axis.visibleLabels[i]?axis.visibleLabels[i-1].value+axis.visibleRange.interval-ticksbwtLabel:axis.visibleLabels[i].value-ticksbwtLabel;pointY=valueToCoefficient(tempInterval,axis)*rect.height;pointY=pointY*-1+(rect.y+rect.height);if(pointY>=rect.y&&rect.y+rect.height>=pointY){if(inside(tempInterval,axis.visibleRange)||this.isBorder(axis,i,pointY)){majorGrid=majorGrid.concat('M '+this.seriesClipRect.x+' '+pointY+' L '+(this.seriesClipRect.x+this.seriesClipRect.width)+' '+pointY+' ');}majorTick=majorTick.concat('M '+(rect.x+axisLineSize)+' '+pointY+' L '+ticks+' '+pointY+' ');}if((axis.minorGridLines.width>0||axis.minorTickLines.width>0)&&axis.minorTicksPerInterval>0){minorDirection=this.drawAxisMinorLine(axis,tempInterval,minorGird,minorTick,rect,i);minorGird=minorDirection[0];minorTick=minorDirection[1];}}this.renderGridLine(axis,index,majorGrid,minorGird);this.renderTickLine(axis,index,majorTick,minorTick,parent);}},{key:'isBorder',value:function isBorder(axis,index,value){var chart=this.chart;var border=chart.chartArea.border;var rect=this.seriesClipRect;var orientation=axis.orientation;var start=orientation==='Horizontal'?rect.x:rect.y;var size=orientation==='Horizontal'?rect.width:rect.height;var startIndex=orientation==='Horizontal'?0:axis.visibleLabels.length-1;var endIndex=orientation==='Horizontal'?axis.visibleLabels.length-1:0;if(axis.plotOffset>0){return true;}else if((value===start||value===start+size)&&(border.width<=0||border.color==='transparent')){return true;}else if(value!==start&&index===startIndex||value!==start+size&&index===endIndex){return true;}return false;}},{key:'drawYAxisLabels',value:function drawYAxisLabels(axis,index,parent,rect){var chart=this.chart;var pointX=0;var pointY=0;var elementSize=void 0;var options=void 0;var isLabelInside=axis.labelPosition==='Inside';var isTickInside=axis.tickPosition==='Inside';var isOpposed=axis.opposedPosition;var tickSpace=axis.labelPosition===axis.tickPosition?axis.majorTickLines.height:0;var padding=tickSpace+this.padding+axis.lineStyle.width/2;padding=axis.opposedPosition?padding:-padding;var anchor=isOpposed&&isLabelInside||!isOpposed&&!isLabelInside?'end':'start';var labelElement=chart.renderer.createGroup({id:chart.element.id+'AxisLabels'+index});for(var i=0,len=axis.visibleLabels.length;i<len;i++){pointX=isLabelInside?rect.x-padding:rect.x+padding;elementSize=axis.visibleLabels[i].size;pointY=valueToCoefficient(axis.visibleLabels[i].value,axis)*rect.height;pointY=Math.floor(pointY*-1+(rect.y+rect.height));options=new TextOption(chart.element.id+index+'_AxisLabel_'+i,pointX,pointY+elementSize.height/4,anchor,axis.visibleLabels[i].text);if(axis.edgeLabelPlacement){switch(axis.edgeLabelPlacement){case'None':break;case'Hide':if((i===0||axis.isInversed&&i===len-1)&&options.y>rect.y+rect.height||(i===len-1||axis.isInversed&&i===0)&&options.y-elementSize.height/2<rect.y){options.text='';}break;case'Shift':if((i===0||axis.isInversed&&i===len-1)&&options.y>rect.y+rect.height){options.y=pointY=rect.y+rect.height;}else if((i===len-1||axis.isInversed&&i===0)&&options.y-elementSize.height/2<rect.y){options.y=pointY=rect.y+elementSize.height/2;}break;}}textElement(options,axis.labelStyle,axis.labelStyle.color||chart.themeStyle.axisLabel,labelElement);}if(!chart.delayRedraw){parent.appendChild(labelElement);}else if(axis.visible){this.createZoomingLabel(this.chart,labelElement,axis,index,rect);}}},{key:'drawYAxisBorder',value:function drawYAxisBorder(axis,index,parent,rect){if(axis.border.width>0){var startY=void 0;var pointY=void 0;var gap=rect.height/axis.visibleRange.delta*(axis.valueType==='DateTime'?axis.dateTimeInterval:axis.visibleRange.interval);var endY=void 0;var length=axis.maxLabelSize.width+10+(axis.tickPosition===axis.labelPosition?axis.majorTickLines.height:0);var labelBorder='';var ticksbwtLabel=axis.valueType==='Category'&&axis.labelPlacement==='BetweenTicks'?-0.5:0;var endX=axis.opposedPosition&&axis.labelPosition==='Inside'||!axis.opposedPosition&&axis.labelPosition==='Outside'?rect.x-length:rect.x+length;for(var i=0;i<axis.visibleLabels.length;i++){pointY=valueToCoefficient(axis.visibleLabels[i].value+ticksbwtLabel,axis);pointY=(axis.isInversed?1-pointY:pointY)*rect.height;if(axis.valueType==='Category'&&axis.labelPlacement==='BetweenTicks'){startY=Math.floor(pointY*-1+(rect.y+rect.height));endY=Math.floor(pointY*-1-gap+(rect.y+rect.height));}else{startY=Math.floor(pointY*-1+gap/2+(rect.y+rect.height));endY=Math.floor(pointY*-1-gap/2+(rect.y+rect.height));}switch(axis.border.type){case'Rectangle':case'WithoutTopBorder':if(startY>rect.y+rect.height){labelBorder+='M'+' '+endX+' '+(rect.y+rect.height)+' '+'L'+' '+endX+' '+endY+' ';}else if(Math.floor(rect.y)>endY){labelBorder+='M'+' '+rect.x+' '+startY+' '+'L'+' '+endX+' '+startY+' '+'L'+' '+endX+' '+rect.y+' ';}else{labelBorder+='M'+' '+rect.x+' '+startY+' '+'L'+' '+endX+' '+startY+' '+'L'+' '+endX+' '+endY+' ';if(i===axis.visibleLabels.length-1){labelBorder+='M'+' '+rect.x+' '+endY+' '+'L'+' '+endX+' '+endY+' ';}}break;case'WithoutTopandBottomBorder':if(!(startY>rect.y+rect.height)&&!(endY<Math.floor(rect.y))){labelBorder+='M'+' '+rect.x+' '+startY+' '+'L'+' '+endX+' '+startY+' '+'M'+' '+endX+' '+endY+' '+'L'+' '+rect.x+' '+endY;}break;}}labelBorder+=axis.border.type==='Rectangle'?'M'+' '+rect.x+' '+rect.y+' '+'L'+' '+rect.x+' '+(rect.y+rect.height)+' ':'';if(labelBorder!==''){this.createAxisBorderElement(axis,index,labelBorder,parent);}}if(axis.multiLevelLabels.length>0&&this.chart.multiLevelLabelModule){this.chart.multiLevelLabelModule.renderYAxisMultiLevelLabels(axis,index,parent,rect);}}},{key:'drawYAxisTitle',value:function drawYAxisTitle(axis,index,parent,rect){var chart=this.chart;var labelRotation=axis.opposedPosition?90:-90;var elementSize=measureText(axis.title,axis.titleStyle);var padding=(axis.tickPosition==='Inside'?0:axis.majorTickLines.height+this.padding)+(axis.labelPosition==='Inside'?0:axis.maxLabelSize.width+axis.multiLevelLabelHeight+this.padding);padding=axis.opposedPosition?padding:-padding;var x=rect.x+padding;var y=rect.y+rect.height/2;var options=new TextOption(chart.element.id+'_AxisTitle_'+index,x,y-this.padding,'middle',axis.title,'rotate('+labelRotation+','+x+','+y+')');var element=textElement(options,axis.titleStyle,axis.titleStyle.color||chart.themeStyle.axisTitle,parent);element.setAttribute('aria-label',axis.description||axis.title);element.setAttribute('tabindex',axis.tabIndex.toString());}},{key:'drawXAxisGridLine',value:function drawXAxisGridLine(axis,index,parent,rect){var chart=this.chart;var tempInterval=void 0;var pointX=0;var majorGrid='';var majorTick='';var minorGird='';var minorTick='';var minorDirection=void 0;var tickSize=axis.opposedPosition?-axis.majorTickLines.height:axis.majorTickLines.height;var axisLineSize=axis.opposedPosition?-axis.lineStyle.width/2:axis.lineStyle.width/2;var ticksbwtLabel=axis.valueType.indexOf('Category')>-1&&axis.labelPlacement==='BetweenTicks'?0.5:0;var length=axis.visibleLabels.length;var ticks=axis.tickPosition==='Inside'?rect.y-tickSize-axisLineSize:rect.y+tickSize+axisLineSize;if(axis.valueType.indexOf('Category')>-1&&length>0&&axis.labelPlacement==='BetweenTicks'){length+=1;}//Gridlines
for(var i=0;i<length;i++){if(axis.valueType!=='DateTimeCategory'){tempInterval=axis.visibleLabels[i]?axis.visibleLabels[i].value-ticksbwtLabel:axis.visibleLabels[i-1].value+axis.visibleRange.interval-ticksbwtLabel;}else{tempInterval=axis.visibleLabels[i]?axis.visibleLabels[i].value-ticksbwtLabel:axis.visibleRange.max;}pointX=valueToCoefficient(tempInterval,axis)*rect.width+rect.x;if(pointX>=rect.x&&rect.x+rect.width>=pointX){if(inside(tempInterval,axis.visibleRange)||this.isBorder(axis,i,pointX)){majorGrid=majorGrid.concat('M '+pointX+' '+(this.seriesClipRect.y+this.seriesClipRect.height)+' L '+pointX+' '+this.seriesClipRect.y+' ');}majorTick=majorTick.concat('M '+pointX+' '+(rect.y+axisLineSize)+' L '+pointX+' '+ticks+' ');}if(axis.minorTicksPerInterval>0&&(axis.minorGridLines.width>0||axis.minorTickLines.width>0)){minorDirection=this.drawAxisMinorLine(axis,tempInterval,minorGird,minorTick,rect,i);minorGird=minorDirection[0];minorTick=minorDirection[1];}}this.renderGridLine(axis,index,majorGrid,minorGird);this.renderTickLine(axis,index,majorTick,minorTick,parent);}},{key:'drawAxisMinorLine',value:function drawAxisMinorLine(axis,tempInterval,minorGird,minorTick,rect,labelIndex){var value=tempInterval;var coor=0;var position=0;var range=axis.visibleRange;var isTickInside=axis.tickPosition==='Inside';var direction=[];var tickSize=axis.opposedPosition?-axis.minorTickLines.height:axis.minorTickLines.height;var logStart=void 0;var logEnd=void 0;var logInterval=1;var logPosition=1;var ticksX=isTickInside?rect.y-tickSize:rect.y+tickSize;var ticksY=isTickInside?rect.x+tickSize:rect.x-tickSize;if(axis.valueType==='Logarithmic'){logStart=Math.pow(axis.logBase,value-range.interval);logEnd=Math.pow(axis.logBase,value);logInterval=(logEnd-logStart)/(axis.minorTicksPerInterval+1);logPosition=logStart+logInterval;}if(axis.orientation==='Horizontal'){for(var j=0;j<axis.minorTicksPerInterval;j++){value=this.findLogNumeric(axis,logPosition,logInterval,value,labelIndex);logPosition+=logInterval;if(inside(value,range)){position=(value-range.min)/(range.max-range.min);position=Math.ceil((axis.isInversed?1-position:position)*rect.width);coor=Math.floor(position+rect.x);minorGird=minorGird.concat('M'+' '+coor+' '+this.seriesClipRect.y+'L '+coor+' '+(this.seriesClipRect.y+this.seriesClipRect.height));coor=Math.floor(position+rect.x);minorTick=minorTick.concat('M'+' '+coor+' '+rect.y+'L '+coor+' '+ticksX);}}}else{tickSize=axis.opposedPosition?axis.minorTickLines.height:-axis.minorTickLines.height;for(var _j4=0;_j4<axis.minorTicksPerInterval;_j4++){value=this.findLogNumeric(axis,logPosition,logInterval,value,labelIndex);if(inside(value,range)){position=Math.ceil((value-range.min)/(range.max-range.min)*rect.height)*-1;coor=Math.floor(position+rect.y+rect.height);minorGird=minorGird.concat('M'+' '+this.seriesClipRect.x+' '+coor+'L '+(this.seriesClipRect.x+this.seriesClipRect.width)+' '+coor);coor=Math.floor(position+rect.y+rect.height);minorTick=minorTick.concat('M'+' '+rect.x+' '+coor+'L '+ticksY+' '+coor);}logPosition+=logInterval;}}direction.push(minorGird);direction.push(minorTick);return direction;}},{key:'findLogNumeric',value:function findLogNumeric(axis,logPosition,logInterval,value,labelIndex){var range=axis.visibleRange;if(axis.valueType==='Logarithmic'){value=logBase(logPosition,axis.logBase);}else if(axis.valueType==='DateTime'){value+=axis.dateTimeInterval/(axis.minorTicksPerInterval+1);}else if(axis.valueType==='DateTimeCategory'){var padding=axis.labelPlacement==='BetweenTicks'?0.5:0;value+=((axis.visibleLabels[labelIndex+1]?axis.visibleLabels[labelIndex+1].value-padding:axis.visibleRange.max)-(axis.visibleLabels[labelIndex]?axis.visibleLabels[labelIndex].value-padding:axis.visibleRange.min))/(axis.minorTicksPerInterval+1);}else{value+=range.interval/(axis.minorTicksPerInterval+1);}return value;}},{key:'drawXAxisLabels',value:function drawXAxisLabels(axis,index,parent,rect){var chart=this.chart;var pointX=0;var pointY=0;var elementSize=void 0;var labelElement=chart.renderer.createGroup({id:chart.element.id+'AxisLabels'+index});var labelPosition=axis.labelPosition;var islabelInside=axis.labelPosition==='Inside';var isTickInside=axis.tickPosition==='Inside';var isOpposed=axis.opposedPosition;var tickSpace=axis.labelPosition===axis.tickPosition?axis.majorTickLines.height:0;var labelPadding=void 0;var padding=tickSpace+this.padding+axis.lineStyle.width/2;var rotateSize=void 0;var diffHeight=void 0;var angle=void 0;var anglePadding=axis.angle===90||axis.angle===-90?-2:0;var options=void 0;var yLocation=void 0;var previousEnd=axis.isInversed?rect.x+rect.width:rect.x;var width=0;var length=axis.visibleLabels.length;var intervalLength=void 0;var label=void 0;for(var i=0,len=length;i<len;i++){label=axis.visibleLabels[i];pointX=valueToCoefficient(label.value,axis)*rect.width+rect.x;elementSize=label.size;intervalLength=rect.width/length;width=(axis.labelIntersectAction==='Trim'||axis.labelIntersectAction==='Wrap')&&elementSize.width>intervalLength?intervalLength:elementSize.width;pointX-=width/2;if(islabelInside&&axis.angle){pointY=isOpposed?rect.y+padding:rect.y-padding;}else{labelPadding=isOpposed&&!islabelInside||!isOpposed&&islabelInside?-(padding+(axis.angle?3*(elementSize.height/4)+2*axis.maxLabelSize.height/5:label.index>1?2*(elementSize.height/4):0)):padding+(axis.angle?3*(elementSize.height/4)+2*axis.maxLabelSize.height/5:3*(elementSize.height/4));pointY=rect.y+labelPadding*label.index;}options=new TextOption(chart.element.id+index+'_AxisLabel_'+i,pointX,pointY,'');if(axis.edgeLabelPlacement){switch(axis.edgeLabelPlacement){case'None':break;case'Hide':if((i===0||axis.isInversed&&i===len-1)&&options.x<rect.x||(i===len-1||axis.isInversed&&i===0)&&options.x+width>rect.x+rect.width){continue;}break;case'Shift':if((i===0||axis.isInversed&&i===len-1)&&options.x<rect.x){intervalLength-=rect.x-options.x;options.x=pointX=rect.x;}else if((i===len-1||axis.isInversed&&i===0)&&options.x+width>rect.x+rect.width){if(elementSize.width>intervalLength&&axis.labelIntersectAction==='Trim'){intervalLength-=options.x+width-(rect.x+rect.width);}else{intervalLength=width;}options.x=pointX=rect.x+rect.width-intervalLength;}break;}}options.text=this.findAxisLabel(axis,label.text,intervalLength);if(axis.angle%360===0&&axis.labelIntersectAction==='Hide'&&i!==0&&(!axis.isInversed?options.x<=previousEnd:options.x+width>=previousEnd)){continue;}previousEnd=axis.isInversed?options.x:options.x+width;if(axis.angle!==0){angle=axis.angle>360?axis.angle%360:axis.angle;rotateSize=rotateTextSize(axis.labelStyle,label.text,angle,chart);diffHeight=islabelInside?rotateSize.height:axis.maxLabelSize.height-Math.ceil(rotateSize.height-elementSize.height);yLocation=axis.opposedPosition?diffHeight/2:-diffHeight/2;options.transform='rotate('+angle+','+(pointX+width/2+anglePadding)+','+(pointY+yLocation)+')';options.y+=yLocation;}textElement(options,axis.labelStyle,axis.labelStyle.color||chart.themeStyle.axisLabel,labelElement,axis.opposedPosition!==(axis.labelPosition==='Inside')).setAttribute('style','cursor: default');}if(!chart.delayRedraw){parent.appendChild(labelElement);}else if(axis.visible){this.createZoomingLabel(this.chart,labelElement,axis,index,rect);}}},{key:'drawXAxisBorder',value:function drawXAxisBorder(axis,index,parent,axisRect){if(axis.border.width>0){var startX=void 0;var startY=axisRect.y;var padding=10;var pointX=void 0;var gap=axisRect.width/axis.visibleRange.delta*(axis.valueType==='DateTime'?axis.dateTimeInterval:axis.visibleRange.interval);var endX=void 0;var length=axis.maxLabelSize.height+(axis.tickPosition===axis.labelPosition?axis.majorTickLines.height:0);var labelBorder='';var ticksbwtLabel=axis.valueType==='Category'&&axis.labelPlacement==='BetweenTicks'?-0.5:0;var endY=axis.opposedPosition&&axis.labelPosition==='Inside'||!axis.opposedPosition&&axis.labelPosition==='Outside'?axisRect.y+length+padding:axisRect.y-length-padding;for(var i=0;i<axis.visibleLabels.length;i++){pointX=valueToCoefficient(axis.visibleLabels[i].value+ticksbwtLabel,axis);pointX=(axis.isInversed?1-pointX:pointX)*axisRect.width;if(axis.valueType==='Category'&&axis.labelPlacement==='BetweenTicks'){startX=pointX+axisRect.x;endX=pointX+gap+axisRect.x;}else{startX=pointX-gap/2+axisRect.x;endX=pointX+gap/2+axisRect.x;}switch(axis.border.type){case'Rectangle':case'WithoutTopBorder':if(startX<axisRect.x){labelBorder+='M'+' '+axisRect.x+' '+endY+' '+'L'+' '+endX+' '+endY+' ';}else if(Math.floor(endX)>axisRect.width+axisRect.x){labelBorder+='M'+' '+startX+' '+startY+' '+'L'+' '+startX+' '+endY+' '+'L'+' '+(axisRect.width+axisRect.x)+' '+endY+' ';}else{labelBorder+='M'+' '+startX+' '+startY+' '+'L'+' '+startX+' '+endY+' '+'L'+' '+endX+' '+endY+' ';if(i===axis.visibleLabels.length-1){labelBorder+='M'+' '+endX+' '+startY+' '+'L'+' '+endX+' '+endY+' '+'M '+endX+' '+endY+' L '+(axisRect.width+axisRect.x)+' '+endY;}}break;case'WithoutTopandBottomBorder':if(!(startX<axisRect.x)&&!(Math.floor(endX)>axisRect.width+axisRect.x)){labelBorder+='M'+' '+startX+' '+startY+' '+'L'+' '+startX+' '+endY+' '+'M '+endX+' '+startY+' L '+endX+' '+endY;}break;}}labelBorder+=axis.border.type==='Rectangle'?'M '+' '+axisRect.x+' '+startY+'L'+' '+(axisRect.x+axisRect.width)+' '+startY:'';if(labelBorder!==''){this.createAxisBorderElement(axis,index,labelBorder,parent);}}if(this.chart.multiLevelLabelModule&&axis.multiLevelLabels.length>0){this.chart.multiLevelLabelModule.renderXAxisMultiLevelLabels(axis,index,parent,axisRect);}}},{key:'createAxisBorderElement',value:function createAxisBorderElement(axis,index,labelBorder,parent){var borderElement=this.chart.renderer.drawPath(new PathOption(this.chart.element.id+'_BorderLine_'+index,'transparent',axis.border.width,axis.border.color||this.chart.themeStyle.axisLine,1,'',labelBorder));borderElement.setAttribute('style','pointer-events: none');parent.appendChild(borderElement);}},{key:'findAxisLabel',value:function findAxisLabel(axis,label,width){switch(axis.labelIntersectAction){case'Trim':return textTrim(width,label,axis.labelStyle);default:return label;}}},{key:'drawXAxisTitle',value:function drawXAxisTitle(axis,index,parent,rect){var chart=this.chart;var elementSize=measureText(axis.title,axis.titleStyle);var padding=(axis.tickPosition==='Inside'?0:axis.majorTickLines.height+this.padding)+(axis.labelPosition==='Inside'?0:axis.maxLabelSize.height+axis.multiLevelLabelHeight+this.padding);padding=axis.opposedPosition?-(padding+elementSize.height/4):padding+3*elementSize.height/4;var options=new TextOption(chart.element.id+'_AxisTitle_'+index,rect.x+rect.width/2,rect.y+padding,'middle',axis.title);var element=textElement(options,axis.titleStyle,axis.titleStyle.color||chart.themeStyle.axisTitle,parent);element.setAttribute('aria-label',axis.description||axis.title);element.setAttribute('tabindex',axis.tabIndex.toString());}},{key:'renderTickLine',value:function renderTickLine(axis,index,majorTick,minorTick,parent){var options=void 0;var chart=this.chart;if(axis.majorTickLines.width>0&&axis.visible){options=new PathOption(chart.element.id+'_MajorTickLine_'+index,'transparent',axis.majorTickLines.width,axis.majorTickLines.color||chart.themeStyle.majorTickLine,null,null,majorTick);this.htmlObject=chart.renderer.drawPath(options);parent.appendChild(this.htmlObject);}if(axis.minorTickLines.width>0&&axis.visible){options=new PathOption(chart.element.id+'_MinorTickLine_'+index,'transparent',axis.minorTickLines.width,axis.minorTickLines.color||chart.themeStyle.minorTickLine,null,null,minorTick);this.htmlObject=chart.renderer.drawPath(options);parent.appendChild(this.htmlObject);}}},{key:'renderGridLine',value:function renderGridLine(axis,index,majorGrid,minorGird){var chart=this.chart;var options=void 0;if(axis.majorGridLines.width>0){options=new PathOption(chart.element.id+'_MajorGridLine_'+index,'transparent',axis.majorGridLines.width,axis.majorGridLines.color||chart.themeStyle.majorGridLine,null,axis.majorGridLines.dashArray,majorGrid);this.htmlObject=chart.renderer.drawPath(options);this.element.appendChild(this.htmlObject);}if(axis.minorGridLines.width>0){options=new PathOption(chart.element.id+'_MinorGridLine_'+index,'transparent',axis.minorGridLines.width,axis.minorGridLines.color||chart.themeStyle.minorGridLine,null,axis.minorGridLines.dashArray,minorGird);this.htmlObject=chart.renderer.drawPath(options);this.element.appendChild(this.htmlObject);}}},{key:'findParentNode',value:function findParentNode(chart,label,axis,index){if(axis.crossAt===null){return document.getElementById(chart.element.id+'AxisGroup'+index+'Inside');}if(document.getElementById(chart.element.id+'AxisGroup'+index+'Inside').contains(document.getElementById(label.id))){return document.getElementById(chart.element.id+'AxisGroup'+index+'Inside');}else{return document.getElementById(chart.element.id+'AxisGroup'+index+'Outside');}}},{key:'createZoomingLabel',value:function createZoomingLabel(chart,labelElement,axis,index,rect){var parentNode=this.findParentNode(chart,labelElement,axis,index);labelElement.setAttribute('opacity','0.3');var zoomElement=chart.renderer.createGroup({id:chart.element.id+'AxisLabels_Zoom'+index});zoomElement=createZoomingLabels(chart,axis,zoomElement,index,axis.orientation==='Vertical',rect);parentNode.replaceChild(labelElement,document.getElementById(labelElement.id));if(getElement(chart.element.id+'AxisLabels_Zoom'+index)){parentNode.replaceChild(zoomElement,document.getElementById(zoomElement.id));}else{parentNode.appendChild(zoomElement);}}}]);return CartesianAxisLayoutPanel;}();ChartData=function(){/**
     * Constructor for the data.
     * @private
     */function ChartData(chart){_classCallCheck(this,ChartData);/** @private */this.currentPoints=[];/** @private */this.previousPoints=[];this.chart=chart;this.lierIndex=0;}/**
     * Method to get the Data.
     * @private
     */_createClass(ChartData,[{key:'getData',value:function getData(){var chart=this.chart;var point=null;var series=null;var width=void 0;var height=void 0;for(var len=chart.visibleSeries.length,i=len-1;i>=0;i--){series=chart.visibleSeries[i];width=series.type==='Scatter'||series.drawType==='Scatter'||!series.isRectSeries&&series.marker.visible?(series.marker.height+5)/2:0;height=series.type==='Scatter'||series.drawType==='Scatter'||!series.isRectSeries&&series.marker.visible?(series.marker.width+5)/2:0;if(series.visible&&withInBounds(chart.mouseX,chart.mouseY,series.clipRect,width,height)){point=this.getRectPoint(series,series.clipRect,chart.mouseX,chart.mouseY);}if(point){return new PointData(point,series);}}return new PointData(point,series);}},{key:'isSelected',value:function isSelected(chart){return chart.selectionMode.indexOf('Drag')>-1&&chart.selectionModule&&chart.selectionModule.rectPoints!==null;}},{key:'getRectPoint',value:function getRectPoint(series,rect,x,y){var fromCenterX=void 0;var fromCenterY=void 0;var clickAngle=void 0;var arcAngle=0;var startAngle=void 0;var endAngle=void 0;var distanceFromCenter=void 0;var _iteratorNormalCompletion10=true;var _didIteratorError10=false;var _iteratorError10=undefined;try{for(var _iterator10=series.points[Symbol.iterator](),_step10;!(_iteratorNormalCompletion10=(_step10=_iterator10.next()).done);_iteratorNormalCompletion10=true){var point=_step10.value;if(!point.regionData){if(!point.regions||!point.regions.length){continue;}}if(point.regionData&&this.chart.chartAreaType==='PolarRadar'&&series.drawType.indexOf('Column')>-1){fromCenterX=x-(series.clipRect.width/2+series.clipRect.x);fromCenterY=y-(series.clipRect.height/2+series.clipRect.y);arcAngle=2*Math.PI*(point.regionData.currentXPosition<0?1+point.regionData.currentXPosition:point.regionData.currentXPosition);clickAngle=(Math.atan2(fromCenterY,fromCenterX)+0.5*Math.PI-arcAngle)%(2*Math.PI);clickAngle=clickAngle<0?2*Math.PI+clickAngle:clickAngle;clickAngle=clickAngle+2*Math.PI*series.chart.primaryXAxis.startAngle;startAngle=point.regionData.startAngle;startAngle-=arcAngle;startAngle=startAngle<0?2*Math.PI+startAngle:startAngle;endAngle=point.regionData.endAngle;endAngle-=arcAngle;endAngle=endAngle<0?2*Math.PI+endAngle:endAngle;distanceFromCenter=Math.sqrt(Math.pow(Math.abs(fromCenterX),2)+Math.pow(Math.abs(fromCenterY),2));if(clickAngle>=startAngle&&clickAngle<=endAngle&&(distanceFromCenter>=point.regionData.innerRadius&&distanceFromCenter<=point.regionData.radius||distanceFromCenter<=point.regionData.innerRadius&&distanceFromCenter>=point.regionData.radius)&&distanceFromCenter<=series.chart.radius){return point;}}else if(this.checkRegionContainsPoint(point.regions,rect,x,y)){return point;}}}catch(err){_didIteratorError10=true;_iteratorError10=err;}finally{try{if(!_iteratorNormalCompletion10&&_iterator10.return){_iterator10.return();}}finally{if(_didIteratorError10){throw _iteratorError10;}}}return null;}},{key:'checkRegionContainsPoint',value:function checkRegionContainsPoint(regionRect,rect,x,y){var _this29=this;return regionRect.some(function(region,index){_this29.lierIndex=index;return withInBounds(x,y,new Rect((_this29.chart.chartAreaType==='Cartesian'?rect.x:0)+region.x,(_this29.chart.chartAreaType==='Cartesian'?rect.y:0)+region.y,region.width,region.height));});}},{key:'getClosest',value:function getClosest(series,value){var xData=series.xData;var closest=void 0;if(value>=series.xMin-0.5&&value<=series.xMax+0.5){var _iteratorNormalCompletion11=true;var _didIteratorError11=false;var _iteratorError11=undefined;try{for(var _iterator11=xData[Symbol.iterator](),_step11;!(_iteratorNormalCompletion11=(_step11=_iterator11.next()).done);_iteratorNormalCompletion11=true){var data=_step11.value;if(closest==null||Math.abs(data-value)<Math.abs(closest-value)){closest=data;}}}catch(err){_didIteratorError11=true;_iteratorError11=err;}finally{try{if(!_iteratorNormalCompletion11&&_iterator11.return){_iterator11.return();}}finally{if(_didIteratorError11){throw _iteratorError11;}}}}return closest;}},{key:'getClosestX',value:function getClosestX(chart,series){var value=void 0;var rect=series.clipRect;if(!chart.requireInvertedAxis){value=getValueXByPoint(chart.mouseX-rect.x,rect.width,series.xAxis);}else{value=getValueYByPoint(chart.mouseY-rect.y,rect.height,series.xAxis);}var closest=this.getClosest(series,value);var _iteratorNormalCompletion12=true;var _didIteratorError12=false;var _iteratorError12=undefined;try{for(var _iterator12=series.points[Symbol.iterator](),_step12;!(_iteratorNormalCompletion12=(_step12=_iterator12.next()).done);_iteratorNormalCompletion12=true){var point=_step12.value;if(closest===point.xValue&&point.visible){return new PointData(point,series);}}}catch(err){_didIteratorError12=true;_iteratorError12=err;}finally{try{if(!_iteratorNormalCompletion12&&_iterator12.return){_iterator12.return();}}finally{if(_didIteratorError12){throw _iteratorError12;}}}return null;}}]);return ChartData;}();__decorate$4=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==='undefined'?'undefined':_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};_export2('DataLabelSettings',DataLabelSettings=function(_ChildProperty25){_inherits(DataLabelSettings,_ChildProperty25);function DataLabelSettings(){_classCallCheck(this,DataLabelSettings);return _possibleConstructorReturn(this,(DataLabelSettings.__proto__||Object.getPrototypeOf(DataLabelSettings)).apply(this,arguments));}return DataLabelSettings;}(ChildProperty));__decorate$4([Property(false)],DataLabelSettings.prototype,"visible",void 0);__decorate$4([Property(null)],DataLabelSettings.prototype,"name",void 0);__decorate$4([Property('transparent')],DataLabelSettings.prototype,"fill",void 0);__decorate$4([Property(1)],DataLabelSettings.prototype,"opacity",void 0);__decorate$4([Property('Auto')],DataLabelSettings.prototype,"position",void 0);__decorate$4([Property(5)],DataLabelSettings.prototype,"rx",void 0);__decorate$4([Property(5)],DataLabelSettings.prototype,"ry",void 0);__decorate$4([Property('Center')],DataLabelSettings.prototype,"alignment",void 0);__decorate$4([Complex({width:null,color:null},Border)],DataLabelSettings.prototype,"border",void 0);__decorate$4([Complex({left:5,right:5,top:5,bottom:5},Margin)],DataLabelSettings.prototype,"margin",void 0);__decorate$4([Complex({size:'11px',color:null},Font)],DataLabelSettings.prototype,"font",void 0);__decorate$4([Property(null)],DataLabelSettings.prototype,"template",void 0);/**
 *  Configures the marker in the series.
 */_export2('MarkerSettings',MarkerSettings=function(_ChildProperty26){_inherits(MarkerSettings,_ChildProperty26);function MarkerSettings(){_classCallCheck(this,MarkerSettings);return _possibleConstructorReturn(this,(MarkerSettings.__proto__||Object.getPrototypeOf(MarkerSettings)).apply(this,arguments));}return MarkerSettings;}(ChildProperty));__decorate$4([Property(false)],MarkerSettings.prototype,"visible",void 0);__decorate$4([Property('Circle')],MarkerSettings.prototype,"shape",void 0);__decorate$4([Property('')],MarkerSettings.prototype,"imageUrl",void 0);__decorate$4([Property(5)],MarkerSettings.prototype,"height",void 0);__decorate$4([Property(5)],MarkerSettings.prototype,"width",void 0);__decorate$4([Complex({width:2,color:null},Border)],MarkerSettings.prototype,"border",void 0);__decorate$4([Property(null)],MarkerSettings.prototype,"fill",void 0);__decorate$4([Property(1)],MarkerSettings.prototype,"opacity",void 0);__decorate$4([Complex({},DataLabelSettings)],MarkerSettings.prototype,"dataLabel",void 0);/**
 * Points model for the series.
 * @private
 */_export2('Points',Points=function Points(){_classCallCheck(this,Points);this.symbolLocations=null;this.regions=null;this.regionData=null;this.marker={visible:true};});_export2('Trendline',Trendline=function(_ChildProperty27){_inherits(Trendline,_ChildProperty27);function Trendline(){_classCallCheck(this,Trendline);var _this32=_possibleConstructorReturn(this,(Trendline.__proto__||Object.getPrototypeOf(Trendline)).apply(this,arguments));/** @private */_this32.clipRect=new Rect(0,0,0,0);return _this32;}/** @private */_createClass(Trendline,[{key:'setDataSource',value:function setDataSource(series,chart){if(series){this.points=series.points;}var type=firstToLowerCase(this.type);chart.trendLineModule.initDataSource(this,chart);chart.visibleSeriesCount++;}}]);return Trendline;}(ChildProperty));__decorate$4([Property('')],Trendline.prototype,"name",void 0);__decorate$4([Property('Linear')],Trendline.prototype,"type",void 0);__decorate$4([Property(2)],Trendline.prototype,"period",void 0);__decorate$4([Property(2)],Trendline.prototype,"polynomialOrder",void 0);__decorate$4([Property(0)],Trendline.prototype,"backwardForecast",void 0);__decorate$4([Property(0)],Trendline.prototype,"forwardForecast",void 0);__decorate$4([Complex({},Animation$1)],Trendline.prototype,"animation",void 0);__decorate$4([Complex({},MarkerSettings)],Trendline.prototype,"marker",void 0);__decorate$4([Property(true)],Trendline.prototype,"enableTooltip",void 0);__decorate$4([Property(null)],Trendline.prototype,"intercept",void 0);__decorate$4([Property('')],Trendline.prototype,"fill",void 0);__decorate$4([Property(1)],Trendline.prototype,"width",void 0);__decorate$4([Property('SeriesType')],Trendline.prototype,"legendShape",void 0);/**
 * Configures Error bar in series.
 */_export2('ErrorBarCapSettings',ErrorBarCapSettings=function(_ChildProperty28){_inherits(ErrorBarCapSettings,_ChildProperty28);function ErrorBarCapSettings(){_classCallCheck(this,ErrorBarCapSettings);return _possibleConstructorReturn(this,(ErrorBarCapSettings.__proto__||Object.getPrototypeOf(ErrorBarCapSettings)).apply(this,arguments));}return ErrorBarCapSettings;}(ChildProperty));__decorate$4([Property(1)],ErrorBarCapSettings.prototype,"width",void 0);__decorate$4([Property(10)],ErrorBarCapSettings.prototype,"length",void 0);__decorate$4([Property(null)],ErrorBarCapSettings.prototype,"color",void 0);__decorate$4([Property(1)],ErrorBarCapSettings.prototype,"opacity",void 0);_export2('ChartSegment',ChartSegment=function(_ChildProperty29){_inherits(ChartSegment,_ChildProperty29);function ChartSegment(){_classCallCheck(this,ChartSegment);return _possibleConstructorReturn(this,(ChartSegment.__proto__||Object.getPrototypeOf(ChartSegment)).apply(this,arguments));}return ChartSegment;}(ChildProperty));__decorate$4([Property(null)],ChartSegment.prototype,"value",void 0);__decorate$4([Property(null)],ChartSegment.prototype,"color",void 0);__decorate$4([Property('0')],ChartSegment.prototype,"dashArray",void 0);_export2('ErrorBarSettings',ErrorBarSettings=function(_ChildProperty30){_inherits(ErrorBarSettings,_ChildProperty30);function ErrorBarSettings(){_classCallCheck(this,ErrorBarSettings);return _possibleConstructorReturn(this,(ErrorBarSettings.__proto__||Object.getPrototypeOf(ErrorBarSettings)).apply(this,arguments));}return ErrorBarSettings;}(ChildProperty));__decorate$4([Property(false)],ErrorBarSettings.prototype,"visible",void 0);__decorate$4([Property('Fixed')],ErrorBarSettings.prototype,"type",void 0);__decorate$4([Property('Both')],ErrorBarSettings.prototype,"direction",void 0);__decorate$4([Property('Vertical')],ErrorBarSettings.prototype,"mode",void 0);__decorate$4([Property(null)],ErrorBarSettings.prototype,"color",void 0);__decorate$4([Property(1)],ErrorBarSettings.prototype,"verticalError",void 0);__decorate$4([Property(1)],ErrorBarSettings.prototype,"width",void 0);__decorate$4([Property(1)],ErrorBarSettings.prototype,"horizontalError",void 0);__decorate$4([Property(3)],ErrorBarSettings.prototype,"verticalPositiveError",void 0);__decorate$4([Property(3)],ErrorBarSettings.prototype,"verticalNegativeError",void 0);__decorate$4([Property(1)],ErrorBarSettings.prototype,"horizontalPositiveError",void 0);__decorate$4([Property(1)],ErrorBarSettings.prototype,"horizontalNegativeError",void 0);__decorate$4([Complex(null,ErrorBarCapSettings)],ErrorBarSettings.prototype,"errorBarCap",void 0);/**
 * Defines the common behavior of Series and Technical Indicators
 */_export2('SeriesBase',SeriesBase=function(_ChildProperty31){_inherits(SeriesBase,_ChildProperty31);function SeriesBase(){_classCallCheck(this,SeriesBase);var _this36=_possibleConstructorReturn(this,(SeriesBase.__proto__||Object.getPrototypeOf(SeriesBase)).apply(this,arguments));/** @private */_this36.currentViewData=[];/** @private */_this36.clipRect=new Rect(0,0,0,0);/** @private */_this36.seriesType='XY';return _this36;}/**
     * Process data for the series.
     * @hidden
     */_createClass(SeriesBase,[{key:'processJsonData',value:function processJsonData(){var i=0;var len=Object.keys(this.currentViewData).length;var point=new Points();var textMappingName=this instanceof Series&&this.marker.dataLabel.name?this.marker.dataLabel.name:'';if(this instanceof Series&&this.type==='Waterfall'){this.chart[firstToLowerCase(this.type)+'SeriesModule'].processWaterfallData(this.currentViewData,this);}this.points=[];this.xMin=Infinity;this.xMax=-Infinity;this.yMin=Infinity;this.yMax=-Infinity;this.sizeMax=-Infinity;this.getSeriesType();if(this.xAxis.valueType==='Category'){while(i<len){point=this.dataPoint(i,textMappingName);this.pushCategoryData(point,i,point.x);this.pushData(point,i);this.setEmptyPoint(point,i);i++;}}else if(this.xAxis.valueType.indexOf('DateTime')>-1){var option={skeleton:'full',type:'dateTime'};var dateParser=this.chart.intl.getDateParser(option);var dateFormatter=this.chart.intl.getDateFormat(option);while(i<len){point=this.dataPoint(i,textMappingName);point.x=new Date(DataUtil.parse.parseJson({val:point.x}).val);if(this.xAxis.valueType==='DateTime'){point.xValue=Date.parse(dateParser(dateFormatter(point.x)));}else{this.pushCategoryData(point,i,Date.parse(dateParser(dateFormatter(point.x))).toString());}this.pushData(point,i);this.setEmptyPoint(point,i);i++;}}else{while(i<len){point=this.dataPoint(i,textMappingName);point.xValue=point.x;this.pushData(point,i);this.setEmptyPoint(point,i);i++;}}if(this instanceof Series){if(this.type.indexOf('Spline')>-1||this.drawType.indexOf('Spline')>-1&&this.chart.chartAreaType==='PolarRadar'){var isArea=this.type.indexOf('Area')>-1||this.drawType==='Area';this.chart['spline'+(isArea?'Area':'')+'SeriesModule'].findSplinePoint(this);}}}},{key:'pushData',value:function pushData(point,i){point.index=i;point.yValue=point.y;// To find the min, max for the axis range.
this.xMin=Math.min(this.xMin,point.xValue);this.xMax=Math.max(this.xMax,point.xValue);this.xData.push(point.xValue);}},{key:'dataPoint',value:function dataPoint(i,textMappingName){var point=void 0;this.points[i]=new Points();point=this.points[i];var currentViewData=this.currentViewData;point.x=getValue(this.xName,currentViewData[i]);point.high=getValue(this.high,currentViewData[i]);point.low=getValue(this.low,currentViewData[i]);point.open=getValue(this.open,currentViewData[i]);point.close=getValue(this.close,currentViewData[i]);point.volume=getValue(this.volume,currentViewData[i]);point.interior=getValue(this.pointColorMapping,currentViewData[i]);if(this instanceof Series){point.y=getValue(this.yName,currentViewData[i]);point.size=getValue(this.size,currentViewData[i]);point.text=getValue(textMappingName,currentViewData[i]);}return point;}},{key:'setEmptyPoint',value:function setEmptyPoint(point,i){if(!this.findVisibility(point)){point.visible=true;return null;}point.isEmpty=true;var mode=this instanceof Series?this.emptyPointSettings.mode:'Drop';switch(mode){case'Zero':point.visible=true;if(this instanceof Series&&this.seriesType.indexOf('HighLow')>-1){point.high=point.low=0;if(this.seriesType.indexOf('HighLowOpenClose')>-1){point.open=point.close=0;}}else{point.y=point.yValue=this.yData[i]=0;}break;case'Average':if(this instanceof Series){if(this.seriesType.indexOf('HighLow')>-1){point.high=isNullOrUndefined(point.high)||isNaN(+point.high)?this.getAverage(this.high,i):point.high;point.low=isNullOrUndefined(point.low)||isNaN(+point.low)?this.getAverage(this.low,i):point.low;if(this.seriesType.indexOf('HighLowOpenClose')>-1){point.open=isNullOrUndefined(point.open)||isNaN(+point.open)?this.getAverage(this.open,i):point.open;point.close=isNullOrUndefined(point.close)||isNaN(+point.close)?this.getAverage(this.close,i):point.close;}}else{point.y=point.yValue=this.yData[i]=this.getAverage(this.yName,i);}}point.visible=true;break;case'Drop':case'Gap':this.yData[i]=null;point.visible=false;break;}}},{key:'findVisibility',value:function findVisibility(point){var type=this instanceof Series?this.seriesType:'HighLowOpenClose';var yValues=void 0;switch(type){case'XY':this.setXYMinMax(point.yValue);this.yData.push(point.yValue);if(this instanceof Series&&this.type==='Bubble'){this.sizeMax=Math.max(this.sizeMax,isNullOrUndefined(point.size)||isNaN(+point.size)?this.sizeMax:point.size);}return isNullOrUndefined(point.x)||isNullOrUndefined(point.y)||isNaN(+point.y);case'HighLow':this.setHiloMinMax(point.high,point.low);return isNullOrUndefined(point.x)||isNullOrUndefined(point.low)||isNaN(+point.low)||isNullOrUndefined(point.high)||isNaN(+point.high);case'HighLowOpenClose':this.setHiloMinMax(point.high,point.low);return isNullOrUndefined(point.x)||isNullOrUndefined(point.low)||isNaN(+point.low)||isNullOrUndefined(point.open)||isNaN(+point.open)||isNullOrUndefined(point.close)||isNaN(+point.close)||isNullOrUndefined(point.high)||isNaN(+point.high);case'BoxPlot':yValues=(point.y||[null]).filter(function(value){return!isNullOrUndefined(value)&&!isNaN(value);}).sort(function(a,b){return a-b;});point.y=yValues;this.yMin=Math.min(this.yMin,Math.min.apply(Math,_toConsumableArray(yValues)));this.yMax=Math.max(this.yMax,Math.max.apply(Math,_toConsumableArray(yValues)));return!yValues.length;}}},{key:'setXYMinMax',value:function setXYMinMax(yValue){this.yMin=Math.min(this.yMin,isNullOrUndefined(yValue)||isNaN(yValue)?this.yMin:yValue);this.yMax=Math.max(this.yMax,isNullOrUndefined(yValue)||isNaN(yValue)?this.yMax:yValue);}},{key:'setHiloMinMax',value:function setHiloMinMax(high,low){this.yMin=Math.min(this.yMin,Math.min(isNullOrUndefined(low)||isNaN(low)?this.yMin:low,isNullOrUndefined(high)||isNaN(high)?this.yMin:high));this.yMax=Math.max(this.yMax,Math.max(isNullOrUndefined(low)||isNaN(low)?this.yMax:low,isNullOrUndefined(high)||isNaN(high)?this.yMax:high));}},{key:'getSeriesType',value:function getSeriesType(){var type=void 0;if(this instanceof Series){var seriesType=this.chart.chartAreaType==='PolarRadar'?this.drawType:this.type;if(seriesType){switch(seriesType){case'RangeColumn':case'RangeArea':case'Hilo':type='HighLow';break;case'HiloOpenClose':case'Candle':type='HighLowOpenClose';break;case'BoxAndWhisker':type='BoxPlot';break;default:type='XY';}}}this.seriesType=type;}},{key:'pushCategoryData',value:function pushCategoryData(point,index,pointX){if(!this.xAxis.isIndexed){if(this.xAxis.labels.indexOf(pointX)<0){this.xAxis.labels.push(pointX);}point.xValue=this.xAxis.labels.indexOf(pointX);}else{this.xAxis.labels[index]?this.xAxis.labels[index]+=', '+pointX:this.xAxis.labels.push(pointX);point.xValue=index;}}},{key:'getAverage',value:function getAverage(member,i){var data=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.currentViewData;var previous=data[i-1]?data[i-1][member]||0:0;var next=data[i+1]?data[i+1][member]||0:0;return(previous+next)/2;}},{key:'refreshDataManager',value:function refreshDataManager(chart){var _this37=this;this.chart=chart;if(isNullOrUndefined(this.query)&&!isNullOrUndefined(this.dataSource)){this.dataManagerSuccess({result:this.dataSource,count:this.dataSource.length},chart,false);return;}var dataManager=this.dataModule.getData(this.dataModule.generateQuery().requiresCount());dataManager.then(function(e){return _this37.dataManagerSuccess(e,chart);});}},{key:'dataManagerSuccess',value:function dataManagerSuccess(e,chart){var isRemoteData=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;this.currentViewData=e.result!==''?e.result:[];if(this instanceof Series){var argsData={name:seriesRender,series:this,data:this.currentViewData,fill:this.interior};this.chart.trigger(seriesRender,argsData);this.interior=argsData.fill;this.currentViewData=argsData.data;}this.processJsonData();this.recordsCount=e.count;this.refreshChart(isRemoteData);}},{key:'refreshChart',value:function refreshChart(isRemoteData){var chart=this.chart;if(this instanceof Series){chart.visibleSeriesCount+=isRemoteData?1:0;}chart.refreshTechnicalIndicator(this);if(this instanceof Series&&this.category!=='TrendLine'){var _iteratorNormalCompletion13=true;var _didIteratorError13=false;var _iteratorError13=undefined;try{for(var _iterator13=this.trendlines[Symbol.iterator](),_step13;!(_iteratorNormalCompletion13=(_step13=_iterator13.next()).done);_iteratorNormalCompletion13=true){var trendline=_step13.value;trendline.setDataSource(this,chart);}}catch(err){_didIteratorError13=true;_iteratorError13=err;}finally{try{if(!_iteratorNormalCompletion13&&_iterator13.return){_iterator13.return();}}finally{if(_didIteratorError13){throw _iteratorError13;}}}}//if (chart.visibleSeries.length === (chart.visibleSeriesCount - chart.indicators.length)) {
if(chart.visibleSeries.length===chart.visibleSeriesCount){chart.refreshBound();chart.trigger('loaded',{chart:chart});}if(this instanceof Series){chart.visibleSeriesCount+=isRemoteData?0:1;}}}]);return SeriesBase;}(ChildProperty));__decorate$4([Property('')],SeriesBase.prototype,"xName",void 0);__decorate$4([Property('')],SeriesBase.prototype,"high",void 0);__decorate$4([Property('')],SeriesBase.prototype,"low",void 0);__decorate$4([Property('')],SeriesBase.prototype,"open",void 0);__decorate$4([Property('')],SeriesBase.prototype,"close",void 0);__decorate$4([Property('')],SeriesBase.prototype,"volume",void 0);__decorate$4([Property('')],SeriesBase.prototype,"pointColorMapping",void 0);__decorate$4([Property(null)],SeriesBase.prototype,"xAxisName",void 0);__decorate$4([Property(null)],SeriesBase.prototype,"yAxisName",void 0);__decorate$4([Complex(null,Animation$1)],SeriesBase.prototype,"animation",void 0);__decorate$4([Property(null)],SeriesBase.prototype,"fill",void 0);__decorate$4([Property(1)],SeriesBase.prototype,"width",void 0);__decorate$4([Property('0')],SeriesBase.prototype,"dashArray",void 0);__decorate$4([Property('')],SeriesBase.prototype,"dataSource",void 0);__decorate$4([Property()],SeriesBase.prototype,"query",void 0);__decorate$4([Collection([],ChartSegment)],SeriesBase.prototype,"segments",void 0);__decorate$4([Property('X')],SeriesBase.prototype,"segmentAxis",void 0);/**
 *  Configures the series in charts.
 */_export2('Series',Series=function(_SeriesBase){_inherits(Series,_SeriesBase);// tslint:disable-next-line:no-any
function Series(parent,propName,defaultValue,isArray){_classCallCheck(this,Series);var _this38=_possibleConstructorReturn(this,(Series.__proto__||Object.getPrototypeOf(Series)).call(this,parent,propName,defaultValue,isArray));_this38.visibleSeriesCount=0;/** @private */_this38.category='Series';/** @private */_this38.isRectSeries=false;/** @private */_this38.drawPoints=[];/** @private */_this38.delayedAnimation=false;return _this38;}/**
     * Refresh the axis label.
     * @return {boolean}
     * @private
     */_createClass(Series,[{key:'refreshAxisLabel',value:function refreshAxisLabel(){if(this.xAxis.valueType!=='Category'){return null;}this.xAxis.labels=[];var _iteratorNormalCompletion14=true;var _didIteratorError14=false;var _iteratorError14=undefined;try{for(var _iterator14=this.xAxis.series[Symbol.iterator](),_step14;!(_iteratorNormalCompletion14=(_step14=_iterator14.next()).done);_iteratorNormalCompletion14=true){var item=_step14.value;if(item.visible){item.xMin=Infinity;item.xMax=-Infinity;var _iteratorNormalCompletion15=true;var _didIteratorError15=false;var _iteratorError15=undefined;try{for(var _iterator15=item.points[Symbol.iterator](),_step15;!(_iteratorNormalCompletion15=(_step15=_iterator15.next()).done);_iteratorNormalCompletion15=true){var point=_step15.value;item.pushCategoryData(point,point.index,point.x);item.xMin=Math.min(item.xMin,point.xValue);item.xMax=Math.max(item.xMax,point.xValue);}}catch(err){_didIteratorError15=true;_iteratorError15=err;}finally{try{if(!_iteratorNormalCompletion15&&_iterator15.return){_iterator15.return();}}finally{if(_didIteratorError15){throw _iteratorError15;}}}}}}catch(err){_didIteratorError14=true;_iteratorError14=err;}finally{try{if(!_iteratorNormalCompletion14&&_iterator14.return){_iterator14.return();}}finally{if(_didIteratorError14){throw _iteratorError14;}}}}},{key:'findSeriesCollection',value:function findSeriesCollection(column,row,isStack){var seriesCollection=[];var _iteratorNormalCompletion16=true;var _didIteratorError16=false;var _iteratorError16=undefined;try{for(var _iterator16=row.axes[Symbol.iterator](),_step16;!(_iteratorNormalCompletion16=(_step16=_iterator16.next()).done);_iteratorNormalCompletion16=true){var rowAxis=_step16.value;var _iteratorNormalCompletion17=true;var _didIteratorError17=false;var _iteratorError17=undefined;try{for(var _iterator17=rowAxis.series[Symbol.iterator](),_step17;!(_iteratorNormalCompletion17=(_step17=_iterator17.next()).done);_iteratorNormalCompletion17=true){var rowSeries=_step17.value;var _iteratorNormalCompletion18=true;var _didIteratorError18=false;var _iteratorError18=undefined;try{for(var _iterator18=column.axes[Symbol.iterator](),_step18;!(_iteratorNormalCompletion18=(_step18=_iterator18.next()).done);_iteratorNormalCompletion18=true){var axis=_step18.value;var _iteratorNormalCompletion19=true;var _didIteratorError19=false;var _iteratorError19=undefined;try{for(var _iterator19=axis.series[Symbol.iterator](),_step19;!(_iteratorNormalCompletion19=(_step19=_iterator19.next()).done);_iteratorNormalCompletion19=true){var series=_step19.value;if(series===rowSeries&&series.visible&&this.rectSeriesInChart(series,isStack)){seriesCollection.push(series);}}}catch(err){_didIteratorError19=true;_iteratorError19=err;}finally{try{if(!_iteratorNormalCompletion19&&_iterator19.return){_iterator19.return();}}finally{if(_didIteratorError19){throw _iteratorError19;}}}}}catch(err){_didIteratorError18=true;_iteratorError18=err;}finally{try{if(!_iteratorNormalCompletion18&&_iterator18.return){_iterator18.return();}}finally{if(_didIteratorError18){throw _iteratorError18;}}}}}catch(err){_didIteratorError17=true;_iteratorError17=err;}finally{try{if(!_iteratorNormalCompletion17&&_iterator17.return){_iterator17.return();}}finally{if(_didIteratorError17){throw _iteratorError17;}}}}}catch(err){_didIteratorError16=true;_iteratorError16=err;}finally{try{if(!_iteratorNormalCompletion16&&_iterator16.return){_iterator16.return();}}finally{if(_didIteratorError16){throw _iteratorError16;}}}return seriesCollection;}},{key:'rectSeriesInChart',value:function rectSeriesInChart(series,isStack){var type=series.type.toLowerCase();return type.indexOf('column')!==-1||type.indexOf('bar')!==-1||type.indexOf('hiloopenclose')!==-1||type.indexOf('candle')!==-1||type.indexOf('hilo')!==-1||series.drawType.indexOf('Column')!==-1||type.indexOf('waterfall')!==-1||type.indexOf('boxandwhisker')!==-1||isStack;}},{key:'calculateStackedValue',value:function calculateStackedValue(isStacking100,chart){var _iteratorNormalCompletion20=true;var _didIteratorError20=false;var _iteratorError20=undefined;try{for(var _iterator20=chart.columns[Symbol.iterator](),_step20;!(_iteratorNormalCompletion20=(_step20=_iterator20.next()).done);_iteratorNormalCompletion20=true){var columnItem=_step20.value;var _iteratorNormalCompletion21=true;var _didIteratorError21=false;var _iteratorError21=undefined;try{for(var _iterator21=chart.rows[Symbol.iterator](),_step21;!(_iteratorNormalCompletion21=(_step21=_iterator21.next()).done);_iteratorNormalCompletion21=true){var item=_step21.value;this.calculateStackingValues(this.findSeriesCollection(columnItem,item,true),isStacking100);}}catch(err){_didIteratorError21=true;_iteratorError21=err;}finally{try{if(!_iteratorNormalCompletion21&&_iterator21.return){_iterator21.return();}}finally{if(_didIteratorError21){throw _iteratorError21;}}}}}catch(err){_didIteratorError20=true;_iteratorError20=err;}finally{try{if(!_iteratorNormalCompletion20&&_iterator20.return){_iterator20.return();}}finally{if(_didIteratorError20){throw _iteratorError20;}}}}},{key:'calculateStackingValues',value:function calculateStackingValues(seriesCollection,isStacking100){var startValues=void 0;var endValues=void 0;var yValues=[];var lastPositive=[];var lastNegative=[];var stackingGroup=void 0;var lastValue=void 0;var value=void 0;var frequencies=[];if(isStacking100){frequencies=this.findFrequencies(seriesCollection);}var _iteratorNormalCompletion22=true;var _didIteratorError22=false;var _iteratorError22=undefined;try{for(var _iterator22=seriesCollection[Symbol.iterator](),_step22;!(_iteratorNormalCompletion22=(_step22=_iterator22.next()).done);_iteratorNormalCompletion22=true){var series=_step22.value;if(series.type.indexOf('Stacking')!==-1||series.drawType.indexOf('Stacking')!==-1&&series.chart.chartAreaType==='PolarRadar'){stackingGroup=series.type.indexOf('StackingArea')!==-1?'StackingArea100':series.stackingGroup;if(!lastPositive[stackingGroup]){lastPositive[stackingGroup]=[];lastNegative[stackingGroup]=[];}yValues=series.yData;startValues=[];endValues=[];for(var j=0,pointsLength=series.points.length;j<pointsLength;j++){lastValue=0;value=yValues[j];if(lastPositive[stackingGroup][series.points[j].xValue]===undefined){lastPositive[stackingGroup][series.points[j].xValue]=0;}if(lastNegative[stackingGroup][series.points[j].xValue]===undefined){lastNegative[stackingGroup][series.points[j].xValue]=0;}if(isStacking100){value=value/frequencies[stackingGroup][series.points[j].xValue]*100;value=!isNaN(value)?value:0;series.points[j].percent=value.toFixed(2);}if(value>=0){lastValue=lastPositive[stackingGroup][series.points[j].xValue];lastPositive[stackingGroup][series.points[j].xValue]+=value;}else{lastValue=lastNegative[stackingGroup][series.points[j].xValue];lastNegative[stackingGroup][series.points[j].xValue]+=value;}startValues.push(lastValue);endValues.push(value+lastValue);if(isStacking100&&endValues[j]>100){endValues[j]=100;}}series.stackedValues=new StackValues(startValues,endValues);series.yMin=Math.min.apply(0,startValues);series.yMax=Math.max.apply(0,endValues);if(series.yMin>Math.min.apply(0,endValues)){series.yMin=isStacking100?-100:Math.min.apply(0,endValues);}if(series.yMax<Math.max.apply(0,startValues)){series.yMax=0;}}}}catch(err){_didIteratorError22=true;_iteratorError22=err;}finally{try{if(!_iteratorNormalCompletion22&&_iterator22.return){_iterator22.return();}}finally{if(_didIteratorError22){throw _iteratorError22;}}}}},{key:'findFrequencies',value:function findFrequencies(seriesCollection){var frequencies=[];var stackingGroup=void 0;var _iteratorNormalCompletion23=true;var _didIteratorError23=false;var _iteratorError23=undefined;try{for(var _iterator23=seriesCollection[Symbol.iterator](),_step23;!(_iteratorNormalCompletion23=(_step23=_iterator23.next()).done);_iteratorNormalCompletion23=true){var series=_step23.value;series.yAxis.isStack100=series.type.indexOf('100')!==-1?true:false;if(series.type.indexOf('Stacking')!==-1){stackingGroup=series.type.indexOf('StackingArea')!==-1?'StackingArea100':series.stackingGroup;if(!frequencies[stackingGroup]){frequencies[stackingGroup]=[];}for(var j=0,pointsLength=series.points.length;j<pointsLength;j++){if(frequencies[stackingGroup][series.points[j].xValue]===undefined){frequencies[stackingGroup][series.points[j].xValue]=0;}if(series.yData[j]>0){frequencies[stackingGroup][series.points[j].xValue]+=series.yData[j];}else{frequencies[stackingGroup][series.points[j].xValue]-=series.yData[j];}}}}}catch(err){_didIteratorError23=true;_iteratorError23=err;}finally{try{if(!_iteratorNormalCompletion23&&_iterator23.return){_iterator23.return();}}finally{if(_didIteratorError23){throw _iteratorError23;}}}return frequencies;}},{key:'logWithIn',value:function logWithIn(value,axis){if(axis.valueType==='Logarithmic'){value=logBase(value,axis.logBase);}else{value=value;}return value;}},{key:'renderSeries',value:function renderSeries(chart,index){var seriesType=firstToLowerCase(this.type);if(seriesType.indexOf('100')!==-1){seriesType=seriesType.replace('100','');}if(chart[seriesType+'SeriesModule']){if(this.category!=='Indicator'&&this.category!=='TrendLine'){this.createSeriesElements(chart);}chart[seriesType+'SeriesModule'].render(this,this.xAxis,this.yAxis,chart.requireInvertedAxis);if(this.category!=='Indicator'){if(this.errorBar.visible){this.chart.errorBarModule.render(this);}if(this.marker.dataLabel.visible){chart.dataLabelModule.render(this,this.chart,this.marker.dataLabel);}this.appendSeriesElement(chart.seriesElements,chart);}this.performAnimation(chart,seriesType,this.errorBar,this.marker,this.marker.dataLabel);}}},{key:'createSeriesElements',value:function createSeriesElements(chart){if(this.category!=='Indicator'){var elementId=chart.element.id;var xAxisRect=this.xAxis.rect;// 8 for extend border value 5 for extend size value
var explodeValue=this.marker.border.width+8+5;var yAxisRect=this.yAxis.rect;var marker=this.marker;var render=chart.renderer;var index=this.index;var markerHeight=this.type==='Scatter'?(this.marker.height+explodeValue)/2:0;var markerWidth=this.type==='Scatter'?(this.marker.width+explodeValue)/2:0;if(chart.chartAreaType==='PolarRadar'){this.clipRectElement=render.drawCircularClipPath(new CircleOption(elementId+'_ChartSeriesClipRect_'+index,'transparent',{width:1,color:'Gray'},1,this.clipRect.width/2+this.clipRect.x,this.clipRect.height/2+this.clipRect.y,chart.radius));}else{this.clipRectElement=render.drawClipPath(new RectOption(elementId+'_ChartSeriesClipRect_'+index,'transparent',{width:1,color:'Gray'},1,{x:-markerWidth,y:-markerHeight,width:this.clipRect.width+markerWidth*2,height:this.clipRect.height+markerHeight*2}));}var transform=void 0;transform=chart.chartAreaType==='Cartesian'?'translate('+this.clipRect.x+','+this.clipRect.y+')':'';this.symbolElement=null;this.seriesElement=render.createGroup({'id':elementId+'SeriesGroup'+index,'transform':transform,'clip-path':'url(#'+elementId+'_ChartSeriesClipRect_'+index+')'});this.seriesElement.appendChild(this.clipRectElement);}}},{key:'appendSeriesElement',value:function appendSeriesElement(element,chart){var marker=this.marker;var dataLabel=marker.dataLabel;if(this.category!=='TrendLine'){chart.seriesElements.appendChild(this.seriesElement);var errorBar=this.errorBar;if(errorBar.visible){if(chart.chartAreaType==='PolarRadar'){chart.seriesElements.appendChild(this.seriesElement);}else{chart.seriesElements.appendChild(this.errorBarElement);}}if(this.type==='Scatter'||this.type==='Bubble'){chart.seriesElements.appendChild(this.seriesElement);}}if(marker.visible&&(chart.chartAreaType==='Cartesian'&&(!this.isRectSeries||this.type==='BoxAndWhisker')||this.drawType!=='Scatter'&&!this.isRectSeries&&chart.chartAreaType==='PolarRadar')&&this.type!=='Scatter'&&this.type!=='Bubble'){chart.seriesElements.appendChild(this.symbolElement);}if(dataLabel.visible){chart.dataLabelElements.appendChild(this.shapeElement);chart.dataLabelElements.appendChild(this.textElement);}if(chart.dataLabelElements.hasChildNodes()){chart.seriesElements.appendChild(chart.dataLabelElements);}}},{key:'performAnimation',value:function performAnimation(chart,type,errorBar,marker,dataLabel){if(this.animation.enable&&chart.animateSeries){chart[type+'SeriesModule'].doAnimation(this);if(errorBar.visible){chart.errorBarModule.doErrorBarAnimation(this);}if(marker.visible){chart.markerRender.doMarkerAnimation(this);}if(dataLabel.visible){chart.dataLabelModule.doDataLabelAnimation(this);}}}},{key:'setPointColor',value:function setPointColor(point,color){color=point.interior||color;return point.isEmpty?this.emptyPointSettings.fill||color:color;}},{key:'setBorderColor',value:function setBorderColor(point,border){border.width=point.isEmpty?this.emptyPointSettings.border.width||border.width:border.width;border.color=point.isEmpty?this.emptyPointSettings.border.color||border.color:border.color;return border;}}]);return Series;}(SeriesBase));__decorate$4([Property('')],Series.prototype,"name",void 0);__decorate$4([Property('')],Series.prototype,"yName",void 0);__decorate$4([Property('Line')],Series.prototype,"drawType",void 0);__decorate$4([Property(true)],Series.prototype,"isClosed",void 0);__decorate$4([Property('#2ecd71')],Series.prototype,"bearFillColor",void 0);__decorate$4([Property('#e74c3d')],Series.prototype,"bullFillColor",void 0);__decorate$4([Property(false)],Series.prototype,"enableSolidCandles",void 0);__decorate$4([Property('')],Series.prototype,"size",void 0);__decorate$4([Property('')],Series.prototype,"stackingGroup",void 0);__decorate$4([Property(true)],Series.prototype,"visible",void 0);__decorate$4([Complex({color:'transparent',width:0},Border)],Series.prototype,"border",void 0);__decorate$4([Property(1)],Series.prototype,"opacity",void 0);__decorate$4([Property('Line')],Series.prototype,"type",void 0);__decorate$4([Complex(null,ErrorBarSettings)],Series.prototype,"errorBar",void 0);__decorate$4([Complex(null,MarkerSettings)],Series.prototype,"marker",void 0);__decorate$4([Collection([],Trendline)],Series.prototype,"trendlines",void 0);__decorate$4([Property(true)],Series.prototype,"enableTooltip",void 0);__decorate$4([Property('SeriesType')],Series.prototype,"legendShape",void 0);__decorate$4([Property(null)],Series.prototype,"selectionStyle",void 0);__decorate$4([Property(1)],Series.prototype,"minRadius",void 0);__decorate$4([Property(3)],Series.prototype,"maxRadius",void 0);__decorate$4([Property('Natural')],Series.prototype,"splineType",void 0);__decorate$4([Property(0.5)],Series.prototype,"cardinalSplineTension",void 0);__decorate$4([Complex(null,EmptyPointSettings)],Series.prototype,"emptyPointSettings",void 0);__decorate$4([Property(true)],Series.prototype,"showMean",void 0);__decorate$4([Property('Normal')],Series.prototype,"boxPlotMode",void 0);__decorate$4([Property(0.7)],Series.prototype,"columnWidth",void 0);__decorate$4([Property(0)],Series.prototype,"columnSpacing",void 0);__decorate$4([Property('#C64E4A')],Series.prototype,"negativeFillColor",void 0);__decorate$4([Property('#4E81BC')],Series.prototype,"summaryFillColor",void 0);__decorate$4([Property()],Series.prototype,"intermediateSumIndexes",void 0);__decorate$4([Property()],Series.prototype,"sumIndexes",void 0);__decorate$4([Complex({color:'black',width:2},Connector)],Series.prototype,"connector",void 0);__decorate$4([Complex(null,CornerRadius)],Series.prototype,"cornerRadius",void 0);/**
 * data module is used to generate query and dataSource
 */Data=function(){/**
     * Constructor for data module
     * @private
     */function Data(dataSource,query){_classCallCheck(this,Data);this.initDataManager(dataSource,query);}/**
     * The function used to initialize dataManager and query
     * @return {void}
     * @private
     */_createClass(Data,[{key:'initDataManager',value:function initDataManager(dataSource,query){this.dataManager=dataSource instanceof DataManager?dataSource:new DataManager(dataSource);this.query=query instanceof Query?query:new Query();}},{key:'generateQuery',value:function generateQuery(){var query=this.query.clone();return query;}},{key:'getData',value:function getData(query){return this.dataManager.executeQuery(query);}}]);return Data;}();MarkerExplode=function(_ChartData){_inherits(MarkerExplode,_ChartData);/**
     * Constructor for the marker module.
     * @private
     */function MarkerExplode(chart){_classCallCheck(this,MarkerExplode);var _this39=_possibleConstructorReturn(this,(MarkerExplode.__proto__||Object.getPrototypeOf(MarkerExplode)).call(this,chart));_this39.addEventListener();_this39.elementId=chart.element.id;return _this39;}/**
     * @hidden
     */_createClass(MarkerExplode,[{key:'addEventListener',value:function addEventListener(){if(this.chart.isDestroyed){return;}this.chart.on(Browser.touchMoveEvent,this.mouseMoveHandler,this);this.chart.on(Browser.touchEndEvent,this.mouseUpHandler,this);}},{key:'mouseUpHandler',value:function mouseUpHandler(){var chart=this.chart;if(chart.isTouch&&!chart.crosshair.enable&&!this.isSelected(chart)){this.markerMove(true);}}},{key:'mouseMoveHandler',value:function mouseMoveHandler(){var chart=this.chart;if((!chart.crosshair.enable||chart.tooltip.enable)&&(!chart.isTouch||chart.startMove)&&!this.isSelected(chart)){this.markerMove(false);}}},{key:'markerMove',value:function markerMove(remove$$1){var _this40=this;var chart=this.chart;this.currentPoints=[];var data=void 0;var previous=void 0;var explodeSeries=void 0;if(!chart.tooltip.shared||!chart.tooltip.enable){data=this.getData();previous=this.previousPoints[0];explodeSeries=data.series&&(data.series.type==='BoxAndWhisker'||data.series.type==='Bubble'||data.series.drawType==='Scatter'||data.series.type==='Scatter'||!data.series.isRectSeries&&data.series.marker.visible);data.lierIndex=this.lierIndex;if(data.point&&explodeSeries&&(!previous||previous.point!==data.point||previous&&previous.lierIndex>3&&previous.lierIndex!==this.lierIndex)){this.currentPoints.push(data);}}else{if(!withInBounds(chart.mouseX,chart.mouseY,chart.chartAxisLayoutPanel.seriesClipRect)){return null;}if(chart.tooltip.enable){var pointData=chart.chartAreaType==='PolarRadar'?this.getData():null;var _iteratorNormalCompletion24=true;var _didIteratorError24=false;var _iteratorError24=undefined;try{for(var _iterator24=chart.visibleSeries[Symbol.iterator](),_step24;!(_iteratorNormalCompletion24=(_step24=_iterator24.next()).done);_iteratorNormalCompletion24=true){var chartSeries=_step24.value;if(!chartSeries.enableTooltip||chartSeries.category==='Indicator'){continue;}if(chart.chartAreaType==='Cartesian'&&chartSeries.visible){data=this.getClosestX(chart,chartSeries);}else if(chart.chartAreaType==='PolarRadar'&&chartSeries.visible&&pointData.point!==null){data=new PointData(chartSeries.points[pointData.point.index],chartSeries);}if(data){this.currentPoints.push(data);data=null;}}}catch(err){_didIteratorError24=true;_iteratorError24=err;}finally{try{if(!_iteratorNormalCompletion24&&_iterator24.return){_iterator24.return();}}finally{if(_didIteratorError24){throw _iteratorError24;}}}}}var length=this.previousPoints.length;if(this.currentPoints.length>0){if(length===0||length>0&&this.previousPoints[0].point!==this.currentPoints[0].point){if(this.previousPoints.length>0){this.removeHighlightedMarker();}var _loop=function _loop(_data){if(_data&&_data.point&&(!_data.series.isRectSeries||_data.series.type==='BoxAndWhisker')){stopTimer(_this40.markerExplode);_this40.isRemove=true;_data.point.symbolLocations.map(function(location,index){if(_data.point.marker.visible){_this40.drawTrackBall(_data.series,_data.point,location,index);}});}};var _iteratorNormalCompletion25=true;var _didIteratorError25=false;var _iteratorError25=undefined;try{for(var _iterator25=this.currentPoints[Symbol.iterator](),_step25;!(_iteratorNormalCompletion25=(_step25=_iterator25.next()).done);_iteratorNormalCompletion25=true){var _data=_step25.value;_loop(_data);}}catch(err){_didIteratorError25=true;_iteratorError25=err;}finally{try{if(!_iteratorNormalCompletion25&&_iterator25.return){_iterator25.return();}}finally{if(_didIteratorError25){throw _iteratorError25;}}}this.previousPoints=extend([],this.currentPoints,null,true);}}if(!chart.tooltip.enable&&(this.currentPoints.length===0&&this.isRemove||remove$$1&&this.isRemove||!withInBounds(chart.mouseX,chart.mouseY,chart.chartAxisLayoutPanel.seriesClipRect))){this.isRemove=false;this.markerExplode=setTimeout(function(){_this40.removeHighlightedMarker();},2000);}this.currentPoints=[];}},{key:'drawTrackBall',value:function drawTrackBall(series,point,location,index){var marker=point.marker;var seriesMarker=series.marker;var shape=marker.shape||seriesMarker.shape;var element=series.symbolElement||series.seriesElement;var symbolId=this.elementId+'_Series_'+series.index+'_Point_'+point.index+'_Trackball'+(index?index:'');var size=new Size((marker.width||seriesMarker.width)+5,(marker.height||seriesMarker.height)+5);var border=marker.border||series.border;var explodeSeries=series.type==='BoxAndWhisker'||series.type==='Bubble'||series.type==='Scatter';var borderColor=border.color&&border.color!=='transparent'?border.color:marker.fill||point.interior||(explodeSeries?point.color:series.interior);var colorValue=convertHexToColor(colorNameToHex(borderColor));var borderWidth=marker.border?marker.border.width:seriesMarker.border.width;var markerShadow=series.chart.themeStyle.markerShadow||'rgba('+colorValue.r+','+colorValue.g+','+colorValue.b+',0.2)';for(var i=0;i<2;i++){var options=new PathOption(symbolId+'_'+i,i?marker.fill||point.color||(explodeSeries?series.interior:'#ffffff'):'transparent',borderWidth+(i?0:8),i?borderColor:markerShadow,marker.opacity||seriesMarker.opacity,null,null);var symbol=drawSymbol(location,shape,size,seriesMarker.imageUrl,options,'');symbol.setAttribute('style','pointer-events:none');symbol.setAttribute('class','EJ2-Trackball');element.appendChild(symbol);}}},{key:'removeHighlightedMarker',value:function removeHighlightedMarker(){var elements=document.getElementsByClassName('EJ2-Trackball');for(var i=0,len=elements.length;i<len;i++){remove(elements[0]);}this.previousPoints=[];}}]);return MarkerExplode;}(ChartData);Marker=function(_MarkerExplode){_inherits(Marker,_MarkerExplode);/**
     * Constructor for the marker module.
     * @private
     */function Marker(chart){_classCallCheck(this,Marker);var _this41=_possibleConstructorReturn(this,(Marker.__proto__||Object.getPrototypeOf(Marker)).call(this,chart));_this41.addEventListener();return _this41;}/**
     * Render the marker for series.
     * @return {void}
     * @private
     */_createClass(Marker,[{key:'render',value:function render(series){var _this42=this;this.createElement(series);var _loop2=function _loop2(point){if(point.visible&&point.symbolLocations.length){point.symbolLocations.map(function(location,index){_this42.renderMarker(series,point,location,index);});}};var _iteratorNormalCompletion26=true;var _didIteratorError26=false;var _iteratorError26=undefined;try{for(var _iterator26=series.points[Symbol.iterator](),_step26;!(_iteratorNormalCompletion26=(_step26=_iterator26.next()).done);_iteratorNormalCompletion26=true){var point=_step26.value;_loop2(point);}}catch(err){_didIteratorError26=true;_iteratorError26=err;}finally{try{if(!_iteratorNormalCompletion26&&_iterator26.return){_iterator26.return();}}finally{if(_didIteratorError26){throw _iteratorError26;}}}}},{key:'renderMarker',value:function renderMarker(series,point,location,index){var seriesIndex=series.index;var marker=series.marker;var border={color:marker.border.color,width:marker.border.width};var borderColor=marker.border.color;var symbolId=void 0;var shapeOption=void 0;var isBoxPlot=series.type==='BoxAndWhisker';var fill=marker.fill||(isBoxPlot?point.interior||series.interior:'#ffffff');var argsData=void 0;var parentElement=isBoxPlot?findlElement(series.seriesElement.childNodes,'Series_'+series.index+'_Point_'+point.index):series.symbolElement;border.color=borderColor||series.setPointColor(point,series.interior);symbolId=this.elementId+'_Series_'+seriesIndex+'_Point_'+point.index+'_Symbol'+(index?index:'');argsData={cancel:false,name:pointRender,series:series,point:point,fill:point.isEmpty?series.emptyPointSettings.fill||fill:fill,border:{color:series.type==='BoxAndWhisker'?!isNullOrUndefined(borderColor)&&borderColor!=='transparent'?borderColor:getSaturationColor(fill,-0.6):border.color,width:border.width},height:marker.height,width:marker.width,shape:marker.shape};argsData.border=series.setBorderColor(point,{width:argsData.border.width,color:argsData.border.color});this.chart.trigger(pointRender,argsData);point.color=argsData.fill;if(!argsData.cancel){var y=void 0;if(series.type==='RangeArea'){y=index?point.low:point.high;}else if(isBoxPlot){y=point.outliers[index];}else{y=point.y;}shapeOption=new PathOption(symbolId,argsData.fill,argsData.border.width,argsData.border.color,marker.opacity,null);if(parentElement!==undefined&&parentElement!==null){parentElement.appendChild(drawSymbol(location,argsData.shape,new Size(argsData.width,argsData.height),marker.imageUrl,shapeOption,point.x.toString()+':'+y.toString()));}point.marker={border:argsData.border,fill:argsData.fill,height:argsData.height,visible:true,shape:argsData.shape,width:argsData.width};}else{location=null;point.marker={visible:false};}}},{key:'createElement',value:function createElement(series){var markerClipRect=void 0;var marker=series.marker;// 8 for extend border value 5 for extend size value
var explodeValue=marker.border.width+8+5;var render=series.chart.renderer;var transform=void 0;transform=series.chart.chartAreaType==='Cartesian'?'translate('+series.clipRect.x+','+series.clipRect.y+')':'';if(marker.visible){var markerHeight=(marker.height+explodeValue)/2;var markerWidth=(marker.width+explodeValue)/2;if(series.chart.chartAreaType==='Cartesian'){markerClipRect=render.drawClipPath(new RectOption(this.elementId+'_ChartMarkerClipRect_'+series.index,'transparent',{width:1,color:'Gray'},1,{x:-markerWidth,y:-markerHeight,width:series.clipRect.width+markerWidth*2,height:series.clipRect.height+markerHeight*2}));}else{markerClipRect=render.drawCircularClipPath(new CircleOption(this.elementId+'_ChartMarkerClipRect_'+series.index,'transparent',{width:1,color:'Gray'},1,series.clipRect.width/2+series.clipRect.x,series.clipRect.height/2+series.clipRect.y,series.chart.radius+Math.max(markerHeight,markerWidth)));}series.symbolElement=render.createGroup({'id':this.elementId+'SymbolGroup'+series.index,'transform':transform,'clip-path':'url(#'+this.elementId+'_ChartMarkerClipRect_'+series.index+')'});series.symbolElement.appendChild(markerClipRect);}}},{key:'getRangeLowPoint',value:function getRangeLowPoint(region,series){var x=region.x;var y=region.y;if(series.chart.requireInvertedAxis){y+=region.height/2;x+=series.yAxis.isInversed?region.width:0;}else{y+=series.yAxis.isInversed?0:region.height;x+=region.width/2;}return{x:x,y:y};}},{key:'doMarkerAnimation',value:function doMarkerAnimation(series){if(!(series.isRectSeries||series.type==='Scatter'||series.type==='Bubble'||series.chart.chartAreaType==='PolarRadar'&&(series.drawType==='Scatter'||series.drawType.indexOf('Column')>-1))){var markerElements=series.symbolElement.childNodes;var delay=series.animation.delay+series.animation.duration;var j=1;var incFactor=series.type==='RangeArea'?2:1;for(var i=0;i<series.points.length;i++){if(!series.points[i].symbolLocations.length||!markerElements[j]){continue;}markerAnimate(markerElements[j],delay,200,series,i,series.points[i].symbolLocations[0],false);if(incFactor===2){var lowPoint=this.getRangeLowPoint(series.points[i].regions[0],series);markerAnimate(markerElements[j+1],delay,200,series,i,lowPoint,false);}j+=incFactor;}}}}]);return Marker;}(MarkerExplode);__decorate$5=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==='undefined'?'undefined':_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};Location=function(_ChildProperty32){_inherits(Location,_ChildProperty32);function Location(){_classCallCheck(this,Location);return _possibleConstructorReturn(this,(Location.__proto__||Object.getPrototypeOf(Location)).apply(this,arguments));}return Location;}(ChildProperty);__decorate$5([Property(0)],Location.prototype,"x",void 0);__decorate$5([Property(0)],Location.prototype,"y",void 0);/**
 * Configures the legends in charts.
 */LegendSettings=function(_ChildProperty33){_inherits(LegendSettings,_ChildProperty33);function LegendSettings(){_classCallCheck(this,LegendSettings);return _possibleConstructorReturn(this,(LegendSettings.__proto__||Object.getPrototypeOf(LegendSettings)).apply(this,arguments));}return LegendSettings;}(ChildProperty);__decorate$5([Property(true)],LegendSettings.prototype,"visible",void 0);__decorate$5([Property(null)],LegendSettings.prototype,"height",void 0);__decorate$5([Property(null)],LegendSettings.prototype,"width",void 0);__decorate$5([Complex({x:0,y:0},Location)],LegendSettings.prototype,"location",void 0);__decorate$5([Property('Auto')],LegendSettings.prototype,"position",void 0);__decorate$5([Property(8)],LegendSettings.prototype,"padding",void 0);__decorate$5([Property('Center')],LegendSettings.prototype,"alignment",void 0);__decorate$5([Complex(Theme.legendLabelFont,Font)],LegendSettings.prototype,"textStyle",void 0);__decorate$5([Property(10)],LegendSettings.prototype,"shapeHeight",void 0);__decorate$5([Property(10)],LegendSettings.prototype,"shapeWidth",void 0);__decorate$5([Complex({},Border)],LegendSettings.prototype,"border",void 0);__decorate$5([Property(5)],LegendSettings.prototype,"shapePadding",void 0);__decorate$5([Property('transparent')],LegendSettings.prototype,"background",void 0);__decorate$5([Property(1)],LegendSettings.prototype,"opacity",void 0);__decorate$5([Property(true)],LegendSettings.prototype,"toggleVisibility",void 0);__decorate$5([Property(null)],LegendSettings.prototype,"description",void 0);__decorate$5([Property(3)],LegendSettings.prototype,"tabIndex",void 0);/**
 * Legend base class for Chart and Accumulation chart.
 * @private
 */BaseLegend=function(){/**
     * Constructor for the dateTime module.
     * @private
     */function BaseLegend(chart){_classCallCheck(this,BaseLegend);this.rowCount=0;// legend row counts per page 
this.columnCount=0;// legend column counts per page 
this.pageButtonSize=8;this.pageXCollections=[];// pages of x locations
this.maxColumns=0;this.isTrimmed=false;this.maxWidth=0;this.currentPage=1;this.chart=chart;this.legend=chart.legendSettings;this.legendID=chart.element.id+'_chart_legend';this.isChartControl=chart.getModuleName()==='chart';}/**
     * Calculate the bounds for the legends.
     * @return {void}
     * @private
     */_createClass(BaseLegend,[{key:'calculateLegendBounds',value:function calculateLegendBounds(rect,availableSize){var legend=this.legend;this.getPosition(legend.position,availableSize);this.legendBounds=new Rect(rect.x,rect.y,0,0);this.isVertical=this.position==='Left'||this.position==='Right';if(this.isVertical){this.legendBounds.height=stringToNumber(legend.height,availableSize.height-(rect.y-this.chart.margin.top))||rect.height;this.legendBounds.width=stringToNumber(legend.width||'20%',availableSize.width);}else{this.legendBounds.width=stringToNumber(legend.width,availableSize.width)||rect.width;this.legendBounds.height=stringToNumber(legend.height||'20%',availableSize.height);}this.library.getLegendBounds(availableSize,this.legendBounds,legend);this.getLocation(this.position,legend.alignment,this.legendBounds,rect,availableSize);}},{key:'getPosition',value:function getPosition(position,availableSize){if(this.isChartControl){this.position=position!=='Auto'?position:'Bottom';}else{if(position==='Auto'&&this.chart.visibleSeries&&(this.chart.visibleSeries[0].type==='Funnel'||this.chart.visibleSeries[0].type==='Pyramid')){position='Top';}this.position=position!=='Auto'?position:availableSize.width>availableSize.height?'Right':'Bottom';}}},{key:'setBounds',value:function setBounds(computedWidth,computedHeight,legend,legendBounds){computedWidth=computedWidth<legendBounds.width?computedWidth:legendBounds.width;computedHeight=computedHeight<legendBounds.height?computedHeight:legendBounds.height;legendBounds.width=!legend.width?computedWidth:legendBounds.width;legendBounds.height=!legend.height?computedHeight:legendBounds.height;this.rowCount=Math.max(1,Math.ceil((legendBounds.height-legend.padding)/(this.maxItemHeight+legend.padding)));}},{key:'getLocation',value:function getLocation(position,alignment,legendBounds,rect,availableSize){var padding=this.legend.border.width;var legendHeight=legendBounds.height+padding;var legendWidth=legendBounds.width+padding;var marginBottom=this.chart.margin.bottom;if(position==='Bottom'){legendBounds.x=this.alignLegend(legendBounds.x,availableSize.width,legendBounds.width,alignment);legendBounds.y=rect.y+(rect.height-legendHeight)+padding;subtractThickness(rect,new Thickness(0,0,0,legendHeight));}else if(position==='Top'){legendBounds.x=this.alignLegend(legendBounds.x,availableSize.width,legendBounds.width,alignment);legendBounds.y=rect.y+padding;subtractThickness(rect,new Thickness(0,0,legendHeight,0));}else if(position==='Right'){legendBounds.x=rect.x+(rect.width-legendBounds.width);legendBounds.y=rect.y+this.alignLegend(0,availableSize.height-(rect.y+marginBottom),legendBounds.height,alignment);subtractThickness(rect,new Thickness(0,legendWidth,0,0));}else if(position==='Left'){legendBounds.y=rect.y+this.alignLegend(0,availableSize.height-(rect.y+marginBottom),legendBounds.height,alignment);subtractThickness(rect,new Thickness(legendWidth,0,0,0));}else{legendBounds.x=this.legend.location.x;legendBounds.y=this.legend.location.y;subtractThickness(rect,new Thickness(0,0,0,0));}}},{key:'alignLegend',value:function alignLegend(start,size,legendSize,alignment){switch(alignment){case'Far':start=size-legendSize-start;break;case'Center':start=(size-legendSize)/2;break;}return start;}},{key:'renderLegend',value:function renderLegend(chart,legend,legendBounds){var firstLegend=this.findFirstLegendPosition(this.legendCollections);var padding=legend.padding;this.maxItemHeight=Math.max(this.legendCollections[0].textSize.height,legend.shapeHeight);var legendGroup=chart.renderer.createGroup({id:this.legendID+'_g'});var legendTranslateGroup=this.createLegendElements(chart,legendBounds,legendGroup,legend,this.legendID);if(firstLegend!==this.legendCollections.length){var legendSeriesGroup=void 0;// legendItem group for each series group element
var start=void 0;// starting shape center x,y position && to resolve lint error used new line for declaration
start=new ChartLocation(legendBounds.x+padding+legend.shapeWidth/2,legendBounds.y+padding+this.maxItemHeight/2);var textOptions=new TextOption('',start.x,start.y,'start');//  initialization for totalPages legend click totalpage again calculate
this.totalPages=this.isChartControl?this.totalPages:0;var textPadding=legend.shapePadding+padding+legend.shapeWidth;var count=0;this.pageXCollections=[];this.legendCollections[firstLegend].location=start;var previousLegend=this.legendCollections[firstLegend];var _iteratorNormalCompletion27=true;var _didIteratorError27=false;var _iteratorError27=undefined;try{for(var _iterator27=this.legendCollections[Symbol.iterator](),_step27;!(_iteratorNormalCompletion27=(_step27=_iterator27.next()).done);_iteratorNormalCompletion27=true){var legendOption=_step27.value;if(legendOption.render&&legendOption.text!==''){legendSeriesGroup=chart.renderer.createGroup({id:this.legendID+this.generateId(legendOption,'_g_',count)});legendSeriesGroup.setAttribute('tabindex',legend.tabIndex.toString());legendSeriesGroup.setAttribute('aria-label',legend.description||'Click to show or hide the '+legendOption.text+' series');this.library.getRenderPoint(legendOption,start,textPadding,previousLegend,legendBounds,count,firstLegend);this.renderSymbol(legendOption,legendSeriesGroup,count);this.renderText(chart,legendOption,legendSeriesGroup,textOptions,count);legendSeriesGroup.setAttribute('style','cursor: '+(!legend.toggleVisibility&&chart.selectionMode==='None'?'auto':'pointer'));legendTranslateGroup.appendChild(legendSeriesGroup);previousLegend=legendOption;}count++;}}catch(err){_didIteratorError27=true;_iteratorError27=err;}finally{try{if(!_iteratorNormalCompletion27&&_iterator27.return){_iterator27.return();}}finally{if(_didIteratorError27){throw _iteratorError27;}}}if(this.isPaging){this.renderPagingElements(chart,legendBounds,textOptions,legendGroup);}}chart.svgObject.appendChild(legendGroup);}},{key:'findFirstLegendPosition',value:function findFirstLegendPosition(legendCollection){var count=0;var _iteratorNormalCompletion28=true;var _didIteratorError28=false;var _iteratorError28=undefined;try{for(var _iterator28=legendCollection[Symbol.iterator](),_step28;!(_iteratorNormalCompletion28=(_step28=_iterator28.next()).done);_iteratorNormalCompletion28=true){var legend=_step28.value;if(legend.render&&legend.text!==''){break;}count++;}}catch(err){_didIteratorError28=true;_iteratorError28=err;}finally{try{if(!_iteratorNormalCompletion28&&_iterator28.return){_iterator28.return();}}finally{if(_didIteratorError28){throw _iteratorError28;}}}return count;}},{key:'createLegendElements',value:function createLegendElements(chart,legendBounds,legendGroup,legend,id){var padding=legend.padding;var options=new RectOption(id+'_element',legend.background,legend.border,legend.opacity,legendBounds);legendGroup.appendChild(chart.renderer.drawRectangle(options));var legendItemsGroup=chart.renderer.createGroup({id:id+'_collections'});legendGroup.appendChild(legendItemsGroup);this.legendTranslateGroup=chart.renderer.createGroup({id:id+'_translate_g'});legendItemsGroup.appendChild(this.legendTranslateGroup);var clippath=chart.renderer.createClipPath({id:id+'_clipPath'});options.y+=padding;options.id+='_clipPath_rect';options.width=!this.isChartControl&&this.isVertical?this.maxWidth-padding:legendBounds.width;this.clipRect=chart.renderer.drawRectangle(options);clippath.appendChild(this.clipRect);chart.svgObject.appendChild(clippath);legendItemsGroup.setAttribute('style','clip-path:url(#'+clippath.id+')');return this.legendTranslateGroup;}},{key:'renderSymbol',value:function renderSymbol(legendOption,group,i){var symbolColor=legendOption.visible?legendOption.fill:'#D3D3D3';var shape=legendOption.shape==='SeriesType'?legendOption.type:legendOption.shape;shape=shape==='Scatter'?legendOption.markerShape:shape;var symbolOption=new PathOption(this.legendID+this.generateId(legendOption,'_shape_',i),symbolColor,1,symbolColor,1,'','');group.appendChild(drawSymbol(legendOption.location,shape,new Size(this.legend.shapeWidth,this.legend.shapeHeight),'',symbolOption,'Click to show or hide the '+legendOption.text+' series'));if(shape==='Line'&&legendOption.markerVisibility&&legendOption.markerShape!=='Image'||legendOption.type==='Doughnut'){symbolOption.id=this.legendID+this.generateId(legendOption,'_shape_marker_',i);shape=legendOption.type==='Doughnut'?'Circle':legendOption.markerShape;symbolOption.fill=legendOption.type==='Doughnut'?'#FFFFFF':symbolOption.fill;group.appendChild(drawSymbol(legendOption.location,shape,new Size(this.legend.shapeWidth/2,this.legend.shapeHeight/2),'',symbolOption,'Click to show or hide the '+legendOption.text+' series'));}}},{key:'renderText',value:function renderText(chart,legendOption,group,textOptions,i){var legend=chart.legendSettings;var hiddenColor='#D3D3D3';textOptions.id=this.legendID+this.generateId(legendOption,'_text_',i);var fontcolor=legendOption.visible?legend.textStyle.color||chart.themeStyle.legendLabel:hiddenColor;textOptions.text=legendOption.text;textOptions.x=legendOption.location.x+legend.shapeWidth/2+legend.shapePadding;textOptions.y=legendOption.location.y+this.maxItemHeight/4;var element=textElement(textOptions,legend.textStyle,fontcolor,group);element.setAttribute('aria-label',legend.description||'Click to show or hide the '+legendOption.text+' series');}},{key:'renderPagingElements',value:function renderPagingElements(chart,bounds,textOption,legendGroup){var paginggroup=chart.renderer.createGroup({id:this.legendID+'_navigation'});legendGroup.appendChild(paginggroup);var grayColor='#545454';var legend=chart.legendSettings;// to solve parameter lint error, legend declaration is here
var padding=8;// const padding for paging elements
if(this.isChartControl||!this.isVertical){this.totalPages=Math.ceil(this.totalPages/Math.max(1,this.rowCount-1));}else{this.totalPages=Math.ceil(this.totalPages/this.maxColumns);}var symbolOption=new PathOption(this.legendID+'_pageup','transparent',5,grayColor,1,'','');var iconSize=this.pageButtonSize;paginggroup.setAttribute('style','cursor: pointer');// Page left arrow drawing calculation started here
this.clipPathHeight=(this.rowCount-1)*(this.maxItemHeight+legend.padding);this.clipRect.setAttribute('height',this.clipPathHeight.toString());var x=bounds.x+iconSize/2;var y=bounds.y+this.clipPathHeight+(bounds.height-this.clipPathHeight)/2;paginggroup.appendChild(drawSymbol({x:x,y:y},'LeftArrow',new Size(iconSize,iconSize),'',symbolOption,'LeftArrow'));// Page numbering rendering calculation started here
textOption.x=x+iconSize/2+padding;var size=measureText(this.totalPages+'/'+this.totalPages,legend.textStyle);textOption.y=y+size.height/4;textOption.id=this.legendID+'_pagenumber';textOption.text='1/'+this.totalPages;var pageTextElement=textElement(textOption,legend.textStyle,legend.textStyle.color,paginggroup);// Page right arrow rendering calculation started here
x=textOption.x+padding+iconSize/2+size.width;symbolOption.id=this.legendID+'_pagedown';paginggroup.appendChild(drawSymbol({x:x,y:y},'RightArrow',new Size(iconSize,iconSize),'',symbolOption,'RightArrow'));// placing the navigation buttons and page numbering in legend right corner
paginggroup.setAttribute('transform','translate('+(bounds.width-(2*(iconSize+padding)+padding+size.width))+', '+0+')');this.translatePage(pageTextElement,this.currentPage-1,this.currentPage);}},{key:'translatePage',value:function translatePage(pagingText,page,pageNumber){var size=this.clipPathHeight*page;var translate='translate(0,-'+size+')';if(!this.isChartControl&&this.isVertical){var pageLength=page*this.maxColumns;size=this.pageXCollections[page*this.maxColumns]-this.legendBounds.x;size=size<0?0:size;// to avoid small pixel variation
translate='translate(-'+size+',0)';}this.legendTranslateGroup.setAttribute('transform',translate);pagingText.textContent=pageNumber+'/'+this.totalPages;this.currentPage=pageNumber;}},{key:'changePage',value:function changePage(event,pageUp){var pageText=document.getElementById(this.legendID+'_pagenumber');var page=parseInt(pageText.textContent.split('/')[0],10);if(pageUp&&page>1){this.translatePage(pageText,page-2,page-1);}else if(!pageUp&&page<this.totalPages){this.translatePage(pageText,page,page+1);}}},{key:'generateId',value:function generateId(option,prefix,count){if(this.isChartControl){return prefix+count;}else{return prefix+option.pointIndex;}}},{key:'move',value:function move(event){var _this45=this;var x=this.chart.mouseX;var y=this.chart.mouseY;if(event.target.textContent.indexOf('...')>-1){var targetId=event.target.id.split(this.legendID+'_text_');if(targetId.length===2){var index=parseInt(targetId[1],10);var element=this.chart.element;if(!isNaN(index)){if(this.chart.isTouch){removeElement(this.chart.element.id+'_EJ2_Legend_Tooltip');}if(this.isChartControl){showTooltip(this.chart.series[index].name,x,y,element.offsetWidth,element.id+'_EJ2_Legend_Tooltip',getElement(this.chart.element.id+'_Secondary_Element'));}else{showTooltip(this.chart.visibleSeries[0].points[index].x.toString(),x+10,y+10,element.offsetWidth,element.id+'_EJ2_Legend_Tooltip',getElement(this.chart.element.id+'_Secondary_Element'));}}}}else{removeElement(this.chart.element.id+'_EJ2_Legend_Tooltip');}if(this.chart.isTouch){clearTimeout(this.clearTooltip);this.clearTooltip=setTimeout(function(){removeElement(_this45.chart.element.id+'_EJ2_Legend_Tooltip');},1000);}}}]);return BaseLegend;}();LegendOptions=function LegendOptions(text,fill,shape,visible,type,markerShape,markerVisibility,pointIndex,seriesIndex){_classCallCheck(this,LegendOptions);this.location={x:0,y:0};this.text=text;this.fill=fill;this.shape=shape;this.visible=visible;this.type=type;this.markerVisibility=markerVisibility;this.markerShape=markerShape;this.pointIndex=pointIndex;this.seriesIndex=seriesIndex;};__decorate$6=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==='undefined'?'undefined':_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};_export2('TechnicalIndicator',TechnicalIndicator=function(_SeriesBase2){_inherits(TechnicalIndicator,_SeriesBase2);function TechnicalIndicator(){_classCallCheck(this,TechnicalIndicator);var _this46=_possibleConstructorReturn(this,(TechnicalIndicator.__proto__||Object.getPrototypeOf(TechnicalIndicator)).apply(this,arguments));/** @private */_this46.clipRect=new Rect(0,0,0,0);return _this46;}/** @private */_createClass(TechnicalIndicator,[{key:'setDataSource',value:function setDataSource(series,chart){if(series){this.xData=series.xData;this.yData=series.yData;this.points=series.points;}var type=firstToLowerCase(this.type);chart[type+'IndicatorModule'].initDataSource(this,chart);chart.visibleSeriesCount+=this.targetSeries.length;}}]);return TechnicalIndicator;}(SeriesBase));__decorate$6([Property('Sma')],TechnicalIndicator.prototype,"type",void 0);__decorate$6([Property(14)],TechnicalIndicator.prototype,"period",void 0);__decorate$6([Property(14)],TechnicalIndicator.prototype,"kPeriod",void 0);__decorate$6([Property(3)],TechnicalIndicator.prototype,"dPeriod",void 0);__decorate$6([Property(80)],TechnicalIndicator.prototype,"overBought",void 0);__decorate$6([Property(20)],TechnicalIndicator.prototype,"overSold",void 0);__decorate$6([Property(2)],TechnicalIndicator.prototype,"standardDeviation",void 0);__decorate$6([Property('Close')],TechnicalIndicator.prototype,"field",void 0);__decorate$6([Property(12)],TechnicalIndicator.prototype,"slowPeriod",void 0);__decorate$6([Property(26)],TechnicalIndicator.prototype,"fastPeriod",void 0);__decorate$6([Property(true)],TechnicalIndicator.prototype,"showZones",void 0);__decorate$6([Complex({color:'#ff9933',width:2},Connector)],TechnicalIndicator.prototype,"macdLine",void 0);__decorate$6([Property('Both')],TechnicalIndicator.prototype,"macdType",void 0);__decorate$6([Property('#2ecd71')],TechnicalIndicator.prototype,"macdPositiveColor",void 0);__decorate$6([Property('#e74c3d')],TechnicalIndicator.prototype,"macdNegativeColor",void 0);__decorate$6([Property('rgba(211,211,211,0.25)')],TechnicalIndicator.prototype,"bandColor",void 0);__decorate$6([Complex({color:'#ffb735',width:1},Connector)],TechnicalIndicator.prototype,"upperLine",void 0);__decorate$6([Complex({color:'#f2ec2f',width:1},Connector)],TechnicalIndicator.prototype,"lowerLine",void 0);__decorate$6([Complex({color:'#f2ec2f',width:1},Connector)],TechnicalIndicator.prototype,"periodLine",void 0);__decorate$6([Property('')],TechnicalIndicator.prototype,"seriesName",void 0);/**
 * Annotation Module handles the Annotation for chart and accumulation series.
 */ExportUtils=function(){/**
     * Constructor for chart and accumulation annotation
     * @param control
     */function ExportUtils(control){_classCallCheck(this,ExportUtils);this.control=control;}/**
     * To print the accumulation and chart elements
     * @param elements
     */_createClass(ExportUtils,[{key:'print',value:function print(elements){this.printWindow=window.open('','print','height='+window.outerHeight+',width='+window.outerWidth+',tabbar=no');this.printWindow.moveTo(0,0);this.printWindow.resizeTo(screen.availWidth,screen.availHeight);var argsData={cancel:false,htmlContent:this.getHTMLContent(elements),name:beforePrint};this.control.trigger(beforePrint,argsData);if(!argsData.cancel){_print(argsData.htmlContent,this.printWindow);}}},{key:'getHTMLContent',value:function getHTMLContent(elements){var div=createElement('div');if(elements){if(elements instanceof Array){elements.forEach(function(value){div.appendChild(getElement(value).cloneNode(true));});}else if(elements instanceof Element){div.appendChild(elements.cloneNode(true));}else{div.appendChild(getElement(elements).cloneNode(true));}}else{div.appendChild(this.control.element.cloneNode(true));}return div;}},{key:'export',value:function _export(type,fileName,orientation){var _this47=this;var element=createElement('canvas',{id:'ej2-canvas',attrs:{'width':this.control.availableSize.width.toString(),'height':this.control.availableSize.height.toString()}});var isDownload=!(Browser.userAgent.toString().indexOf('HeadlessChrome')>-1);orientation=isNullOrUndefined(orientation)?PdfPageOrientation.Landscape:orientation;var svgData='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+this.control.svgObject.outerHTML+'</svg>';var url=window.URL.createObjectURL(new Blob(type==='SVG'?[svgData]:[new XMLSerializer().serializeToString(this.control.svgObject)],{type:'image/svg+xml'}));if(type==='SVG'){this.triggerDownload(fileName,type,url,isDownload);}else{var image=new Image();var ctx=element.getContext('2d');image.onload=function(){ctx.drawImage(image,0,0);window.URL.revokeObjectURL(url);if(type==='PDF'){var _document=new PdfDocument();var imageString=element.toDataURL('image/jpeg').replace('image/jpeg','image/octet-stream');_document.pageSettings.orientation=orientation;imageString=imageString.slice(imageString.indexOf(',')+1);_document.pages.add().graphics.drawImage(new PdfBitmap(imageString),0,0,_this47.control.availableSize.width,_this47.control.availableSize.height);if(isDownload){_document.save(fileName+'.pdf');_document.destroy();}}else{if(window.navigator.msSaveOrOpenBlob){window.navigator.msSaveOrOpenBlob(element.msToBlob(),fileName+'.'+type.toLocaleLowerCase());}else{_this47.triggerDownload(fileName,type,element.toDataURL('image/png').replace('image/png','image/octet-stream'),isDownload);}}};image.src=url;}}},{key:'triggerDownload',value:function triggerDownload(fileName,type,url,isDownload){createElement('a',{attrs:{'download':fileName+'.'+type.toLocaleLowerCase(),'href':url}}).dispatchEvent(new MouseEvent(isDownload?'click':'move',{view:window,bubbles:false,cancelable:true}));}}]);return ExportUtils;}();__decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==='undefined'?'undefined':_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};_export2('CrosshairSettings',CrosshairSettings=function(_ChildProperty34){_inherits(CrosshairSettings,_ChildProperty34);function CrosshairSettings(){_classCallCheck(this,CrosshairSettings);return _possibleConstructorReturn(this,(CrosshairSettings.__proto__||Object.getPrototypeOf(CrosshairSettings)).apply(this,arguments));}return CrosshairSettings;}(ChildProperty));__decorate([Property(false)],CrosshairSettings.prototype,"enable",void 0);__decorate([Complex({color:null,width:1},Border)],CrosshairSettings.prototype,"line",void 0);__decorate([Property('Both')],CrosshairSettings.prototype,"lineType",void 0);/**
 * Configures the zooming behavior for the chart.
 */_export2('ZoomSettings',ZoomSettings=function(_ChildProperty35){_inherits(ZoomSettings,_ChildProperty35);function ZoomSettings(){_classCallCheck(this,ZoomSettings);return _possibleConstructorReturn(this,(ZoomSettings.__proto__||Object.getPrototypeOf(ZoomSettings)).apply(this,arguments));}return ZoomSettings;}(ChildProperty));__decorate([Property(false)],ZoomSettings.prototype,"enableSelectionZooming",void 0);__decorate([Property(false)],ZoomSettings.prototype,"enablePinchZooming",void 0);__decorate([Property(false)],ZoomSettings.prototype,"enableMouseWheelZooming",void 0);__decorate([Property(true)],ZoomSettings.prototype,"enableDeferredZooming",void 0);__decorate([Property('XY')],ZoomSettings.prototype,"mode",void 0);__decorate([Property(['Zoom','ZoomIn','ZoomOut','Pan','Reset'])],ZoomSettings.prototype,"toolbarItems",void 0);__decorate([Property(false)],ZoomSettings.prototype,"enablePan",void 0);/**
 * Represents the Chart control.
 * ```html
 * <div id="chart"/>
 * <script>
 *   var chartObj = new Chart({ isResponsive : true });
 *   chartObj.appendTo("#chart");
 * </script>
 * ```
 */_export2('Chart',Chart=function(_Component){_inherits(Chart,_Component);/**
     * Constructor for creating the widget
     * @hidden
     */function Chart(options,element){_classCallCheck(this,Chart);var _this50=_possibleConstructorReturn(this,(Chart.__proto__||Object.getPrototypeOf(Chart)).call(this,options,element));/** @private */_this50.chartAreaType='Cartesian';return _this50;}/**
     * Initialize the event handler.
     */_createClass(Chart,[{key:'preRender',value:function preRender(){this.unWireEvents();this.initPrivateVariable();this.setCulture();this.wireEvents();}},{key:'initPrivateVariable',value:function initPrivateVariable(){this.animateSeries=true;this.delayRedraw=false;this.horizontalAxes=[];this.verticalAxes=[];this.refreshAxis();this.refreshDefinition(this.rows);this.refreshDefinition(this.columns);if(this.tooltipModule){this.tooltipModule.previousPoints=[];}}},{key:'render',value:function render(){this.trigger(load,{chart:this});this.createChartSvg();this.setTheme();this.markerRender=new Marker(this);this.calculateAreaType();this.calculateVisibleSeries();this.initTechnicalIndicators();this.initTrendLines();this.calculateVisibleAxis();this.processData();}},{key:'getLocalizedLabel',value:function getLocalizedLabel(key){return this.localeObject.getConstant(key);}},{key:'refreshBound',value:function refreshBound(){if(this.legendModule&&this.legendSettings.visible){this.legendModule.getLegendOptions(this.visibleSeries,this);}var isCalculateStacking=false;var series=void 0;for(var i=0,len=this.visibleSeries.length;i<len;i++){series=this.visibleSeries[i];series.position=series.rectCount=undefined;if((series.type.indexOf('Stacking')!==-1||series.drawType.indexOf('Stacking')!==-1&&this.chartAreaType==='PolarRadar')&&!isCalculateStacking){series.calculateStackedValue(series.type.indexOf('100')>-1,this);isCalculateStacking=true;}}this.calculateBounds();this.renderElements();}},{key:'renderElements',value:function renderElements(){this.renderBorder();this.renderTitle();this.renderAreaBorder();var axisElement=this.renderAxes();this.renderSeriesElements(axisElement);this.renderLegend();this.applyZoomkit();this.performSelection();this.setSecondaryElementPosition();this.renderAnnotation();}},{key:'renderAxes',value:function renderAxes(){this.yAxisElements=this.renderer.createGroup({id:this.element.id+'yAxisCollection'});var axisElement=void 0;if(this.rows.length>0&&this.columns.length>0){axisElement=this.chartAxisLayoutPanel.renderAxes();}if(this.stripLineModule){this.stripLineModule.renderStripLine(this,'Behind',this.axisCollections);}return axisElement;}},{key:'renderLegend',value:function renderLegend(){if(this.legendModule&&this.legendModule.legendCollections.length){this.legendModule.renderLegend(this,this.legendSettings,this.legendModule.legendBounds);}this.element.appendChild(this.svgObject);}},{key:'setSecondaryElementPosition',value:function setSecondaryElementPosition(){var element=getElement(this.element.id+'_Secondary_Element');if(!element){return;}var rect=this.element.getBoundingClientRect();var svgRect=getElement(this.element.id+'_svg').getBoundingClientRect();element.style.left=Math.max(svgRect.left-rect.left,0)+'px';element.style.top=Math.max(svgRect.top-rect.top,0)+'px';}},{key:'initializeModuleElements',value:function initializeModuleElements(){this.dataLabelCollections=[];this.seriesElements=this.renderer.createGroup({id:this.element.id+'SeriesCollection'});if(this.indicators.length){this.indicatorElements=this.renderer.createGroup({id:this.element.id+'IndicatorCollection'});}if(this.hasTrendlines()){this.trendLineElements=this.renderer.createGroup({id:this.element.id+'TrendLineCollection'});}this.dataLabelElements=this.renderer.createGroup({id:this.element.id+'DataLabelCollection'});}},{key:'hasTrendlines',value:function hasTrendlines(){var isTrendline=void 0;var _iteratorNormalCompletion29=true;var _didIteratorError29=false;var _iteratorError29=undefined;try{for(var _iterator29=this.series[Symbol.iterator](),_step29;!(_iteratorNormalCompletion29=(_step29=_iterator29.next()).done);_iteratorNormalCompletion29=true){var series=_step29.value;isTrendline=series.trendlines.length?true:false;if(isTrendline){break;}}}catch(err){_didIteratorError29=true;_iteratorError29=err;}finally{try{if(!_iteratorNormalCompletion29&&_iterator29.return){_iterator29.return();}}finally{if(_didIteratorError29){throw _iteratorError29;}}}return isTrendline;}},{key:'renderSeriesElements',value:function renderSeriesElements(axisElement){// Initialize the series elements values
this.initializeModuleElements();var tooltipDiv=document.createElement('div');tooltipDiv.id=this.element.id+'_Secondary_Element';tooltipDiv.setAttribute('style','position: relative');this.element.appendChild(tooltipDiv);// For userInteraction
if(this.tooltip.enable){this.svgObject.appendChild(this.renderer.createGroup({id:this.element.id+'_UserInteraction',style:'pointer-events:none;'}));}if(this.rows.length>0&&this.columns.length>0){this.initializeIndicator();this.initializeTrendLine();this.renderSeries();this.appendElementsAfterSeries(axisElement);}}},{key:'renderSeries',value:function renderSeries(){var _iteratorNormalCompletion30=true;var _didIteratorError30=false;var _iteratorError30=undefined;try{for(var _iterator30=this.visibleSeries[Symbol.iterator](),_step30;!(_iteratorNormalCompletion30=(_step30=_iterator30.next()).done);_iteratorNormalCompletion30=true){var item=_step30.value;if(item.visible){findClipRect(item);item.renderSeries(this,item.index);}}}catch(err){_didIteratorError30=true;_iteratorError30=err;}finally{try{if(!_iteratorNormalCompletion30&&_iterator30.return){_iterator30.return();}}finally{if(_didIteratorError30){throw _iteratorError30;}}}var clipRect=this.renderer.drawClipPath({'id':this.element.id+'_ChartAreaClipRect_','x':this.chartAxisLayoutPanel.seriesClipRect.x,'y':this.chartAxisLayoutPanel.seriesClipRect.y,'width':this.chartAxisLayoutPanel.seriesClipRect.width,'height':this.chartAxisLayoutPanel.seriesClipRect.height,'fill':'transparent','stroke-width':1,'stroke':'Gray'});this.seriesElements.appendChild(clipRect);this.svgObject.appendChild(this.seriesElements);}},{key:'initializeIndicator',value:function initializeIndicator(){var _iteratorNormalCompletion31=true;var _didIteratorError31=false;var _iteratorError31=undefined;try{for(var _iterator31=this.indicators[Symbol.iterator](),_step31;!(_iteratorNormalCompletion31=(_step31=_iterator31.next()).done);_iteratorNormalCompletion31=true){var indicator=_step31.value;if(this[firstToLowerCase(indicator.type)+'IndicatorModule']){this[firstToLowerCase(indicator.type)+'IndicatorModule'].createIndicatorElements(this,indicator,indicator.index);}}}catch(err){_didIteratorError31=true;_iteratorError31=err;}finally{try{if(!_iteratorNormalCompletion31&&_iterator31.return){_iterator31.return();}}finally{if(_didIteratorError31){throw _iteratorError31;}}}if(this.indicatorElements){this.svgObject.appendChild(this.indicatorElements);}}},{key:'initializeTrendLine',value:function initializeTrendLine(){var _iteratorNormalCompletion32=true;var _didIteratorError32=false;var _iteratorError32=undefined;try{for(var _iterator32=this.visibleSeries[Symbol.iterator](),_step32;!(_iteratorNormalCompletion32=(_step32=_iterator32.next()).done);_iteratorNormalCompletion32=true){var series=_step32.value;if(series.trendlines.length){this.trendLineModule.getTrendLineElements(series,this);}}}catch(err){_didIteratorError32=true;_iteratorError32=err;}finally{try{if(!_iteratorNormalCompletion32&&_iterator32.return){_iterator32.return();}}finally{if(_didIteratorError32){throw _iteratorError32;}}}if(this.trendLineElements){this.svgObject.appendChild(this.trendLineElements);}}},{key:'appendElementsAfterSeries',value:function appendElementsAfterSeries(axisElement){if(this.chartAreaType==='PolarRadar'){this.svgObject.appendChild(this.yAxisElements);}this.svgObject.appendChild(axisElement);if(this.stripLineModule){this.stripLineModule.renderStripLine(this,'Over',this.axisCollections);}if(!this.tooltip.enable){this.svgObject.appendChild(this.renderer.createGroup({id:this.element.id+'_UserInteraction',style:'pointer-events:none;'}));}}},{key:'applyZoomkit',value:function applyZoomkit(){if(this.zoomModule&&this.zoomModule.isZoomed&&(!this.zoomSettings.enablePan||this.zoomModule.performedUI)){this.zoomModule.applyZoomToolkit(this,this.axisCollections);}}},{key:'renderAnnotation',value:function renderAnnotation(){if(this.annotationModule){this.annotationModule.renderAnnotations(getElement(this.element.id+'_Secondary_Element'));}}},{key:'performSelection',value:function performSelection(){var selectedDataIndexes=[];if(this.selectionModule){selectedDataIndexes=extend([],this.selectionModule.selectedDataIndexes,null,true);this.selectionModule.invokeSelection(this);}if(selectedDataIndexes.length>0){this.selectionModule.selectedDataIndexes=selectedDataIndexes;this.selectionModule.redrawSelection(this,this.selectionMode);}}},{key:'processData',value:function processData(){this.visibleSeriesCount=0;var check=true;var _iteratorNormalCompletion33=true;var _didIteratorError33=false;var _iteratorError33=undefined;try{for(var _iterator33=this.visibleSeries[Symbol.iterator](),_step33;!(_iteratorNormalCompletion33=(_step33=_iterator33.next()).done);_iteratorNormalCompletion33=true){var series=_step33.value;if(!series.visible&&!this.legendSettings.visible){this.visibleSeriesCount++;continue;}if(series.category!=='Indicator'&&series.category!=='TrendLine'){this.initializeDataModule(series);}}}catch(err){_didIteratorError33=true;_iteratorError33=err;}finally{try{if(!_iteratorNormalCompletion33&&_iterator33.return){_iterator33.return();}}finally{if(_didIteratorError33){throw _iteratorError33;}}}var _iteratorNormalCompletion34=true;var _didIteratorError34=false;var _iteratorError34=undefined;try{for(var _iterator34=this.indicators[Symbol.iterator](),_step34;!(_iteratorNormalCompletion34=(_step34=_iterator34.next()).done);_iteratorNormalCompletion34=true){var indicator=_step34.value;if(indicator.dataSource){var techIndicator=indicator;this.initializeDataModule(techIndicator);check=false;}}}catch(err){_didIteratorError34=true;_iteratorError34=err;}finally{try{if(!_iteratorNormalCompletion34&&_iterator34.return){_iterator34.return();}}finally{if(_didIteratorError34){throw _iteratorError34;}}}if(!this.visibleSeries.length||this.visibleSeriesCount===this.visibleSeries.length&&check){this.refreshBound();this.trigger('loaded',{chart:this});}}},{key:'initializeDataModule',value:function initializeDataModule(series){series.xData=[];series.yData=[];series.dataModule=new Data(series.dataSource,series.query);series.points=[];series.refreshDataManager(this);}},{key:'calculateBounds',value:function calculateBounds(){var margin=this.margin;// Title Height;
var titleHeight=0;var padding=15;var left=margin.left;var width=this.availableSize.width-left-margin.right-this.border.width;this.titleCollection=[];if(this.title){this.titleCollection=getTitle(this.title,this.titleStyle,width);titleHeight=measureText(this.title,this.titleStyle).height*this.titleCollection.length+padding;}var top=margin.top+titleHeight+this.chartArea.border.width/2;var height=this.availableSize.height-top-this.border.width-margin.bottom;this.initialClipRect=new Rect(left,top,width,height);if(this.legendModule){this.legendModule.calculateLegendBounds(this.initialClipRect,this.availableSize);}this.chartAxisLayoutPanel.measureAxis(this.initialClipRect);}},{key:'print',value:function print(id){var exportChart=new ExportUtils(this);exportChart.print(id);}},{key:'export',value:function _export(type,fileName,orientation){var exportChart=new ExportUtils(this);exportChart.export(type,fileName,orientation);}},{key:'initTrendLines',value:function initTrendLines(){var _iteratorNormalCompletion35=true;var _didIteratorError35=false;var _iteratorError35=undefined;try{for(var _iterator35=this.visibleSeries[Symbol.iterator](),_step35;!(_iteratorNormalCompletion35=(_step35=_iterator35.next()).done);_iteratorNormalCompletion35=true){var series=_step35.value;var trendIndex=0;var _iteratorNormalCompletion36=true;var _didIteratorError36=false;var _iteratorError36=undefined;try{for(var _iterator36=series.trendlines[Symbol.iterator](),_step36;!(_iteratorNormalCompletion36=(_step36=_iterator36.next()).done);_iteratorNormalCompletion36=true){var trendline=_step36.value;var trendLine=trendline;var type=firstToLowerCase(trendLine.type);if(this.trendLineModule){trendLine.index=trendIndex;trendLine.sourceIndex=series.index;this.trendLineModule.initSeriesCollection(trendLine,this);if(trendLine.targetSeries){trendLine.targetSeries.xAxisName=series.xAxisName;trendLine.targetSeries.yAxisName=series.yAxisName;this.visibleSeries.push(trendLine.targetSeries);}}trendIndex++;}}catch(err){_didIteratorError36=true;_iteratorError36=err;}finally{try{if(!_iteratorNormalCompletion36&&_iterator36.return){_iterator36.return();}}finally{if(_didIteratorError36){throw _iteratorError36;}}}}}catch(err){_didIteratorError35=true;_iteratorError35=err;}finally{try{if(!_iteratorNormalCompletion35&&_iterator35.return){_iterator35.return();}}finally{if(_didIteratorError35){throw _iteratorError35;}}}}},{key:'calculateAreaType',value:function calculateAreaType(){var series=this.series[0];if(series){this.requireInvertedAxis=series.type.indexOf('Bar')!==-1&&!this.isTransposed||series.type.indexOf('Bar')===-1&&this.isTransposed&&this.chartAreaType!=='PolarRadar';}this.chartAxisLayoutPanel=this.chartAreaType==='PolarRadar'?this.polarSeriesModule||this.radarSeriesModule:new CartesianAxisLayoutPanel(this);}},{key:'calculateVisibleAxis',value:function calculateVisibleAxis(){var axis=void 0;var axes=[this.primaryXAxis,this.primaryYAxis];axes=this.chartAreaType==='Cartesian'?axes.concat(this.axes):axes;this.axisCollections=[];if(this.zoomModule){this.zoomModule.isPanning=this.zoomModule.isAxisZoomed(axes)&&this.zoomSettings.enablePan;this.svgObject.setAttribute('cursor',this.zoomModule.isPanning?'pointer':'auto');}for(var i=0,len=axes.length;i<len;i++){axis=axes[i];axis.series=[];axis.labels=[];var _iteratorNormalCompletion37=true;var _didIteratorError37=false;var _iteratorError37=undefined;try{for(var _iterator37=this.visibleSeries[Symbol.iterator](),_step37;!(_iteratorNormalCompletion37=(_step37=_iterator37.next()).done);_iteratorNormalCompletion37=true){var series=_step37.value;this.initAxis(series,axis,true);}}catch(err){_didIteratorError37=true;_iteratorError37=err;}finally{try{if(!_iteratorNormalCompletion37&&_iterator37.return){_iterator37.return();}}finally{if(_didIteratorError37){throw _iteratorError37;}}}var _iteratorNormalCompletion38=true;var _didIteratorError38=false;var _iteratorError38=undefined;try{for(var _iterator38=this.indicators[Symbol.iterator](),_step38;!(_iteratorNormalCompletion38=(_step38=_iterator38.next()).done);_iteratorNormalCompletion38=true){var indicator=_step38.value;this.initAxis(indicator,axis,false);}}catch(err){_didIteratorError38=true;_iteratorError38=err;}finally{try{if(!_iteratorNormalCompletion38&&_iterator38.return){_iterator38.return();}}finally{if(_didIteratorError38){throw _iteratorError38;}}}if(axis.orientation!=null){this.axisCollections.push(axis);}}if(this.rows.length>0&&this.columns.length>0){this.chartAxisLayoutPanel.measure();}}},{key:'initAxis',value:function initAxis(series,axis,isSeries){if(series.xAxisName===axis.name||series.xAxisName==null&&axis.name==='primaryXAxis'){axis.orientation=this.requireInvertedAxis?'Vertical':'Horizontal';series.xAxis=axis;if(isSeries){axis.series.push(series);}}else if(series.yAxisName===axis.name||series.yAxisName==null&&axis.name==='primaryYAxis'){axis.orientation=this.requireInvertedAxis?'Horizontal':'Vertical';series.yAxis=axis;if(isSeries){axis.series.push(series);}}}},{key:'initTechnicalIndicators',value:function initTechnicalIndicators(){var i=0;var _iteratorNormalCompletion39=true;var _didIteratorError39=false;var _iteratorError39=undefined;try{for(var _iterator39=this.indicators[Symbol.iterator](),_step39;!(_iteratorNormalCompletion39=(_step39=_iterator39.next()).done);_iteratorNormalCompletion39=true){var indicator=_step39.value;var techIndicator=indicator;var type=firstToLowerCase(techIndicator.type);if(this[type+'IndicatorModule']){techIndicator.index=i;this[type+'IndicatorModule'].initSeriesCollection(techIndicator,this);var _iteratorNormalCompletion40=true;var _didIteratorError40=false;var _iteratorError40=undefined;try{for(var _iterator40=techIndicator.targetSeries[Symbol.iterator](),_step40;!(_iteratorNormalCompletion40=(_step40=_iterator40.next()).done);_iteratorNormalCompletion40=true){var targetSeries=_step40.value;if(indicator.seriesName||indicator.dataSource){this.visibleSeries.push(targetSeries);}}}catch(err){_didIteratorError40=true;_iteratorError40=err;}finally{try{if(!_iteratorNormalCompletion40&&_iterator40.return){_iterator40.return();}}finally{if(_didIteratorError40){throw _iteratorError40;}}}}i++;}}catch(err){_didIteratorError39=true;_iteratorError39=err;}finally{try{if(!_iteratorNormalCompletion39&&_iterator39.return){_iterator39.return();}}finally{if(_didIteratorError39){throw _iteratorError39;}}}}},{key:'refreshTechnicalIndicator',value:function refreshTechnicalIndicator(series){if(this.indicators.length){var targetIndicator=null;if(series instanceof Series&&series.category!=='Indicator'){var _iteratorNormalCompletion41=true;var _didIteratorError41=false;var _iteratorError41=undefined;try{for(var _iterator41=this.indicators[Symbol.iterator](),_step41;!(_iteratorNormalCompletion41=(_step41=_iterator41.next()).done);_iteratorNormalCompletion41=true){var indicator=_step41.value;if(indicator.seriesName===series.name&&!indicator.dataSource){targetIndicator=indicator;targetIndicator.setDataSource(series,this);}}}catch(err){_didIteratorError41=true;_iteratorError41=err;}finally{try{if(!_iteratorNormalCompletion41&&_iterator41.return){_iterator41.return();}}finally{if(_didIteratorError41){throw _iteratorError41;}}}}else if(series instanceof TechnicalIndicator){targetIndicator=series;targetIndicator.setDataSource(series instanceof Series?series:null,this);}}}},{key:'calculateVisibleSeries',value:function calculateVisibleSeries(){var series=void 0;this.visibleSeries=[];var colors=this.palettes.length?this.palettes:getSeriesColor(this.theme);var count=colors.length;for(var i=0,len=this.series.length;i<len;i++){series=this.series[i];series.index=i;series.interior=series.fill||colors[i%count];switch(series.type){case'Bar':case'StackingBar':case'StackingBar100':if(this.series[0].type.indexOf('Bar')===-1){continue;}break;case'Polar':case'Radar':if(this.chartAreaType!=='PolarRadar'){continue;}if(this.chartAreaType==='PolarRadar'&&(series.xAxisName===null&&series.yAxisName!==null||series.xAxisName!==null&&series.yAxisName===null||series.xAxisName!==null&&series.yAxisName!==null)){continue;}break;default:if(this.chartAreaType==='PolarRadar'||this.series[0].type.indexOf('Bar')>-1){continue;}break;}this.visibleSeries.push(series);this.series[i]=series;}}},{key:'renderTitle',value:function renderTitle(){if(this.title){var anchor=this.titleStyle.textAlignment==='Near'?'start':this.titleStyle.textAlignment==='Far'?'end':'middle';this.elementSize=measureText(this.title,this.titleStyle);var options=new TextOption(this.element.id+'_ChartTitle',titlePositionX(this.availableSize,this.margin.left,this.margin.right,this.titleStyle),this.margin.top+this.elementSize.height*3/4,anchor,this.titleCollection,'','auto');var element=textElement(options,this.titleStyle,this.titleStyle.color||this.themeStyle.chartTitle,this.svgObject);element.setAttribute('aria-label',this.description||this.title);element.setAttribute('tabindex',this.tabIndex.toString());}}},{key:'renderBorder',value:function renderBorder(){var width=this.border.width;var rect=new RectOption(this.element.id+'_ChartBorder',this.background||this.themeStyle.background,this.border,1,new Rect(width/2,width/2,this.availableSize.width-width,this.availableSize.height-width));this.htmlObject=this.renderer.drawRectangle(rect);this.svgObject.appendChild(this.htmlObject);}},{key:'renderAreaBorder',value:function renderAreaBorder(){if(this.chartAreaType==='PolarRadar'){return null;}else{var rect=new RectOption(this.element.id+'_ChartAreaBorder',this.chartArea.background,{width:this.chartArea.border.width,color:this.chartArea.border.color||this.themeStyle.areaBorder},this.chartArea.opacity,this.chartAxisLayoutPanel.seriesClipRect);this.htmlObject=this.renderer.drawRectangle(rect);this.svgObject.appendChild(this.htmlObject);}}},{key:'addSeries',value:function addSeries(seriesCollection){var _iteratorNormalCompletion42=true;var _didIteratorError42=false;var _iteratorError42=undefined;try{for(var _iterator42=seriesCollection[Symbol.iterator](),_step42;!(_iteratorNormalCompletion42=(_step42=_iterator42.next()).done);_iteratorNormalCompletion42=true){var series=_step42.value;series=new Series(this,'series',series);this.series.push(series);}}catch(err){_didIteratorError42=true;_iteratorError42=err;}finally{try{if(!_iteratorNormalCompletion42&&_iterator42.return){_iterator42.return();}}finally{if(_didIteratorError42){throw _iteratorError42;}}}this.refresh();}},{key:'removeSeries',value:function removeSeries(index){this.series.splice(index,1);this.refresh();}},{key:'destroy',value:function destroy(){this.unWireEvents();_get(Chart.prototype.__proto__||Object.getPrototypeOf(Chart.prototype),'destroy',this).call(this);this.element.classList.remove('e-chart');}},{key:'getModuleName',value:function getModuleName(){return'chart';}},{key:'getPersistData',value:function getPersistData(){var keyEntity=['loaded','animationComplete'];return this.addOnPersist(keyEntity);}},{key:'createChartSvg',value:function createChartSvg(){this.removeSvg();createSvg(this);}},{key:'unWireEvents',value:function unWireEvents(){/*! Find the Events type */var startEvent=Browser.touchStartEvent;var moveEvent=Browser.touchMoveEvent;var stopEvent=Browser.touchEndEvent;var cancelEvent=Browser.isPointer?'pointerleave':'mouseleave';/*! UnBind the Event handler */EventHandler.remove(this.element,startEvent,this.chartOnMouseDown);EventHandler.remove(this.element,moveEvent,this.mouseMove);EventHandler.remove(this.element,stopEvent,this.mouseEnd);EventHandler.remove(this.element,'click',this.chartOnMouseClick);EventHandler.remove(this.element,'contextmenu',this.chartRightClick);EventHandler.remove(this.element,cancelEvent,this.mouseLeave);window.removeEventListener(Browser.isTouch&&'orientation'in window&&'onorientationchange'in window?'orientationchange':'resize',this.chartResize);}},{key:'wireEvents',value:function wireEvents(){/*! Find the Events type */var cancelEvent=Browser.isPointer?'pointerleave':'mouseleave';/*! Bind the Event handler */EventHandler.add(this.element,Browser.touchStartEvent,this.chartOnMouseDown,this);EventHandler.add(this.element,Browser.touchMoveEvent,this.mouseMove,this);EventHandler.add(this.element,Browser.touchEndEvent,this.mouseEnd,this);EventHandler.add(this.element,'click',this.chartOnMouseClick,this);EventHandler.add(this.element,'contextmenu',this.chartRightClick,this);EventHandler.add(this.element,cancelEvent,this.mouseLeave,this);window.addEventListener(Browser.isTouch&&'orientation'in window&&'onorientationchange'in window?'orientationchange':'resize',this.chartResize.bind(this));this.longPress=this.longPress.bind(this);new Touch(this.element,{tapHold:this.longPress,tapHoldThreshold:500});/*! Apply the style for chart */this.setStyle(this.element);}},{key:'chartRightClick',value:function chartRightClick(event){if(this.crosshair.enable&&this.crosshairModule&&(event.buttons===2||event.which===0||event.pointerType==='touch')){event.preventDefault();event.stopPropagation();return false;}return true;}},{key:'setStyle',value:function setStyle(element){var zooming=this.zoomSettings;var disableScroll=zooming.enableSelectionZooming||zooming.enableMouseWheelZooming||zooming.enablePinchZooming||this.selectionMode!=='None'||this.crosshair.enable;element.style.touchAction=disableScroll?'none':'element';element.style.msTouchAction=disableScroll?'none':'element';element.style.msContentZooming='none';element.style.msUserSelect='none';element.style.webkitUserSelect='none';element.style.position='relative';element.style.display='block';}},{key:'isOrientation',value:function isOrientation(){return'orientation'in window&&'onorientationchange'in window;}},{key:'longPress',value:function longPress(e){this.mouseX=e&&e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].clientX:0;this.mouseY=e&&e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].clientY:0;this.startMove=true;this.setMouseXY(this.mouseX,this.mouseY);this.notify('tapHold',e);return false;}},{key:'setMouseXY',value:function setMouseXY(pageX,pageY){var rect=this.element.getBoundingClientRect();var svgRect=getElement(this.element.id+'_svg').getBoundingClientRect();this.mouseX=pageX-rect.left-Math.max(svgRect.left-rect.left,0);this.mouseY=pageY-rect.top-Math.max(svgRect.top-rect.top,0);}},{key:'chartResize',value:function chartResize(e){var _this51=this;this.animateSeries=false;if(this.resizeTo){clearTimeout(this.resizeTo);}this.resizeTo=setTimeout(function(){if(_this51.isDestroyed){clearTimeout(_this51.resizeTo);return;}_this51.createChartSvg();_this51.refreshAxis();_this51.refreshBound();_this51.trigger('loaded',{chart:_this51});},500);return false;}},{key:'mouseMove',value:function mouseMove(e){var pageX=void 0;var pageY=void 0;var touchArg=void 0;if(e.type==='touchmove'){this.isTouch=true;touchArg=e;pageX=touchArg.changedTouches[0].clientX;pageY=touchArg.changedTouches[0].clientY;}else{this.isTouch=e.pointerType==='touch'||e.pointerType==='2'||this.isTouch;pageX=e.clientX;pageY=e.clientY;}this.setMouseXY(pageX,pageY);this.chartOnMouseMove(e);return false;}},{key:'mouseLeave',value:function mouseLeave(e){var pageX=void 0;var pageY=void 0;var touchArg=void 0;if(e.type==='touchleave'){this.isTouch=true;touchArg=e;pageX=touchArg.changedTouches[0].clientX;pageY=touchArg.changedTouches[0].clientY;}else{this.isTouch=e.pointerType==='touch'||e.pointerType==='2';pageX=e.clientX;pageY=e.clientY;}this.setMouseXY(pageX,pageY);this.chartOnMouseLeave(e);return false;}},{key:'chartOnMouseLeave',value:function chartOnMouseLeave(e){var element=e.target;var cancelEvent=Browser.isPointer?'pointerleave':'mouseleave';this.trigger(chartMouseLeave,{target:element.id,x:this.mouseX,y:this.mouseY});this.isChartDrag=false;this.notify(cancelEvent,e);return false;}},{key:'chartOnMouseClick',value:function chartOnMouseClick(e){var element=e.target;this.trigger(chartMouseClick,{target:element.id,x:this.mouseX,y:this.mouseY});if(this.pointClick){this.triggerPointEvent(pointClick);}this.notify('click',e);return false;}},{key:'triggerPointEvent',value:function triggerPointEvent(event){var data=new ChartData(this);var pointData=data.getData();if(pointData.series&&pointData.point){this.trigger(event,{series:pointData.series,point:pointData.point,seriesIndex:pointData.series.index,pointIndex:pointData.point.index,x:this.mouseX,y:this.mouseY});}}},{key:'chartOnMouseMove',value:function chartOnMouseMove(e){var element=e.target;this.trigger(chartMouseMove,{target:element.id,x:this.mouseX,y:this.mouseY});if(this.pointMove){this.triggerPointEvent(pointMove);}// Tooltip for chart series.
if(!this.isTouch){this.titleTooltip(e,this.mouseX,this.mouseY);this.axisTooltip(e,this.mouseX,this.mouseY);}this.notify(Browser.touchMoveEvent,e);this.isTouch=false;return false;}},{key:'titleTooltip',value:function titleTooltip(event,x,y,isTouch){var targetId=event.target.id;if(targetId===this.element.id+'_ChartTitle'&&event.target.textContent.indexOf('...')>-1){showTooltip(this.title,x,y,this.element.offsetWidth,this.element.id+'_EJ2_Title_Tooltip',getElement(this.element.id+'_Secondary_Element'),isTouch);}else{removeElement(this.element.id+'_EJ2_Title_Tooltip');}}},{key:'axisTooltip',value:function axisTooltip(event,x,y,isTouch){var targetId=event.target.id;if((targetId.indexOf('AxisLabel')>-1||targetId.indexOf('Axis_MultiLevelLabel')>-1)&&event.target.textContent.indexOf('...')>-1){showTooltip(this.findAxisLabel(targetId),x,y,this.element.offsetWidth,this.element.id+'_EJ2_AxisLabel_Tooltip',getElement(this.element.id+'_Secondary_Element'),isTouch);}else{removeElement(this.element.id+'_EJ2_AxisLabel_Tooltip');}}},{key:'findAxisLabel',value:function findAxisLabel(text){var texts=void 0;if(text.indexOf('AxisLabel')>-1){texts=text.replace(this.element.id,'').replace('AxisLabel_','').split('_');return this.axisCollections[parseInt(texts[0],10)].visibleLabels[parseInt(texts[1],10)].originalText;}else{texts=text.replace(this.element.id,'').replace('Axis_MultiLevelLabel_Level_','').replace('Text_','').split('_');return this.axisCollections[parseInt(texts[0],10)].multiLevelLabels[parseInt(texts[1],10)].categories[parseInt(texts[2],10)].text;}}},{key:'chartOnMouseDown',value:function chartOnMouseDown(e){var pageX=void 0;var pageY=void 0;var target=void 0;var touchArg=void 0;var offset=Browser.isDevice?20:30;var rect=this.element.getBoundingClientRect();var element=e.target;this.trigger(chartMouseDown,{target:element.id,x:this.mouseX,y:this.mouseY});if(e.type==='touchstart'){this.isTouch=true;touchArg=e;pageX=touchArg.changedTouches[0].clientX;pageY=touchArg.changedTouches[0].clientY;target=touchArg.target;}else{this.isTouch=e.pointerType==='touch';pageX=e.clientX;pageY=e.clientY;target=e.target;}var svgRect=getElement(this.element.id+'_svg').getBoundingClientRect();this.mouseDownX=this.previousMouseMoveX=pageX-rect.left-Math.max(svgRect.left-rect.left,0);this.mouseDownY=this.previousMouseMoveY=pageY-rect.top-Math.max(svgRect.top-rect.top,0);if(this.isTouch){this.isDoubleTap=new Date().getTime()<this.threshold&&target.id.indexOf(this.element.id+'_Zooming_')===-1&&(this.mouseDownX-offset>=this.mouseX||this.mouseDownX+offset>=this.mouseX)&&(this.mouseDownY-offset>=this.mouseY||this.mouseDownY+offset>=this.mouseY)&&(this.mouseX-offset>=this.mouseDownX||this.mouseX+offset>=this.mouseDownX)&&(this.mouseY-offset>=this.mouseDownY||this.mouseY+offset>=this.mouseDownY);}this.notify(Browser.touchStartEvent,e);return false;}},{key:'mouseEnd',value:function mouseEnd(e){var pageY=void 0;var pageX=void 0;var touchArg=void 0;if(e.type==='touchend'){touchArg=e;pageX=touchArg.changedTouches[0].clientX;this.isTouch=true;pageY=touchArg.changedTouches[0].clientY;}else{pageY=e.clientY;pageX=e.clientX;this.isTouch=e.pointerType==='touch'||e.pointerType==='2';}this.setMouseXY(pageX,pageY);this.chartOnMouseUp(e);return false;}},{key:'chartOnMouseUp',value:function chartOnMouseUp(e){var element=e.target;this.trigger(chartMouseUp,{target:element.id,x:this.mouseX,y:this.mouseY});this.isChartDrag=false;if(this.isTouch){this.titleTooltip(e,this.mouseX,this.mouseY,this.isTouch);this.axisTooltip(e,this.mouseX,this.mouseY,this.isTouch);this.threshold=new Date().getTime()+300;}this.seriesElements.removeAttribute('clip-path');this.notify(Browser.touchEndEvent,e);return false;}},{key:'setCulture',value:function setCulture(){this.intl=new Internationalization();this.setLocaleConstants();this.localeObject=new L10n(this.getModuleName(),this.defaultLocalConstants,this.locale);}},{key:'setAnnotationValue',value:function setAnnotationValue(annotationIndex,content){var parentNode=getElement(this.element.id+'_Annotation_Collections');var annotation=this.annotations[annotationIndex];var element=void 0;if(content!==null){annotation.content=content;if(parentNode){removeElement(this.element.id+'_Annotation_'+annotationIndex);element=createElement('div');this.annotationModule.processAnnotation(annotation,annotationIndex,element);parentNode.appendChild(element.children[0]);}else{this.annotationModule.renderAnnotations(getElement(this.element.id+'_Secondary_Element'));}}}},{key:'setLocaleConstants',value:function setLocaleConstants(){this.defaultLocalConstants={ZoomIn:'ZoomIn',Zoom:'Zoom',ZoomOut:'ZoomOut',Pan:'Pan',Reset:'Reset',ResetZoom:'Reset Zoom'};}},{key:'setTheme',value:function setTheme(){/*! Set theme */this.themeStyle=getThemeColor(this.theme);}},{key:'requiredModules',value:function requiredModules(){var _this52=this;var modules=[];var series=this.series;var enableAnnotation=false;var moduleName=void 0;var errorBarVisible=false;var dataLabelEnable=false;var zooming=this.zoomSettings;this.chartAreaType=series.length>0&&(series[0].type==='Polar'||series[0].type==='Radar')?'PolarRadar':'Cartesian';if(this.tooltip.enable){modules.push({member:'Tooltip',args:[this]});}series.map(function(value){_this52.isLegend=_this52.legendSettings.visible&&(value.name!==''||!!_this52.isLegend);moduleName=value.type.indexOf('100')!==-1?value.type.replace('100','')+'Series':value.type+'Series';errorBarVisible=value.errorBar.visible||errorBarVisible;dataLabelEnable=value.marker.dataLabel.visible||dataLabelEnable;if(!modules.some(function(currentModule){return currentModule.member===moduleName;})){modules.push({member:moduleName,args:[_this52,series]});}if(_this52.chartAreaType==='PolarRadar'){modules.push({member:value.drawType+'Series',args:[_this52,series]});}});this.findIndicatorModules(modules);this.findTrendLineModules(modules);modules=this.findAxisModule(modules);enableAnnotation=this.annotations.some(function(value){return value.content!==null;});if(errorBarVisible){modules.push({member:'ErrorBar',args:[this,series]});}if(this.isLegend){modules.push({member:'Legend',args:[this]});}if(this.chartAreaType!=='PolarRadar'&&(zooming.enableSelectionZooming||zooming.enableMouseWheelZooming||zooming.enablePinchZooming||zooming.enablePan)){modules.push({member:'Zoom',args:[this,this.zoomSettings]});}if(this.selectionMode!=='None'&&!(this.chartAreaType==='PolarRadar'&&this.selectionMode.indexOf('Drag')>-1)){modules.push({member:'Selection',args:[this]});}if(dataLabelEnable){modules.push({member:'DataLabel',args:[this,series]});}if(enableAnnotation){modules.push({member:'Annotation',args:[this,this.annotations]});}if(this.chartAreaType!=='PolarRadar'&&this.crosshair.enable){modules.push({member:'Crosshair',args:[this]});}return modules;}},{key:'findAxisModule',value:function findAxisModule(modules){var axisCollections=[];axisCollections.push(this.primaryXAxis);axisCollections.push(this.primaryYAxis);axisCollections=axisCollections.concat(this.axes);var datetimeEnabled=false;var categoryEnabled=false;var logarithmicEnabled=false;var striplineEnabled=false;var dateTimeCategoryEnabled=false;var multiLevelEnabled=false;var _iteratorNormalCompletion43=true;var _didIteratorError43=false;var _iteratorError43=undefined;try{for(var _iterator43=axisCollections[Symbol.iterator](),_step43;!(_iteratorNormalCompletion43=(_step43=_iterator43.next()).done);_iteratorNormalCompletion43=true){var axis=_step43.value;datetimeEnabled=axis.valueType==='DateTime'||datetimeEnabled;categoryEnabled=axis.valueType==='Category'||categoryEnabled;logarithmicEnabled=axis.valueType==='Logarithmic'||logarithmicEnabled;dateTimeCategoryEnabled=axis.valueType==='DateTimeCategory'||dateTimeCategoryEnabled;striplineEnabled=this.findStriplineVisibility(axis.stripLines)||striplineEnabled;multiLevelEnabled=axis.multiLevelLabels.length>0||multiLevelEnabled;}}catch(err){_didIteratorError43=true;_iteratorError43=err;}finally{try{if(!_iteratorNormalCompletion43&&_iterator43.return){_iterator43.return();}}finally{if(_didIteratorError43){throw _iteratorError43;}}}if(datetimeEnabled){modules.push({member:'DateTime',args:[this]});}if(categoryEnabled){modules.push({member:'Category',args:[this]});}if(logarithmicEnabled){modules.push({member:'Logarithmic',args:[this]});}if(striplineEnabled){modules.push({member:'StripLine',args:[this]});}if(multiLevelEnabled){modules.push({member:'MultiLevelLabel',args:[this]});}if(dateTimeCategoryEnabled){modules.push({member:'DateTimeCategory',args:[this]});}return modules;}},{key:'findIndicatorModules',value:function findIndicatorModules(modules){var macdEnable=void 0;var bandEnable=void 0;var indicators=this.indicators;if(this.indicators.length){modules.push({member:'LineSeries',args:[this]});indicators.map(function(indicator){macdEnable=macdEnable||indicator.type==='Macd';bandEnable=bandEnable||indicator.type==='BollingerBands';});if(macdEnable){modules.push({member:'ColumnSeries',args:[this]});}if(bandEnable){modules.push({member:'RangeAreaSeries',args:[this]});}var _iteratorNormalCompletion44=true;var _didIteratorError44=false;var _iteratorError44=undefined;try{for(var _iterator44=this.indicators[Symbol.iterator](),_step44;!(_iteratorNormalCompletion44=(_step44=_iterator44.next()).done);_iteratorNormalCompletion44=true){var indicator=_step44.value;modules.push({member:indicator.type+'Indicator',args:[this]});}}catch(err){_didIteratorError44=true;_iteratorError44=err;}finally{try{if(!_iteratorNormalCompletion44&&_iterator44.return){_iterator44.return();}}finally{if(_didIteratorError44){throw _iteratorError44;}}}}}},{key:'findTrendLineModules',value:function findTrendLineModules(modules){var _this53=this;var isLine=void 0;var isSpline=void 0;var _loop3=function _loop3(series){var markerEnable=void 0;series.trendlines.map(function(trendline){markerEnable=markerEnable||trendline.marker.visible;isLine=isLine||trendline.type==='Linear'||trendline.type==='MovingAverage'?true:false;isSpline=isSpline||!isLine?true:false;});if(markerEnable){modules.push({member:'Marker',args:[_this53,series]});}};var _iteratorNormalCompletion45=true;var _didIteratorError45=false;var _iteratorError45=undefined;try{for(var _iterator45=this.series[Symbol.iterator](),_step45;!(_iteratorNormalCompletion45=(_step45=_iterator45.next()).done);_iteratorNormalCompletion45=true){var series=_step45.value;_loop3(series);}}catch(err){_didIteratorError45=true;_iteratorError45=err;}finally{try{if(!_iteratorNormalCompletion45&&_iterator45.return){_iterator45.return();}}finally{if(_didIteratorError45){throw _iteratorError45;}}}if(isLine||isSpline){modules.push({member:'TrendLine',args:[this]});}if(isLine){modules.push({member:'LineSeries',args:[this]});}if(isSpline){modules.push({member:'SplineSeries',args:[this]});}}},{key:'findStriplineVisibility',value:function findStriplineVisibility(striplines){var visible=false;var _iteratorNormalCompletion46=true;var _didIteratorError46=false;var _iteratorError46=undefined;try{for(var _iterator46=striplines[Symbol.iterator](),_step46;!(_iteratorNormalCompletion46=(_step46=_iterator46.next()).done);_iteratorNormalCompletion46=true){var stripline=_step46.value;if(stripline.visible){visible=true;break;}}}catch(err){_didIteratorError46=true;_iteratorError46=err;}finally{try{if(!_iteratorNormalCompletion46&&_iterator46.return){_iterator46.return();}}finally{if(_didIteratorError46){throw _iteratorError46;}}}return visible;}},{key:'removeSvg',value:function removeSvg(){if(document.getElementById(this.element.id+'_Secondary_Element')){remove(document.getElementById(this.element.id+'_Secondary_Element'));}var removeLength=0;if(this.zoomModule&&this.zoomModule.pinchTarget){this.zoomModule.pinchTarget.id='';this.zoomModule.pinchTarget.setAttribute('opacity','0');this.svgObject.appendChild(this.zoomModule.pinchTarget);removeLength=1;}if(this.svgObject){while(this.svgObject.childNodes.length>removeLength){this.svgObject.removeChild(this.svgObject.firstChild);}if(!this.svgObject.hasChildNodes()&&this.svgObject.parentNode){remove(this.svgObject);}}}},{key:'refreshDefinition',value:function refreshDefinition(definitions){var _iteratorNormalCompletion47=true;var _didIteratorError47=false;var _iteratorError47=undefined;try{for(var _iterator47=definitions[Symbol.iterator](),_step47;!(_iteratorNormalCompletion47=(_step47=_iterator47.next()).done);_iteratorNormalCompletion47=true){var item=_step47.value;item.axes=[];}}catch(err){_didIteratorError47=true;_iteratorError47=err;}finally{try{if(!_iteratorNormalCompletion47&&_iterator47.return){_iterator47.return();}}finally{if(_didIteratorError47){throw _iteratorError47;}}}}},{key:'refreshAxis',value:function refreshAxis(){var axis=this.primaryXAxis;axis.rect=new Rect(undefined,undefined,0,0);axis=this.primaryYAxis;axis.isStack100=false;axis.rect=new Rect(undefined,undefined,0,0);var _iteratorNormalCompletion48=true;var _didIteratorError48=false;var _iteratorError48=undefined;try{for(var _iterator48=this.axes[Symbol.iterator](),_step48;!(_iteratorNormalCompletion48=(_step48=_iterator48.next()).done);_iteratorNormalCompletion48=true){var item=_step48.value;axis=item;axis.rect=new Rect(undefined,undefined,0,0);axis.isStack100=false;}}catch(err){_didIteratorError48=true;_iteratorError48=err;}finally{try{if(!_iteratorNormalCompletion48&&_iterator48.return){_iterator48.return();}}finally{if(_didIteratorError48){throw _iteratorError48;}}}}},{key:'axisChange',value:function axisChange(axis){if(!axis.name&&!axis.valueType){return false;}this.refreshDefinition(this.columns);this.refreshDefinition(this.rows);this.calculateVisibleAxis();this.processData();return true;}},{key:'onPropertyChanged',value:function onPropertyChanged(newProp,oldProp){var renderer=false;var refreshBounds=false;if(Object.keys(newProp).length===1&&Object.keys(newProp)[0]==='indicators'){//add valid check, it should happen only when property change is triggered for target series
return;}this.animateSeries=false;if(!this.delayRedraw){var _iteratorNormalCompletion49=true;var _didIteratorError49=false;var _iteratorError49=undefined;try{for(var _iterator49=Object.keys(newProp)[Symbol.iterator](),_step49;!(_iteratorNormalCompletion49=(_step49=_iterator49.next()).done);_iteratorNormalCompletion49=true){var prop=_step49.value;switch(prop){case'primaryXAxis':refreshBounds=this.axisChange(newProp.primaryXAxis);if(newProp.primaryXAxis.edgeLabelPlacement){renderer=true;}if(!newProp.primaryXAxis.crosshairTooltip){refreshBounds=true;}break;case'primaryYAxis':refreshBounds=this.axisChange(newProp.primaryYAxis);if(newProp.primaryYAxis.edgeLabelPlacement){renderer=true;}if(!newProp.primaryYAxis.crosshairTooltip){refreshBounds=true;}break;case'height':case'width':this.createChartSvg();refreshBounds=true;break;case'title':refreshBounds=true;break;case'titleStyle':if(newProp.titleStyle&&(newProp.titleStyle.size||newProp.titleStyle.textOverflow)){refreshBounds=true;}else{renderer=true;}break;case'border':renderer=true;break;case'zoomSettings':case'background':renderer=true;break;case'chartArea':if(newProp.chartArea.border&&newProp.chartArea.border.width){refreshBounds=true;}renderer=true;break;case'legendSettings':if(!newProp.legendSettings.background||!newProp.legendSettings.opacity){refreshBounds=true;}renderer=true;break;case'palettes':this.calculateVisibleSeries();renderer=true;break;case'selectedDataIndexes':case'selectionMode':if(this.selectionModule&&newProp.selectionMode&&newProp.selectionMode.indexOf('Drag')===-1){this.selectionModule.redrawSelection(this,oldProp.selectionMode);}break;case'isMultiSelect':if(this.selectionModule&&!newProp.isMultiSelect&&this.selectionModule.selectedDataIndexes.length>1){this.selectionModule.redrawSelection(this,oldProp.selectionMode);}break;case'theme':this.animateSeries=true;break;case'locale':case'currencyCode':_get(Chart.prototype.__proto__||Object.getPrototypeOf(Chart.prototype),'refresh',this).call(this);break;case'tooltip':this.tooltipModule.previousPoints=[];break;}}}catch(err){_didIteratorError49=true;_iteratorError49=err;}finally{try{if(!_iteratorNormalCompletion49&&_iterator49.return){_iterator49.return();}}finally{if(_didIteratorError49){throw _iteratorError49;}}}if(!refreshBounds&&renderer){this.removeSvg();this.renderElements();this.trigger('loaded',{chart:this});}if(refreshBounds){this.removeSvg();this.refreshAxis();this.refreshBound();this.trigger('loaded',{chart:this});}}}}]);return Chart;}(Component));__decorate([Property(null)],Chart.prototype,"width",void 0);__decorate([Property(null)],Chart.prototype,"height",void 0);__decorate([Property('')],Chart.prototype,"title",void 0);__decorate([Complex(Theme.chartTitleFont,Font)],Chart.prototype,"titleStyle",void 0);__decorate([Complex({},Margin)],Chart.prototype,"margin",void 0);__decorate([Complex({color:'#DDDDDD',width:0},Border)],Chart.prototype,"border",void 0);__decorate([Property(null)],Chart.prototype,"background",void 0);__decorate([Complex({border:{color:null,width:0.5},background:'transparent'},ChartArea)],Chart.prototype,"chartArea",void 0);__decorate([Complex({name:'primaryXAxis'},Axis)],Chart.prototype,"primaryXAxis",void 0);__decorate([Complex({name:'primaryYAxis'},Axis)],Chart.prototype,"primaryYAxis",void 0);__decorate([Collection([{}],Row)],Chart.prototype,"rows",void 0);__decorate([Collection([{}],Column)],Chart.prototype,"columns",void 0);__decorate([Collection([{}],Axis)],Chart.prototype,"axes",void 0);__decorate([Collection([{}],Series)],Chart.prototype,"series",void 0);__decorate([Collection([{}],ChartAnnotationSettings)],Chart.prototype,"annotations",void 0);__decorate([Property([])],Chart.prototype,"palettes",void 0);__decorate([Property('Material')],Chart.prototype,"theme",void 0);__decorate([Complex({},TooltipSettings)],Chart.prototype,"tooltip",void 0);__decorate([Complex({},CrosshairSettings)],Chart.prototype,"crosshair",void 0);__decorate([Complex({},LegendSettings)],Chart.prototype,"legendSettings",void 0);__decorate([Complex({},ZoomSettings)],Chart.prototype,"zoomSettings",void 0);__decorate([Property('None')],Chart.prototype,"selectionMode",void 0);__decorate([Property(false)],Chart.prototype,"isMultiSelect",void 0);__decorate([Collection([],Indexes)],Chart.prototype,"selectedDataIndexes",void 0);__decorate([Property(false)],Chart.prototype,"useGroupingSeparator",void 0);__decorate([Property(false)],Chart.prototype,"isTransposed",void 0);__decorate([Collection([],TechnicalIndicator)],Chart.prototype,"indicators",void 0);__decorate([Property(null)],Chart.prototype,"description",void 0);__decorate([Property(1)],Chart.prototype,"tabIndex",void 0);__decorate([Property(true)],Chart.prototype,"enableSideBySidePlacement",void 0);__decorate([Event()],Chart.prototype,"annotationRender",void 0);__decorate([Event()],Chart.prototype,"beforePrint",void 0);__decorate([Event()],Chart.prototype,"loaded",void 0);__decorate([Event()],Chart.prototype,"load",void 0);__decorate([Event()],Chart.prototype,"animationComplete",void 0);__decorate([Event()],Chart.prototype,"legendRender",void 0);__decorate([Event()],Chart.prototype,"textRender",void 0);__decorate([Event()],Chart.prototype,"pointRender",void 0);__decorate([Event()],Chart.prototype,"seriesRender",void 0);__decorate([Event()],Chart.prototype,"axisLabelRender",void 0);__decorate([Event()],Chart.prototype,"axisRangeCalculated",void 0);__decorate([Event()],Chart.prototype,"axisMultiLabelRender",void 0);__decorate([Event()],Chart.prototype,"tooltipRender",void 0);__decorate([Event()],Chart.prototype,"chartMouseMove",void 0);__decorate([Event()],Chart.prototype,"chartMouseClick",void 0);__decorate([Event()],Chart.prototype,"pointClick",void 0);__decorate([Event()],Chart.prototype,"pointMove",void 0);__decorate([Event()],Chart.prototype,"chartMouseLeave",void 0);__decorate([Event()],Chart.prototype,"chartMouseDown",void 0);__decorate([Event()],Chart.prototype,"chartMouseUp",void 0);__decorate([Event()],Chart.prototype,"dragComplete",void 0);__decorate([Event()],Chart.prototype,"zoomComplete",void 0);__decorate([Property('USD')],Chart.prototype,"currencyCode",void 0);_export2('Chart',Chart=__decorate([NotifyPropertyChanges],Chart));/**
 * Common axis classes
 * @private
 */_export2('NiceInterval',NiceInterval=function(_Double){_inherits(NiceInterval,_Double);function NiceInterval(){_classCallCheck(this,NiceInterval);return _possibleConstructorReturn(this,(NiceInterval.__proto__||Object.getPrototypeOf(NiceInterval)).apply(this,arguments));}_createClass(NiceInterval,[{key:'calculateDateTimeNiceInterval',value:function calculateDateTimeNiceInterval(axis,size,start,end){var oneDay=24*60*60*1000;var startDate=new Date(start);var endDate=new Date(end);//var axisInterval ;
var totalDays=Math.abs((startDate.getTime()-endDate.getTime())/oneDay);var interval=void 0;axis.actualIntervalType=axis.intervalType;switch(axis.intervalType){case'Years':interval=this.calculateNumericNiceInterval(axis,totalDays/365,size);break;case'Months':interval=this.calculateNumericNiceInterval(axis,totalDays/30,size);break;case'Days':interval=this.calculateNumericNiceInterval(axis,totalDays,size);break;case'Hours':interval=this.calculateNumericNiceInterval(axis,totalDays*24,size);break;case'Minutes':interval=this.calculateNumericNiceInterval(axis,totalDays*24*60,size);break;case'Seconds':interval=this.calculateNumericNiceInterval(axis,totalDays*24*60*60,size);break;case'Auto':interval=this.calculateNumericNiceInterval(axis,totalDays/365,size);if(interval>=1){axis.actualIntervalType='Years';return interval;}interval=this.calculateNumericNiceInterval(axis,totalDays/30,size);if(interval>=1){axis.actualIntervalType='Months';return interval;}interval=this.calculateNumericNiceInterval(axis,totalDays,size);if(interval>=1){axis.actualIntervalType='Days';return interval;}interval=this.calculateNumericNiceInterval(axis,totalDays*24,size);if(interval>=1){axis.actualIntervalType='Hours';return interval;}interval=this.calculateNumericNiceInterval(axis,totalDays*24*60,size);if(interval>=1){axis.actualIntervalType='Minutes';return interval;}interval=this.calculateNumericNiceInterval(axis,totalDays*24*60*60,size);axis.actualIntervalType='Seconds';return interval;}return interval;}},{key:'getSkeleton',value:function getSkeleton(axis){var skeleton=void 0;if(axis.skeleton){return axis.skeleton;}if(axis.actualIntervalType==='Years'){skeleton='yMMM';}else if(axis.actualIntervalType==='Months'){skeleton='MMMd';}else if(axis.actualIntervalType==='Days'){skeleton='yMd';}else if(axis.actualIntervalType==='Hours'){skeleton='EHm';}else if(axis.actualIntervalType==='Minutes'||axis.actualIntervalType==='Seconds'){skeleton='Hms';}else{skeleton='Hms';}return skeleton;}}]);return NiceInterval;}(Double));_export2('DateTime',DateTime=function(_NiceInterval){_inherits(DateTime,_NiceInterval);/**
     * Constructor for the dateTime module.
     * @private
     */function DateTime(chart){_classCallCheck(this,DateTime);return _possibleConstructorReturn(this,(DateTime.__proto__||Object.getPrototypeOf(DateTime)).call(this,chart));}/**
     * The function to calculate the range and labels for the axis.
     * @return {void}
     */_createClass(DateTime,[{key:'calculateRangeAndInterval',value:function calculateRangeAndInterval(size,axis){this.calculateRange(axis,size);this.getActualRange(axis,size);this.applyRangePadding(axis,size);this.calculateVisibleLabels(axis);}},{key:'getActualRange',value:function getActualRange(axis,size){var option={skeleton:'full',type:'dateTime'};var dateParser=this.chart.intl.getDateParser(option);var dateFormatter=this.chart.intl.getDateFormat(option);// Axis min
if(axis.minimum!==null){this.min=Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({val:axis.minimum}).val))));}else if(this.min===null||this.min===Number.POSITIVE_INFINITY){this.min=Date.parse(dateParser(dateFormatter(new Date(1970,1,1))));}// Axis Max
if(axis.maximum!==null){this.max=Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({val:axis.maximum}).val))));}else if(this.max===null||this.max===Number.NEGATIVE_INFINITY){this.max=Date.parse(dateParser(dateFormatter(new Date(1970,5,1))));}if(this.min===this.max){this.max=this.max+2592000000;this.min=this.min-2592000000;}axis.actualRange={};axis.doubleRange=new DoubleRange(this.min,this.max);var datetimeInterval=this.calculateDateTimeNiceInterval(axis,size,axis.doubleRange.start,axis.doubleRange.end);if(!axis.interval){axis.actualRange.interval=datetimeInterval;}else{axis.actualRange.interval=axis.interval;}axis.actualRange.min=axis.doubleRange.start;axis.actualRange.max=axis.doubleRange.end;}},{key:'applyRangePadding',value:function applyRangePadding(axis,size){this.start=axis.actualRange.min;this.end=axis.actualRange.max;var minimum=void 0;var maximum=void 0;var interval=axis.actualRange.interval;if(!axis.setRange()){var rangePadding=axis.getRangePadding(this.chart);minimum=new Date(this.start);maximum=new Date(this.end);var intervalType=axis.actualIntervalType;if(rangePadding==='None'){this.start=minimum.getTime();this.end=maximum.getTime();}else if(rangePadding==='Additional'||rangePadding==='Round'){switch(intervalType){case'Years':this.getYear(minimum,maximum,rangePadding,interval);break;case'Months':this.getMonth(minimum,maximum,rangePadding,interval);break;case'Days':this.getDay(minimum,maximum,rangePadding,interval);break;case'Hours':this.getHour(minimum,maximum,rangePadding,interval);break;case'Minutes':var minute=minimum.getMinutes()/interval*interval;var endMinute=maximum.getMinutes()+(minimum.getMinutes()-minute);if(rangePadding==='Round'){this.start=new Date(minimum.getFullYear(),minimum.getMonth(),minimum.getDate(),minimum.getHours(),minute,0).getTime();this.end=new Date(maximum.getFullYear(),maximum.getMonth(),maximum.getDate(),maximum.getHours(),endMinute,59).getTime();}else{this.start=new Date(minimum.getFullYear(),maximum.getMonth(),minimum.getDate(),minimum.getHours(),minute+-interval,0).getTime();this.end=new Date(maximum.getFullYear(),maximum.getMonth(),maximum.getDate(),maximum.getHours(),endMinute+interval,0).getTime();}break;case'Seconds':var second=minimum.getSeconds()/interval*interval;var endSecond=maximum.getSeconds()+(minimum.getSeconds()-second);if(rangePadding==='Round'){this.start=new Date(minimum.getFullYear(),minimum.getMonth(),minimum.getDate(),minimum.getHours(),minimum.getMinutes(),second,0).getTime();this.end=new Date(maximum.getFullYear(),maximum.getMonth(),maximum.getDate(),maximum.getHours(),maximum.getMinutes(),endSecond,0).getTime();}else{this.start=new Date(minimum.getFullYear(),minimum.getMonth(),minimum.getDate(),minimum.getHours(),minimum.getMinutes(),second+-interval,0).getTime();this.end=new Date(maximum.getFullYear(),maximum.getMonth(),maximum.getDate(),maximum.getHours(),maximum.getMinutes(),endSecond+interval,0).getTime();}break;}}}axis.actualRange.min=axis.minimum!=null?this.min:this.start;axis.actualRange.max=axis.maximum!=null?this.max:this.end;axis.actualRange.delta=axis.actualRange.max-axis.actualRange.min;axis.doubleRange=new DoubleRange(axis.actualRange.min,axis.actualRange.max);this.calculateVisibleRange(size,axis);}},{key:'getYear',value:function getYear(minimum,maximum,rangePadding,interval){var startYear=minimum.getFullYear();var endYear=maximum.getFullYear();if(rangePadding==='Additional'){this.start=new Date(startYear-interval,1,1,0,0,0).getTime();this.end=new Date(endYear+interval,1,1,0,0,0).getTime();}else{this.start=new Date(startYear,0,0,0,0,0).getTime();this.end=new Date(endYear,11,30,23,59,59).getTime();}}},{key:'getMonth',value:function getMonth(minimum,maximum,rangePadding,interval){var month=minimum.getMonth();var endMonth=maximum.getMonth();if(rangePadding==='Round'){this.start=new Date(minimum.getFullYear(),month,0,0,0,0).getTime();this.end=new Date(maximum.getFullYear(),endMonth,new Date(maximum.getFullYear(),maximum.getMonth(),0).getDate(),23,59,59).getTime();}else{this.start=new Date(minimum.getFullYear(),month+-interval,1,0,0,0).getTime();this.end=new Date(maximum.getFullYear(),endMonth+interval,endMonth===2?28:30,0,0,0).getTime();}}},{key:'getDay',value:function getDay(minimum,maximum,rangePadding,interval){var day=minimum.getDate();var endDay=maximum.getDate();if(rangePadding==='Round'){this.start=new Date(minimum.getFullYear(),minimum.getMonth(),day,0,0,0).getTime();this.end=new Date(maximum.getFullYear(),maximum.getMonth(),endDay,23,59,59).getTime();}else{this.start=new Date(minimum.getFullYear(),minimum.getMonth(),day+-interval,0,0,0).getTime();this.end=new Date(maximum.getFullYear(),maximum.getMonth(),endDay+interval,0,0,0).getTime();}}},{key:'getHour',value:function getHour(minimum,maximum,rangePadding,interval){var hour=minimum.getHours()/interval*interval;var endHour=maximum.getHours()+(minimum.getHours()-hour);if(rangePadding==='Round'){this.start=new Date(minimum.getFullYear(),minimum.getMonth(),minimum.getDate(),hour,0,0).getTime();this.end=new Date(maximum.getFullYear(),maximum.getMonth(),maximum.getDate(),endHour,59,59).getTime();}else{this.start=new Date(minimum.getFullYear(),minimum.getMonth(),minimum.getDate(),hour+-interval,0,0).getTime();this.end=new Date(maximum.getFullYear(),maximum.getMonth(),maximum.getDate(),endHour+interval,0,0).getTime();}}},{key:'calculateVisibleRange',value:function calculateVisibleRange(size,axis){axis.visibleRange={min:axis.actualRange.min,max:axis.actualRange.max,interval:axis.actualRange.interval,delta:axis.actualRange.delta};if(axis.zoomFactor<1||axis.zoomPosition>0){axis.calculateVisibleRange(size);axis.visibleRange.interval=axis.enableAutoIntervalOnZooming?this.calculateDateTimeNiceInterval(axis,size,axis.visibleRange.min,axis.visibleRange.max):axis.visibleRange.interval;}axis.dateTimeInterval=this.increaseDateTimeInterval(axis,axis.visibleRange.min,axis.visibleRange.interval).getTime()-axis.visibleRange.min;axis.triggerRangeRender(this.chart,axis.visibleRange.min,axis.visibleRange.max,axis.visibleRange.interval);}},{key:'calculateVisibleLabels',value:function calculateVisibleLabels(axis){axis.visibleLabels=[];var tempInterval=axis.visibleRange.min;if(!axis.setRange()){tempInterval=this.alignRangeStart(axis,tempInterval,axis.visibleRange.interval,axis.actualIntervalType).getTime();}axis.format=this.chart.intl.getDateFormat({format:axis.labelFormat,type:firstToLowerCase(axis.skeletonType),skeleton:this.getSkeleton(axis)});axis.startLabel=axis.format(new Date(axis.visibleRange.min));axis.endLabel=axis.format(new Date(axis.visibleRange.max));while(tempInterval<=axis.visibleRange.max){if(withIn(tempInterval,axis.visibleRange)){axis.triggerLabelRender(this.chart,tempInterval,axis.format(new Date(tempInterval)),axis.labelStyle);}tempInterval=this.increaseDateTimeInterval(axis,tempInterval,axis.visibleRange.interval).getTime();}axis.getMaxLabelWidth(this.chart);}},{key:'increaseDateTimeInterval',value:function increaseDateTimeInterval(axis,value,interval){var result=new Date(value);interval=Math.ceil(interval);switch(axis.actualIntervalType){case'Years':result.setFullYear(result.getFullYear()+interval);return result;case'Months':result.setMonth(result.getMonth()+interval);return result;case'Days':result.setDate(result.getDate()+interval);return result;case'Hours':result.setHours(result.getHours()+interval);return result;case'Minutes':result.setMinutes(result.getMinutes()+interval);return result;case'Seconds':result.setSeconds(result.getSeconds()+interval);return result;}return result;}},{key:'alignRangeStart',value:function alignRangeStart(axis,sDate,intervalSize,intervalType){var sResult=new Date(sDate);switch(axis.actualIntervalType){case'Years':var year=Math.floor(Math.floor(sResult.getFullYear()/intervalSize)*intervalSize);sResult=new Date(year,sResult.getMonth(),sResult.getDate(),0,0,0);return sResult;case'Months':var month=Math.floor(Math.floor(sResult.getMonth()/intervalSize)*intervalSize);sResult=new Date(sResult.getFullYear(),month,sResult.getDate(),0,0,0);return sResult;case'Days':var day=Math.floor(Math.floor(sResult.getDate()/intervalSize)*intervalSize);sResult=new Date(sResult.getFullYear(),sResult.getMonth(),day,0,0,0);return sResult;case'Hours':var hour=Math.floor(Math.floor(sResult.getHours()/intervalSize)*intervalSize);sResult=new Date(sResult.getFullYear(),sResult.getMonth(),sResult.getDate(),hour,0,0);return sResult;case'Minutes':var minutes=Math.floor(Math.floor(sResult.getMinutes()/intervalSize)*intervalSize);sResult=new Date(sResult.getFullYear(),sResult.getMonth(),sResult.getDate(),sResult.getHours(),minutes,0,0);return sResult;case'Seconds':var seconds=Math.floor(Math.floor(sResult.getSeconds()/intervalSize)*intervalSize);sResult=new Date(sResult.getFullYear(),sResult.getMonth(),sResult.getDate(),sResult.getHours(),sResult.getMinutes(),seconds,0);return sResult;}return sResult;}},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name
         */return'DateTime';}},{key:'destroy',value:function destroy(chart){/**
         * Destroy method performed here
         */}}]);return DateTime;}(NiceInterval));_export2('Category',Category=function(_NiceInterval2){_inherits(Category,_NiceInterval2);/**
     * Constructor for the category module.
     * @private
     */function Category(chart){_classCallCheck(this,Category);return _possibleConstructorReturn(this,(Category.__proto__||Object.getPrototypeOf(Category)).call(this,chart));}/**
     * The function to calculate the range and labels for the axis.
     * @return {void}
     */_createClass(Category,[{key:'calculateRangeAndInterval',value:function calculateRangeAndInterval(size,axis){this.calculateRange(axis,size);this.getActualRange(axis,size);this.applyRangePadding(axis,size);this.calculateVisibleLabels(axis);}},{key:'getActualRange',value:function getActualRange(axis,size){this.initializeDoubleRange(axis);// axis.doubleRange = new DoubleRange(<number>this.min, <number>this.max);
axis.actualRange={};if(!axis.interval){axis.actualRange.interval=Math.max(1,Math.floor(axis.doubleRange.delta/axis.getActualDesiredIntervalsCount(size)));}else{axis.actualRange.interval=Math.ceil(axis.interval);}axis.actualRange.min=axis.doubleRange.start;axis.actualRange.max=axis.doubleRange.end;axis.actualRange.delta=axis.doubleRange.delta;}},{key:'applyRangePadding',value:function applyRangePadding(axis,size){var ticks=axis.labelPlacement==='BetweenTicks'&&this.chart.chartAreaType!=='PolarRadar'?0.5:0;if(ticks>0){axis.actualRange.min-=ticks;axis.actualRange.max+=ticks;}else{axis.actualRange.max+=axis.actualRange.max?0:0.5;}axis.doubleRange=new DoubleRange(axis.actualRange.min,axis.actualRange.max);axis.actualRange.delta=axis.doubleRange.delta;this.calculateVisibleRange(size,axis);}},{key:'calculateVisibleLabels',value:function calculateVisibleLabels(axis){/*! Generate axis labels */axis.visibleLabels=[];var tempInterval=Math.ceil(axis.visibleRange.min);if(axis.zoomFactor<1||axis.zoomPosition>0){tempInterval=axis.visibleRange.min-axis.visibleRange.min%axis.visibleRange.interval;}var position=void 0;axis.startLabel=axis.labels[Math.round(axis.visibleRange.min)];axis.endLabel=axis.labels[Math.floor(axis.visibleRange.max)];for(;tempInterval<=axis.visibleRange.max;tempInterval+=axis.visibleRange.interval){if(withIn(tempInterval,axis.visibleRange)&&axis.labels.length>0){position=Math.round(tempInterval);axis.triggerLabelRender(this.chart,position,axis.labels[position]?axis.labels[position]:position.toString(),axis.labelStyle);}}axis.getMaxLabelWidth(this.chart);}},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name
         */return'Category';}},{key:'destroy',value:function destroy(chart){/**
         * Destroy method performed here
         */}}]);return Category;}(NiceInterval));_export2('Logarithmic',Logarithmic=function(_Double2){_inherits(Logarithmic,_Double2);/**
     * Constructor for the logerithmic module.
     * @private
     */function Logarithmic(chart){_classCallCheck(this,Logarithmic);return _possibleConstructorReturn(this,(Logarithmic.__proto__||Object.getPrototypeOf(Logarithmic)).call(this,chart));}/**
     * The method to calculate the range and labels for the axis.
     * @return {void}
     */_createClass(Logarithmic,[{key:'calculateRangeAndInterval',value:function calculateRangeAndInterval(size,axis){this.calculateRange(axis,size);this.getActualRange(axis,size);this.calculateVisibleRange(size,axis);this.calculateVisibleLabels(axis,this.chart);}},{key:'getActualRange',value:function getActualRange(axis,size){this.initializeDoubleRange(axis);this.min=this.min<0?0:this.min;var logStart=logBase(this.min,axis.logBase);logStart=isFinite(logStart)?logStart:this.min;var logEnd=logBase(this.max,axis.logBase);logEnd=isFinite(logStart)?logEnd:this.max;this.min=Math.floor(logStart/1);this.max=Math.ceil(logEnd/1);axis.actualRange.interval=axis.interval||this.calculateLogNiceInterval(this.max-this.min,size,axis);axis.actualRange.min=this.min;axis.actualRange.max=this.max;axis.actualRange.delta=this.max-this.min;}},{key:'calculateVisibleRange',value:function calculateVisibleRange(size,axis){axis.visibleRange={interval:axis.actualRange.interval,max:axis.actualRange.max,min:axis.actualRange.min,delta:axis.actualRange.delta};if(axis.zoomFactor<1||axis.zoomPosition>0){axis.calculateVisibleRange(size);axis.visibleRange.interval=axis.enableAutoIntervalOnZooming?this.calculateLogNiceInterval(axis.doubleRange.delta,size,axis):axis.visibleRange.interval;axis.visibleRange.interval=Math.floor(axis.visibleRange.interval)===0?1:Math.floor(axis.visibleRange.interval);axis.triggerRangeRender(this.chart,axis.visibleRange.min,axis.visibleRange.max,axis.visibleRange.interval);}}},{key:'calculateLogNiceInterval',value:function calculateLogNiceInterval(delta,size,axis){var actualDesiredIntervalsCount=axis.getActualDesiredIntervalsCount(size);var niceInterval=delta;var minInterval=Math.pow(10,Math.floor(logBase(niceInterval,10)));for(var j=0,len=axis.intervalDivs.length;j<len;j++){var currentInterval=minInterval*axis.intervalDivs[j];if(actualDesiredIntervalsCount<delta/currentInterval){break;}niceInterval=currentInterval;}return niceInterval;}},{key:'calculateVisibleLabels',value:function calculateVisibleLabels(axis,chart){/*! Generate axis labels */var tempInterval=axis.visibleRange.min;axis.visibleLabels=[];if(axis.zoomFactor<1||axis.zoomPosition>0){tempInterval=axis.visibleRange.min-axis.visibleRange.min%axis.visibleRange.interval;}var axisFormat=this.getFormat(axis);var isCustomFormat=axisFormat.match('{value}')!==null;axis.format=chart.intl.getNumberFormat({format:isCustomFormat?'':axisFormat,useGrouping:chart.useGroupingSeparator});axis.startLabel=axis.format(Math.pow(axis.logBase,axis.visibleRange.min));axis.endLabel=axis.format(Math.pow(axis.logBase,axis.visibleRange.max));for(;tempInterval<=axis.visibleRange.max;tempInterval+=axis.visibleRange.interval){if(withIn(tempInterval,axis.visibleRange)){axis.triggerLabelRender(this.chart,tempInterval,this.formatValue(axis,isCustomFormat,axisFormat,Math.pow(axis.logBase,tempInterval)),axis.labelStyle);}}axis.getMaxLabelWidth(this.chart);}},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name
         */return'Logarithmic';}},{key:'destroy',value:function destroy(chart){/**
         * Destroy method performed here
         */}}]);return Logarithmic;}(Double));_export2('DateTimeCategory',DateTimeCategory=function(_Category){_inherits(DateTimeCategory,_Category);/**
     * Constructor for the category module.
     * @private
     */function DateTimeCategory(chart){_classCallCheck(this,DateTimeCategory);return _possibleConstructorReturn(this,(DateTimeCategory.__proto__||Object.getPrototypeOf(DateTimeCategory)).call(this,chart));}/**
     * The function to calculate the range and labels for the axis.
     * @return {void}
     * @private
     */_createClass(DateTimeCategory,[{key:'calculateRangeAndInterval',value:function calculateRangeAndInterval(size,axis){this.axisSize=size;this.calculateRange(axis,size);this.getActualRange(axis,size);this.applyRangePadding(axis,size);this.calculateVisibleLabels(axis);}},{key:'calculateVisibleLabels',value:function calculateVisibleLabels(axis){/*! Generate axis labels */axis.visibleLabels=[];var padding=axis.labelPlacement==='BetweenTicks'?0.5:0;if(axis.intervalType==='Auto'){this.calculateDateTimeNiceInterval(axis,this.axisSize,parseInt(axis.labels[0],10),parseInt(axis.labels[axis.labels.length-1],10));}else{axis.actualIntervalType=axis.intervalType;}axis.format=this.chart.intl.getDateFormat({format:axis.labelFormat,type:firstToLowerCase(axis.skeletonType),skeleton:this.getSkeleton(axis)});for(var i=0;i<axis.labels.length;i++){if(!this.sameInterval(axis.labels.map(Number)[i],axis.labels.map(Number)[i-1],axis.actualIntervalType,i)){if(withIn(i-padding,axis.visibleRange)){axis.triggerLabelRender(this.chart,i,axis.format(new Date(axis.labels.map(Number)[i])),axis.labelStyle);}}}axis.getMaxLabelWidth(this.chart);}},{key:'sameInterval',value:function sameInterval(currentDate,previousDate,type,index){var sameValue=void 0;if(index===0){sameValue=false;}else{switch(type){case'Years':sameValue=new Date(currentDate).getFullYear()===new Date(previousDate).getFullYear();break;case'Months':sameValue=new Date(currentDate).getFullYear()===new Date(previousDate).getFullYear()&&new Date(currentDate).getMonth()===new Date(previousDate).getMonth();break;case'Days':sameValue=Math.abs(currentDate-previousDate)<24*60*60*1000&&new Date(currentDate).getDay()===new Date(previousDate).getDay();break;case'Hours':sameValue=Math.abs(currentDate-previousDate)<60*60*1000&&new Date(currentDate).getDay()===new Date(previousDate).getDay();break;case'Minutes':sameValue=Math.abs(currentDate-previousDate)<60*1000&&new Date(currentDate).getMinutes()===new Date(previousDate).getMinutes();break;case'Seconds':sameValue=Math.abs(currentDate-previousDate)<1000&&new Date(currentDate).getDay()===new Date(previousDate).getDay();break;}}return sameValue;}},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name
         */return'DateTimeCategory';}},{key:'destroy',value:function destroy(chart){/**
         * Destroy method performed here
         */}}]);return DateTimeCategory;}(Category));_export2('StripLine',StripLine=function(){function StripLine(){_classCallCheck(this,StripLine);}_createClass(StripLine,[{key:'measureStripLine',value:function measureStripLine(axis,stripline,seriesClipRect){var actualStart=void 0;var actualEnd=void 0;if(axis.valueType==='DateTimeCategory'){var start=stripline.start;var end=stripline.end;actualStart=start?axis.labels.indexOf(start.getTime().toString()):null;actualEnd=end?axis.labels.indexOf(end.getTime().toString()):null;}else{actualStart=stripline.start;actualEnd=stripline.end;}var rect=this.getFromTovalue(actualStart,actualEnd,stripline.size,stripline.startFromAxis,axis);var height=axis.orientation==='Vertical'?(rect.to-rect.from)*axis.rect.height:seriesClipRect.height;var width=axis.orientation==='Horizontal'?(rect.to-rect.from)*axis.rect.width:seriesClipRect.width;var x=axis.orientation==='Vertical'?seriesClipRect.x:rect.from*axis.rect.width+axis.rect.x;var y=axis.orientation==='Horizontal'?seriesClipRect.y:axis.rect.y+axis.rect.height-rect.to*axis.rect.height;if(height!==0&&width!==0){return new Rect(x,y,width,height);}return new Rect(0,0,0,0);}},{key:'getFromTovalue',value:function getFromTovalue(start,end,size,startFromAxis,axis){var from=startFromAxis?axis.visibleRange.min:this.findValue(Math.min(start,isNullOrUndefined(end)?start:end),axis);var to=this.findValue(this.getToValue(Math.max(start,isNullOrUndefined(end)?start:end),from,size,axis,end),axis);return{from:valueToCoefficient(axis.isInversed?to:from,axis),to:valueToCoefficient(axis.isInversed?from:to,axis)};}},{key:'getToValue',value:function getToValue(to,from,size,axis,end){if(axis.valueType==='DateTime'){return isNullOrUndefined(end)?new Date(new Date(from).getTime()+size):to;}else{return isNullOrUndefined(end)?(axis.valueType==='Logarithmic'?Math.pow(axis.logBase,from):from)+size:to;}}},{key:'findValue',value:function findValue(value,axis){if(axis.valueType==='Logarithmic'){value=logBase(value,axis.logBase);}if(value<axis.visibleRange.min){value=axis.visibleRange.min;}else if(value>axis.visibleRange.max){value=axis.visibleRange.max;}return value;}},{key:'renderStripLine',value:function renderStripLine(chart,position,axes){var id=chart.element.id+'_stripline_'+position+'_';var striplineGroup=chart.renderer.createGroup({id:id+'collections'});var seriesClipRect=chart.chartAxisLayoutPanel.seriesClipRect;var rect=void 0;var count=0;var _iteratorNormalCompletion50=true;var _didIteratorError50=false;var _iteratorError50=undefined;try{for(var _iterator50=axes[Symbol.iterator](),_step50;!(_iteratorNormalCompletion50=(_step50=_iterator50.next()).done);_iteratorNormalCompletion50=true){var axis=_step50.value;var _iteratorNormalCompletion51=true;var _didIteratorError51=false;var _iteratorError51=undefined;try{for(var _iterator51=axis.stripLines[Symbol.iterator](),_step51;!(_iteratorNormalCompletion51=(_step51=_iterator51.next()).done);_iteratorNormalCompletion51=true){var stripline=_step51.value;if(stripline.visible&&stripline.zIndex===position){rect=this.measureStripLine(axis,stripline,seriesClipRect);this.renderRectangle(stripline,rect,id+'rect_'+count,striplineGroup,chart);this.renderText(stripline,rect,id+'text_'+count,striplineGroup,chart,axis);count++;}}}catch(err){_didIteratorError51=true;_iteratorError51=err;}finally{try{if(!_iteratorNormalCompletion51&&_iterator51.return){_iterator51.return();}}finally{if(_didIteratorError51){throw _iteratorError51;}}}}}catch(err){_didIteratorError50=true;_iteratorError50=err;}finally{try{if(!_iteratorNormalCompletion50&&_iterator50.return){_iterator50.return();}}finally{if(_didIteratorError50){throw _iteratorError50;}}}chart.svgObject.appendChild(striplineGroup);}},{key:'renderRectangle',value:function renderRectangle(stripline,rect,id,parent,chart){parent.appendChild(chart.renderer.drawRectangle(new RectOption(id,stripline.color,stripline.border,stripline.opacity,rect,0,0,'','')));}},{key:'renderText',value:function renderText(stripline,rect,id,parent,chart,axis){var textSize=measureText(stripline.text,stripline.textStyle);var textMid=3*(textSize.height/8);var ty=rect.y+rect.height/2+textMid;var rotation=stripline.rotation===null?axis.orientation==='Vertical'?0:-90:stripline.rotation;var tx=rect.x+rect.width/2;var alignment=void 0;var anchor=void 0;var padding=5;if(axis.orientation==='Horizontal'){tx=this.getTextStart(tx+textMid*this.factor(stripline.horizontalAlignment),rect.width,stripline.horizontalAlignment);ty=this.getTextStart(ty-textMid,rect.height,stripline.verticalAlignment);alignment=this.invertAlignment(stripline.horizontalAlignment);}else{tx=this.getTextStart(tx,rect.width,stripline.horizontalAlignment);ty=this.getTextStart(ty+textMid*this.factor(stripline.verticalAlignment)-padding,rect.height,stripline.verticalAlignment);alignment=stripline.verticalAlignment;}anchor=alignment;textElement(new TextOption(id,tx,ty,anchor,stripline.text,'rotate('+rotation+' '+tx+','+ty+')','middle'),stripline.textStyle,stripline.textStyle.color,parent);}},{key:'invertAlignment',value:function invertAlignment(anchor){switch(anchor){case'Start':anchor='Start';break;case'End':anchor='End';break;}return anchor;}},{key:'factor',value:function factor(anchor){var factor=0;switch(anchor){case'Start':factor=1;break;case'End':factor=-1;break;}return factor;}},{key:'getTextStart',value:function getTextStart(xy,size,textAlignment){var padding=5;switch(textAlignment){case'Start':xy=xy-size/2+padding;break;case'End':xy=xy+size/2-padding;break;}return xy;}},{key:'getModuleName',value:function getModuleName(){return'StripLine';}},{key:'destroy',value:function destroy(){// destroy peform here
}}]);return StripLine;}());LineBase=function(){/** @private */function LineBase(chartModule){_classCallCheck(this,LineBase);this.chart=chartModule;this.padding=5;}/**
     * To improve the chart performance.
     * @return {void}
     * @private
     */_createClass(LineBase,[{key:'improveChartPerformance',value:function improveChartPerformance(series){var tempPoints=[];var xVisibleRange=series.xAxis.visibleRange;var yVisibleRange=series.yAxis.visibleRange;var seriesPoints=series.points;var areaBounds=series.clipRect;var xTolerance=Math.abs(xVisibleRange.delta/areaBounds.width);var yTolerance=Math.abs(yVisibleRange.delta/areaBounds.height);var prevXValue=seriesPoints[0]&&seriesPoints[0].x>xTolerance?0:xTolerance;var prevYValue=seriesPoints[0]&&seriesPoints[0].y>yTolerance?0:yTolerance;var xVal=0;var yVal=0;var _iteratorNormalCompletion52=true;var _didIteratorError52=false;var _iteratorError52=undefined;try{for(var _iterator52=seriesPoints[Symbol.iterator](),_step52;!(_iteratorNormalCompletion52=(_step52=_iterator52.next()).done);_iteratorNormalCompletion52=true){var currentPoint=_step52.value;currentPoint.symbolLocations=[];xVal=currentPoint.xValue?currentPoint.xValue:xVisibleRange.min;yVal=currentPoint.yValue?currentPoint.yValue:yVisibleRange.min;if(Math.abs(prevXValue-xVal)>=xTolerance||Math.abs(prevYValue-yVal)>=yTolerance){tempPoints.push(currentPoint);prevXValue=xVal;prevYValue=yVal;}}}catch(err){_didIteratorError52=true;_iteratorError52=err;}finally{try{if(!_iteratorNormalCompletion52&&_iterator52.return){_iterator52.return();}}finally{if(_didIteratorError52){throw _iteratorError52;}}}return tempPoints;}},{key:'getLineDirection',value:function getLineDirection(firstPoint,secondPoint,series,isInverted,getPointLocation,startPoint){var direction='';if(firstPoint!=null){var point1=getPointLocation(firstPoint.xValue,firstPoint.yValue,series.xAxis,series.yAxis,isInverted,series);var point2=getPointLocation(secondPoint.xValue,secondPoint.yValue,series.xAxis,series.yAxis,isInverted,series);direction=startPoint+' '+point1.x+' '+point1.y+' '+'L'+' '+point2.x+' '+point2.y+' ';}return direction;}},{key:'appendLinePath',value:function appendLinePath(options,series,clipRect){var htmlObject=series.chart.renderer.drawPath(options);htmlObject.setAttribute('clip-path',clipRect);series.pathElement=htmlObject;series.seriesElement.appendChild(htmlObject);series.isRectSeries=false;}},{key:'renderMarker',value:function renderMarker(series){if(series.marker.visible){series.chart.markerRender.render(series);}}},{key:'doProgressiveAnimation',value:function doProgressiveAnimation(series,option){var animation=new Animation({});var path=series.pathElement;var strokeDashArray=path.getAttribute('stroke-dasharray');var pathLength=series.pathElement.getTotalLength();var currentTime=void 0;path.style.visibility='hidden';animation.animate(path,{duration:option.duration,delay:option.delay,progress:function progress(args){if(args.timeStamp>=args.delay){path.style.visibility='visible';currentTime=Math.abs(Math.round((args.timeStamp-args.delay)*pathLength/args.duration));path.setAttribute('stroke-dasharray',currentTime+','+pathLength);}},end:function end(model){path.setAttribute('stroke-dasharray',strokeDashArray);series.chart.trigger('animationComplete',{series:series});}});}},{key:'storePointLocation',value:function storePointLocation(point,series,isInverted,getLocation){point.symbolLocations.push(getLocation(point.xValue,point.yValue,series.xAxis,series.yAxis,isInverted,series));point.regions.push(new Rect(point.symbolLocations[0].x-series.marker.width,point.symbolLocations[0].y-series.marker.height,2*series.marker.width,2*series.marker.height));}},{key:'doLinearAnimation',value:function doLinearAnimation(series,animation){var clipRect=series.clipRectElement.childNodes[0].childNodes[0];var effect=getAnimationFunction('Linear');var elementHeight=+clipRect.getAttribute('height');var elementWidth=+clipRect.getAttribute('width');var xCenter=+clipRect.getAttribute('x');var yCenter=series.chart.requireInvertedAxis?+clipRect.getAttribute('height')+ +clipRect.getAttribute('y'):+clipRect.getAttribute('y');var value=void 0;clipRect.style.visibility='hidden';new Animation({}).animate(clipRect,{duration:animation.duration,delay:animation.delay,progress:function progress(args){if(args.timeStamp>=args.delay){clipRect.style.visibility='visible';if(series.chart.requireInvertedAxis){value=effect(args.timeStamp-args.delay,0,elementHeight,args.duration);clipRect.setAttribute('transform','translate('+xCenter+' '+yCenter+') scale(1,'+value/elementHeight+') translate('+-xCenter+' '+-yCenter+')');}else{value=effect(args.timeStamp-args.delay,0,elementWidth,args.duration);clipRect.setAttribute('transform','translate('+xCenter+' '+yCenter+') scale('+value/elementWidth+', 1) translate('+-xCenter+' '+-yCenter+')');}}},end:function end(model){clipRect.setAttribute('transform','translate(0,0)');series.chart.trigger('animationComplete',{series:series});}});}}]);return LineBase;}();_export2('LineSeries',LineSeries=function(_LineBase){_inherits(LineSeries,_LineBase);function LineSeries(){_classCallCheck(this,LineSeries);return _possibleConstructorReturn(this,(LineSeries.__proto__||Object.getPrototypeOf(LineSeries)).apply(this,arguments));}_createClass(LineSeries,[{key:'render',value:function render(series,xAxis,yAxis,isInverted){var point1=void 0;var point2=void 0;var direction='';var prevPoint=null;var startPoint='M';var options=void 0;var getCoordinate=series.chart.chartAreaType==='PolarRadar'?TransformToVisible:getPoint;var visiblePoints=this.improveChartPerformance(series);var _iteratorNormalCompletion53=true;var _didIteratorError53=false;var _iteratorError53=undefined;try{for(var _iterator53=visiblePoints[Symbol.iterator](),_step53;!(_iteratorNormalCompletion53=(_step53=_iterator53.next()).done);_iteratorNormalCompletion53=true){var point=_step53.value;point.regions=[];if(point.visible&&withInRange(visiblePoints[point.index-1],point,visiblePoints[point.index+1],series)){direction+=this.getLineDirection(prevPoint,point,series,isInverted,getCoordinate,startPoint);startPoint=prevPoint?'L':startPoint;prevPoint=point;this.storePointLocation(point,series,isInverted,getCoordinate);}else{prevPoint=series.emptyPointSettings.mode==='Drop'?prevPoint:null;startPoint=series.emptyPointSettings.mode==='Drop'?startPoint:'M';point.symbolLocations=[];}}}catch(err){_didIteratorError53=true;_iteratorError53=err;}finally{try{if(!_iteratorNormalCompletion53&&_iterator53.return){_iterator53.return();}}finally{if(_didIteratorError53){throw _iteratorError53;}}}if(series.chart.chartAreaType==='PolarRadar'){if(series.isClosed){point2=getCoordinate(visiblePoints[visiblePoints.length-1].xValue,visiblePoints[visiblePoints.length-1].yValue,xAxis,yAxis,isInverted,series);point1=getCoordinate(visiblePoints[0].xValue,visiblePoints[0].yValue,xAxis,yAxis,isInverted,series);direction=direction.concat(startPoint+' '+point2.x+' '+point2.y+' '+'L'+' '+point1.x+' '+point1.y);}}var name=series.category==='Indicator'?series.chart.element.id+'_Indicator_'+series.index+'_'+series.name:series.category==='TrendLine'?series.chart.element.id+'_Series_'+series.sourceIndex+'_TrendLine_'+series.index:series.chart.element.id+'_Series_'+series.index;options=new PathOption(name,'none',series.width,series.interior,series.opacity,series.dashArray,direction);this.appendLinePath(options,series,'');this.renderMarker(series);}},{key:'doAnimation',value:function doAnimation(series){var option=series.animation;this.doProgressiveAnimation(series,option);}},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the series
         */return'LineSeries';}},{key:'destroy',value:function destroy(chart){/**
         * Destroy method performed here
         */}}]);return LineSeries;}(LineBase));ColumnBase=function(){function ColumnBase(){_classCallCheck(this,ColumnBase);}_createClass(ColumnBase,[{key:'getSideBySideInfo',value:function getSideBySideInfo(series){if(series.chart.enableSideBySidePlacement&&!series.position){this.getSideBySidePositions(series);}var position=!series.chart.enableSideBySidePlacement?0:series.position;var rectCount=!series.chart.enableSideBySidePlacement?1:series.rectCount;series.isRectSeries=true;var visibleSeries=series.chart.visibleSeries;var seriesSpacing=series.chart.enableSideBySidePlacement?series.columnSpacing:0;// Column Spacing
var pointSpacing=series.columnWidth;// Column width
var minimumPointDelta=getMinPointsDelta(series.xAxis,visibleSeries);var width=minimumPointDelta*pointSpacing;var radius=void 0;var location=position/rectCount-0.5;var doubleRange=new DoubleRange(location,location+1/rectCount);if(!(isNaN(doubleRange.start)||isNaN(doubleRange.end))){doubleRange=new DoubleRange(doubleRange.start*width,doubleRange.end*width);radius=seriesSpacing*doubleRange.delta;doubleRange=new DoubleRange(doubleRange.start+radius/2,doubleRange.end-radius/2);}return doubleRange;}},{key:'getRectangle',value:function getRectangle(x1,y1,x2,y2,series){var point1=getPoint(x1,y1,series.xAxis,series.yAxis,series.chart.requireInvertedAxis);var point2=getPoint(x2,y2,series.xAxis,series.yAxis,series.chart.requireInvertedAxis);return new Rect(Math.min(point1.x,point2.x),Math.min(point1.y,point2.y),Math.abs(point2.x-point1.x),Math.abs(point2.y-point1.y));}},{key:'getSideBySidePositions',value:function getSideBySidePositions(series){var chart=series.chart;var _iteratorNormalCompletion54=true;var _didIteratorError54=false;var _iteratorError54=undefined;try{for(var _iterator54=chart.columns[Symbol.iterator](),_step54;!(_iteratorNormalCompletion54=(_step54=_iterator54.next()).done);_iteratorNormalCompletion54=true){var columnItem=_step54.value;var _iteratorNormalCompletion55=true;var _didIteratorError55=false;var _iteratorError55=undefined;try{for(var _iterator55=chart.rows[Symbol.iterator](),_step55;!(_iteratorNormalCompletion55=(_step55=_iterator55.next()).done);_iteratorNormalCompletion55=true){var item=_step55.value;this.findRectPosition(series.findSeriesCollection(columnItem,item,false));}}catch(err){_didIteratorError55=true;_iteratorError55=err;}finally{try{if(!_iteratorNormalCompletion55&&_iterator55.return){_iterator55.return();}}finally{if(_didIteratorError55){throw _iteratorError55;}}}}}catch(err){_didIteratorError54=true;_iteratorError54=err;}finally{try{if(!_iteratorNormalCompletion54&&_iterator54.return){_iterator54.return();}}finally{if(_didIteratorError54){throw _iteratorError54;}}}}},{key:'findRectPosition',value:function findRectPosition(seriesCollection){var stackingGroup=[];var vSeries={rectCount:0,position:null};seriesCollection.forEach(function(value){if(value.type.indexOf('Stacking')!==-1){if(value.stackingGroup){if(stackingGroup[value.stackingGroup]===undefined){value.position=vSeries.rectCount;stackingGroup[value.stackingGroup]=vSeries.rectCount++;}else{value.position=stackingGroup[value.stackingGroup];}}else{if(vSeries.position===null){value.position=vSeries.rectCount;vSeries.position=vSeries.rectCount++;}else{value.position=vSeries.position;}}}else{value.position=vSeries.rectCount++;}});seriesCollection.forEach(function(value){value.rectCount=vSeries.rectCount;});}},{key:'updateSymbolLocation',value:function updateSymbolLocation(point,rect,series){if(!series.chart.requireInvertedAxis){this.updateXRegion(point,rect,series);}else{this.updateYRegion(point,rect,series);}}},{key:'updateXRegion',value:function updateXRegion(point,rect,series){point.regions.push(rect);point.symbolLocations.push({x:rect.x+rect.width/2,y:series.seriesType==='BoxPlot'||series.seriesType.indexOf('HighLow')!==-1||point.yValue>=0===!series.yAxis.isInversed?rect.y:rect.y+rect.height});}},{key:'updateYRegion',value:function updateYRegion(point,rect,series){point.regions.push(rect);point.symbolLocations.push({x:series.seriesType==='BoxPlot'||series.seriesType.indexOf('HighLow')!==-1||point.yValue>=0===!series.yAxis.isInversed?rect.x+rect.width:rect.x,y:rect.y+rect.height/2});}},{key:'triggerEvent',value:function triggerEvent(series,point,fill,border){var argsData={cancel:false,name:pointRender,series:series,point:point,fill:series.setPointColor(point,fill),border:series.setBorderColor(point,border)};series.chart.trigger(pointRender,argsData);point.color=argsData.fill;return argsData;}},{key:'drawRectangle',value:function drawRectangle(series,point,rect,argsData){var check=series.chart.requireInvertedAxis?rect.height:rect.width;if(check<=0){return null;}var direction=this.calculateRoundedRectPath(rect,series.cornerRadius.topLeft,series.cornerRadius.topRight,series.cornerRadius.bottomLeft,series.cornerRadius.bottomRight);var name=series.category==='Indicator'?series.chart.element.id+'_Indicator_'+series.index+'_'+series.name+'_Point_'+point.index:series.chart.element.id+'_Series_'+series.index+'_Point_'+point.index;var options=new PathOption(name,argsData.fill,argsData.border.width,argsData.border.color,series.opacity,series.dashArray,direction);var element=series.chart.renderer.drawPath(options);switch(series.seriesType){case'XY':element.setAttribute('aria-label',point.x.toString()+':'+point.yValue.toString());break;case'HighLow':element.setAttribute('aria-label',point.x.toString()+':'+point.high.toString()+':'+point.low.toString());break;}series.seriesElement.appendChild(element);}},{key:'animate',value:function animate(series){var rectElements=series.seriesElement.childNodes;var count=series.category==='Indicator'?0:1;var _iteratorNormalCompletion56=true;var _didIteratorError56=false;var _iteratorError56=undefined;try{for(var _iterator56=series.points[Symbol.iterator](),_step56;!(_iteratorNormalCompletion56=(_step56=_iterator56.next()).done);_iteratorNormalCompletion56=true){var point=_step56.value;if(!point.symbolLocations.length&&!(series.type==='BoxAndWhisker'&&point.regions.length)){continue;}this.animateRect(rectElements[count],series,point);count++;}}catch(err){_didIteratorError56=true;_iteratorError56=err;}finally{try{if(!_iteratorNormalCompletion56&&_iterator56.return){_iterator56.return();}}finally{if(_didIteratorError56){throw _iteratorError56;}}}}},{key:'animateRect',value:function animateRect(element,series,point){var option=series.animation;var effect=getAnimationFunction('Linear');var isPlot=point.yValue<0;var x=void 0;var y=void 0;var elementHeight=+point.regions[0].height;var elementWidth=+point.regions[0].width;var centerX=void 0;var centerY=void 0;if(!series.chart.requireInvertedAxis){x=+point.regions[0].x;if(series.type.indexOf('Stacking')>-1){y=(1-valueToCoefficient(0,series.yAxis))*series.yAxis.rect.height;centerX=x;centerY=y;}else{y=+point.regions[0].y;centerY=series.seriesType.indexOf('HighLow')!==-1||series.type.indexOf('Waterfall')!==-1?y+elementHeight/2:isPlot!==series.yAxis.isInversed?y:y+elementHeight;centerX=isPlot?x:x+elementWidth;}}else{y=+point.regions[0].y;if(series.type.indexOf('Stacking')>-1){x=valueToCoefficient(0,series.yAxis)*series.yAxis.rect.width;centerX=x;centerY=y;}else{x=+point.regions[0].x;centerY=isPlot?y:y+elementHeight;centerX=series.seriesType.indexOf('HighLow')!==-1||series.type.indexOf('Waterfall')!==-1?x+elementWidth/2:isPlot!==series.yAxis.isInversed?x+elementWidth:x;}}var value=void 0;element.style.visibility='hidden';new Animation({}).animate(element,{duration:option.duration,delay:option.delay,progress:function progress(args){if(args.timeStamp>=args.delay){element.style.visibility='visible';if(!series.chart.requireInvertedAxis){elementHeight=elementHeight?elementHeight:1;value=effect(args.timeStamp-args.delay,0,elementHeight,args.duration);element.setAttribute('transform','translate('+centerX+' '+centerY+') scale(1,'+value/elementHeight+') translate('+-centerX+' '+-centerY+')');}else{elementWidth=elementWidth?elementWidth:1;value=effect(args.timeStamp-args.delay,0,elementWidth,args.duration);element.setAttribute('transform','translate('+centerX+' '+centerY+') scale('+value/elementWidth+', 1) translate('+-centerX+' '+-centerY+')');}}},end:function end(model){element.setAttribute('transform','translate(0,0)');var seriesElement=series.seriesElement;if(element===seriesElement.lastElementChild||point.index===series.points.length-1||series.type==='Waterfall'&&element===seriesElement.children[seriesElement.childElementCount-2]){series.chart.trigger('animationComplete',{series:series});if(series.type==='Waterfall'){var rectElements=seriesElement.childNodes;for(var i=0;i<rectElements.length;i++){if(rectElements[i].id.indexOf('Connector')!==-1){rectElements[i].style.visibility='visible';rectElements[i].setAttribute('transform','translate(0,0)');}}}}}});}},{key:'calculateRoundedRectPath',value:function calculateRoundedRectPath(rect,topLeft,topRight,bottomLeft,bottomRight){return'M'+' '+rect.x+' '+(topLeft+rect.y)+' Q '+rect.x+' '+rect.y+' '+(rect.x+topLeft)+' '+rect.y+' '+'L'+' '+(rect.x+rect.width-topRight)+' '+rect.y+' Q '+(rect.x+rect.width)+' '+rect.y+' '+(rect.x+rect.width)+' '+(rect.y+topRight)+' '+'L '+(rect.x+rect.width)+' '+(rect.y+rect.height-bottomRight)+' Q '+(rect.x+rect.width)+' '+(rect.y+rect.height)+' '+(rect.x+rect.width-bottomRight)+' '+(rect.y+rect.height)+' '+'L '+(rect.x+bottomLeft)+' '+(rect.y+rect.height)+' Q '+rect.x+' '+(rect.y+rect.height)+' '+rect.x+' '+(rect.y+rect.height-bottomLeft)+' '+'L'+' '+rect.x+' '+(topLeft+rect.y)+' '+'Z';}}]);return ColumnBase;}();_export2('ColumnSeries',ColumnSeries=function(_ColumnBase){_inherits(ColumnSeries,_ColumnBase);function ColumnSeries(){_classCallCheck(this,ColumnSeries);return _possibleConstructorReturn(this,(ColumnSeries.__proto__||Object.getPrototypeOf(ColumnSeries)).apply(this,arguments));}_createClass(ColumnSeries,[{key:'render',value:function render(series){var rect=void 0;var sideBySideInfo=this.getSideBySideInfo(series);var origin=Math.max(series.yAxis.visibleRange.min,0);var argsData=void 0;var _iteratorNormalCompletion57=true;var _didIteratorError57=false;var _iteratorError57=undefined;try{for(var _iterator57=series.points[Symbol.iterator](),_step57;!(_iteratorNormalCompletion57=(_step57=_iterator57.next()).done);_iteratorNormalCompletion57=true){var pointColumn=_step57.value;pointColumn.symbolLocations=[];pointColumn.regions=[];if(pointColumn.visible&&withInRange(series.points[pointColumn.index-1],pointColumn,series.points[pointColumn.index+1],series)){rect=this.getRectangle(pointColumn.xValue+sideBySideInfo.start,pointColumn.yValue,pointColumn.xValue+sideBySideInfo.end,origin,series);var color=series.category==='Indicator'?pointColumn.color:series.interior;argsData=this.triggerEvent(series,pointColumn,color,{width:series.border.width,color:series.border.color});if(!argsData.cancel){this.updateSymbolLocation(pointColumn,rect,series);this.drawRectangle(series,pointColumn,rect,argsData);}}}}catch(err){_didIteratorError57=true;_iteratorError57=err;}finally{try{if(!_iteratorNormalCompletion57&&_iterator57.return){_iterator57.return();}}finally{if(_didIteratorError57){throw _iteratorError57;}}}}},{key:'doAnimation',value:function doAnimation(series){this.animate(series);}},{key:'getModuleName',value:function getModuleName(){return'ColumnSeries';/**
         * return the module name
         */}},{key:'destroy',value:function destroy(chart){/**
         * Destroy method performed here
         */}}]);return ColumnSeries;}(ColumnBase));_export2('MultiColoredSeries',MultiColoredSeries=function(_LineBase2){_inherits(MultiColoredSeries,_LineBase2);function MultiColoredSeries(){_classCallCheck(this,MultiColoredSeries);return _possibleConstructorReturn(this,(MultiColoredSeries.__proto__||Object.getPrototypeOf(MultiColoredSeries)).apply(this,arguments));}_createClass(MultiColoredSeries,[{key:'getAreaPathDirection',value:function getAreaPathDirection(xValue,yValue,series,isInverted,getPointLocation,startPoint,startPath){var direction='';var firstPoint=void 0;if(startPoint===null){firstPoint=getPointLocation(xValue,yValue,series.xAxis,series.yAxis,isInverted,series);direction+=startPath+' '+firstPoint.x+' '+firstPoint.y+' ';}return direction;}},{key:'getAreaEmptyDirection',value:function getAreaEmptyDirection(firstPoint,secondPoint,series,isInverted,getPointLocation){var direction='';direction+=this.getAreaPathDirection(firstPoint.x,firstPoint.y,series,isInverted,getPointLocation,null,'L');direction+=this.getAreaPathDirection(secondPoint.x,secondPoint.y,series,isInverted,getPointLocation,null,'L');return direction;}},{key:'setPointColor',value:function setPointColor(currentPoint,previous,series,isXSegment,segments){if(series.pointColorMapping===''){var segment=void 0;var value=void 0;for(var i=0;i<segments.length;i++){segment=segments[i];value=isXSegment?currentPoint.xValue:currentPoint.yValue;if(value<=this.getAxisValue(segment.value,isXSegment?series.xAxis:series.yAxis,series.chart)||!segment.value){currentPoint.interior=segment.color;break;}}if(currentPoint.interior==null){currentPoint.interior=series.interior;}return false;}else{if(previous){return series.setPointColor(currentPoint,series.interior)!==series.setPointColor(previous,series.interior);}else{return false;}}}},{key:'sortSegments',value:function sortSegments(series,chartSegments){var axis=series.segmentAxis==='X'?series.xAxis:series.yAxis;var segments=[].concat(chartSegments);var access=this;return segments.sort(function(a,b){return access.getAxisValue(a.value,axis,series.chart)-access.getAxisValue(b.value,axis,series.chart);});}},{key:'applySegmentAxis',value:function applySegmentAxis(series,options,segments){var _this62=this;if(series.pointColorMapping!==''){options.map(function(option){_this62.appendLinePath(option,series,'');});return null;}var isXSegment=series.segmentAxis==='X';var axis=isXSegment?series.xAxis:series.yAxis;var chart=series.chart;var segment=void 0;this.includeSegment(segments,axis,series,segments.length);var length=segments.length;var value=void 0;var clipPath=void 0;var _loop4=function _loop4(index){segment=segments[index];value=_this62.getAxisValue(segment.value,axis,series.chart);clipPath=_this62.createClipRect(index?_this62.getAxisValue(segments[index-1].value,axis,series.chart):axis.visibleRange.min,value,series,index,isXSegment);if(clipPath){options.map(function(option){series.seriesElement.appendChild(chart.renderer.drawPath({'clip-path':clipPath,'stroke-dasharray':segment.dashArray,'opacity':option.opacity,'stroke':series.type.indexOf('Line')>-1?segment.color||series.interior:series.border.color,'stroke-width':option['stroke-width'],'fill':series.type.indexOf('Line')>-1?'none':segment.color||series.interior,'id':option.id+'_Segment_'+index,'d':option.d}));});}};for(var index=0;index<length;index++){_loop4(index);}}},{key:'includeSegment',value:function includeSegment(segments,axis,series,length){if(length<=0){segments.push({value:axis.visibleRange.max,color:series.interior});return null;}if(this.getAxisValue(segments[length-1].value,axis,series.chart)<axis.visibleRange.max){segments.push({value:axis.visibleRange.max,color:series.interior});}}},{key:'createClipRect',value:function createClipRect(startValue,endValue,series,index,isX){var isRequired=series.chart.requireInvertedAxis;var startPointLocation=getPoint(isX?startValue:series.xAxis.visibleRange.min,isX?series.yAxis.visibleRange.max:endValue,series.xAxis,series.yAxis,isRequired);var endPointLocation=getPoint(isX?endValue:series.xAxis.visibleRange.max,isX?series.yAxis.visibleRange.min:startValue,series.xAxis,series.yAxis,isRequired);endPointLocation=isRequired?[startPointLocation,startPointLocation=endPointLocation][0]:endPointLocation;if(endPointLocation.x-startPointLocation.x>0&&endPointLocation.y-startPointLocation.y>0){series.seriesElement.appendChild(series.chart.renderer.drawClipPath(new RectOption(series.chart.element.id+'_ChartSegmentClipRect_'+index,'transparent',{width:1,color:'Gray'},1,{x:startPointLocation.x,y:startPointLocation.y,width:endPointLocation.x-startPointLocation.x,height:endPointLocation.y-startPointLocation.y})));return'url(#'+series.chart.element.id+'_ChartSegmentClipRect_'+index+')';}return null;}},{key:'getAxisValue',value:function getAxisValue(segmentValue,axis,chart){if(segmentValue===null){segmentValue=axis.visibleRange.max;}if(axis.valueType==='DateTime'){var option={skeleton:'full',type:'dateTime'};return Date.parse(chart.intl.getDateParser(option)(chart.intl.getDateFormat(option)(new Date(DataUtil.parse.parseJson({val:segmentValue}).val))));}else if(axis.valueType.indexOf('Category')>-1){var xValue=axis.valueType==='DateTimeCategory'?segmentValue.getTime().toString():segmentValue;return axis.labels.indexOf(xValue)<0?+segmentValue:axis.labels.indexOf(xValue);}else{return+segmentValue;}}}]);return MultiColoredSeries;}(LineBase));_export2('AreaSeries',AreaSeries=function(_MultiColoredSeries){_inherits(AreaSeries,_MultiColoredSeries);function AreaSeries(){_classCallCheck(this,AreaSeries);return _possibleConstructorReturn(this,(AreaSeries.__proto__||Object.getPrototypeOf(AreaSeries)).apply(this,arguments));}_createClass(AreaSeries,[{key:'render',value:function render(series,xAxis,yAxis,isInverted){var _this64=this;var startPoint=null;var direction='';var origin=series.chart.chartAreaType==='PolarRadar'?series.points[0].yValue:Math.max(series.yAxis.visibleRange.min,0);var currentXValue=void 0;var getCoordinate=series.chart.chartAreaType==='PolarRadar'?TransformToVisible:getPoint;series.points.map(function(point,i,seriesPoints){currentXValue=point.xValue;point.symbolLocations=[];point.regions=[];if(point.visible&&withInRange(seriesPoints[i-1],point,seriesPoints[i+1],series)){direction+=_this64.getAreaPathDirection(currentXValue,origin,series,isInverted,getCoordinate,startPoint,'M');startPoint=startPoint||new ChartLocation(currentXValue,origin);// First Point to draw the area path
direction+=_this64.getAreaPathDirection(currentXValue,point.yValue,series,isInverted,getCoordinate,null,'L');if(seriesPoints[i+1]&&!seriesPoints[i+1].visible&&series.emptyPointSettings.mode!=='Drop'){direction+=_this64.getAreaEmptyDirection({'x':currentXValue,'y':origin},startPoint,series,isInverted,getCoordinate);startPoint=null;}_this64.storePointLocation(point,series,isInverted,getPoint);}});this.appendLinePath(new PathOption(series.chart.element.id+'_Series_'+series.index,series.interior,series.border.width,series.border.color,series.opacity,series.dashArray,series.points.length>1?direction+this.getAreaPathDirection(series.points[series.points.length-1].xValue,series.chart.chartAreaType==='PolarRadar'?series.points[series.points.length-1].yValue:origin,series,isInverted,getCoordinate,null,'L'):''),series,'');this.renderMarker(series);}},{key:'destroy',value:function destroy(chart){}/**
         * Destroy method calling here
         *//**
     * Get module name
     */},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the series
         */return'AreaSeries';}},{key:'doAnimation',value:function doAnimation(series){var option=series.animation;this.doLinearAnimation(series,option);}}]);return AreaSeries;}(MultiColoredSeries));_export2('BarSeries',BarSeries=function(_ColumnBase2){_inherits(BarSeries,_ColumnBase2);function BarSeries(){_classCallCheck(this,BarSeries);return _possibleConstructorReturn(this,(BarSeries.__proto__||Object.getPrototypeOf(BarSeries)).apply(this,arguments));}_createClass(BarSeries,[{key:'render',value:function render(series){var origin=Math.max(series.yAxis.visibleRange.min,0);var sideBySideInfo=this.getSideBySideInfo(series);var rect=void 0;var argsData=void 0;var _iteratorNormalCompletion58=true;var _didIteratorError58=false;var _iteratorError58=undefined;try{for(var _iterator58=series.points[Symbol.iterator](),_step58;!(_iteratorNormalCompletion58=(_step58=_iterator58.next()).done);_iteratorNormalCompletion58=true){var pointBar=_step58.value;pointBar.symbolLocations=[];pointBar.regions=[];if(pointBar.visible&&withInRange(series.points[pointBar.index-1],pointBar,series.points[pointBar.index+1],series)){rect=this.getRectangle(pointBar.xValue+sideBySideInfo.start,pointBar.yValue,pointBar.xValue+sideBySideInfo.end,origin,series);argsData=this.triggerEvent(series,pointBar,series.interior,{width:series.border.width,color:series.border.color});if(!argsData.cancel){this.updateSymbolLocation(pointBar,rect,series);this.drawRectangle(series,pointBar,rect,argsData);}}}}catch(err){_didIteratorError58=true;_iteratorError58=err;}finally{try{if(!_iteratorNormalCompletion58&&_iterator58.return){_iterator58.return();}}finally{if(_didIteratorError58){throw _iteratorError58;}}}}},{key:'doAnimation',value:function doAnimation(series){this.animate(series);}},{key:'destroy',value:function destroy(chart){}/**
         * Destroy method performed here
         *//**
     * Get module name
     */},{key:'getModuleName',value:function getModuleName(){return'BarSeries';}}]);return BarSeries;}(ColumnBase));PolarRadarPanel=function(_LineBase3){_inherits(PolarRadarPanel,_LineBase3);function PolarRadarPanel(){_classCallCheck(this,PolarRadarPanel);return _possibleConstructorReturn(this,(PolarRadarPanel.__proto__||Object.getPrototypeOf(PolarRadarPanel)).apply(this,arguments));}_createClass(PolarRadarPanel,[{key:'measureAxis',value:function measureAxis(rect){var chart=this.chart;this.initialClipRect=rect;this.seriesClipRect=new Rect(rect.x,rect.y,rect.width,rect.height);//Measure axis size calculation
this.measureRowAxis(chart,this.initialClipRect);this.measureColumnAxis(chart,this.initialClipRect);this.calculateAxisSize();}},{key:'measureRowAxis',value:function measureRowAxis(chart,rect){this.calculateRowSize(rect);var row=chart.rows[0];this.measureDefinition(row,chart,new Size(chart.availableSize.width,row.computedHeight),rect);}},{key:'measureColumnAxis',value:function measureColumnAxis(chart,rect){this.calculateColumnSize(rect);var column=chart.columns[0];this.measureDefinition(column,chart,new Size(column.computedWidth,chart.availableSize.height),rect);}},{key:'measureDefinition',value:function measureDefinition(definition,chart,size,clipRect){var _iteratorNormalCompletion59=true;var _didIteratorError59=false;var _iteratorError59=undefined;try{for(var _iterator59=definition.axes[Symbol.iterator](),_step59;!(_iteratorNormalCompletion59=(_step59=_iterator59.next()).done);_iteratorNormalCompletion59=true){var axis=_step59.value;axis.getModule(chart);axis.baseModule.calculateRangeAndInterval(size,axis);}}catch(err){_didIteratorError59=true;_iteratorError59=err;}finally{try{if(!_iteratorNormalCompletion59&&_iterator59.return){_iterator59.return();}}finally{if(_didIteratorError59){throw _iteratorError59;}}}}},{key:'calculateAxisSize',value:function calculateAxisSize(){var chart=this.chart;var axis=void 0;var padding=5;this.centerX=this.initialClipRect.width*0.5+this.initialClipRect.x;this.centerY=this.initialClipRect.height*0.5+this.initialClipRect.y;chart.radius=Math.min(this.initialClipRect.width,this.initialClipRect.height)/2-padding-chart.primaryXAxis.majorTickLines.height-chart.primaryXAxis.maxLabelSize.height;chart.radius=chart.primaryXAxis.coefficient*chart.radius/100;this.seriesClipRect.y=this.centerY-chart.radius;this.seriesClipRect.x=this.centerX-chart.radius;this.seriesClipRect.height=2*chart.radius;this.seriesClipRect.width=2*chart.radius;this.calculateRowSize(this.seriesClipRect);axis=chart.primaryYAxis;axis.rect=this.seriesClipRect;this.calculateColumnSize(this.seriesClipRect);axis=chart.primaryXAxis;axis.rect=this.seriesClipRect;}},{key:'measure',value:function measure(){var chart=this.chart;chart.verticalAxes.push(chart.primaryYAxis);var row=chart.rows[0];row.axes[0]=chart.primaryYAxis;chart.rows[0]=row;chart.horizontalAxes.push(chart.primaryXAxis);var column=chart.columns[0];column.axes[0]=chart.primaryXAxis;chart.columns[0]=column;}},{key:'calculateRowSize',value:function calculateRowSize(rect){/*! Calculate row size */var chart=this.chart;var row=chart.rows[0];row.computedHeight=rect.height/2;row.computedTop=rect.y;chart.rows[0]=row;}},{key:'calculateColumnSize',value:function calculateColumnSize(rect){/*! Calculate column size */var chart=this.chart;var column=chart.columns[0];column.computedLeft=rect.x;column.computedWidth=rect.width;chart.columns[0]=column;}},{key:'renderAxes',value:function renderAxes(){var axis=void 0;var chart=this.chart;this.startAngle=chart.primaryXAxis.startAngle;var axisElement=chart.renderer.createGroup({id:chart.element.id+'AxisCollection'});var axisLineElement=chart.renderer.createGroup({id:chart.element.id+'AxisOutsideCollection'});for(var i=0,len=chart.axisCollections.length;i<len;i++){this.element=chart.renderer.createGroup({id:chart.element.id+'AxisGroup'+i});axis=chart.axisCollections[i];if(axis.orientation==='Horizontal'){if(axis.majorGridLines.width>0||axis.majorTickLines.width>0){this.drawXAxisGridLine(axis,i);}if(axis.visible){this.drawXAxisLabels(axis,i);}}else{this.drawYAxisGridLine(axis,i);if(axis.lineStyle.width>0){this.drawYAxisLine(axis,i,axis.plotOffset,0);}if(axis.visible){this.drawYAxisLabels(axis,i);}}axisElement.appendChild(this.element);}axisElement.appendChild(this.element);chart.svgObject.appendChild(axisElement);return axisLineElement;}},{key:'drawYAxisLine',value:function drawYAxisLine(axis,index,plotX,plotY){var chart=this.chart;var optionsLine={};var vector=CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[0].value,axis),this.startAngle);var axisLine='M '+this.centerX+' '+this.centerY+'L '+(this.centerX+chart.radius*vector.x)+' '+(this.centerY+chart.radius*vector.y);optionsLine={'id':chart.element.id+'AxisLine_'+index,'d':axisLine,'stroke-dasharray':axis.lineStyle.dashArray,'stroke-width':axis.lineStyle.width,'stroke':axis.lineStyle.color||chart.themeStyle.axisLine};chart.yAxisElements.appendChild(chart.renderer.drawPath(optionsLine));}},{key:'drawYAxisLabels',value:function drawYAxisLabels(axis,index){var chart=this.chart;var elementSize=void 0;var options=void 0;var pointX=0;var pointY=0;var vector=void 0;var angle=this.startAngle<0?this.startAngle+360:this.startAngle;var anchor='middle';var radius=void 0;var padding=5;var labelElement=chart.renderer.createGroup({id:chart.element.id+'AxisLabels'+index});vector=CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[0].value,axis),this.startAngle);for(var i=0,len=axis.visibleLabels.length;i<len;i++){radius=chart.radius*valueToCoefficient(axis.visibleLabels[i].value,axis);elementSize=axis.visibleLabels[i].size;radius=chart.radius*valueToCoefficient(axis.visibleLabels[i].value,axis);pointX=this.centerX+radius*vector.x+(axis.majorTickLines.height+elementSize.width/2+padding/2)*Math.cos(angle*Math.PI/180)*(axis.labelPosition==='Inside'?1:-1);pointY=this.centerY+radius*vector.y+(axis.majorTickLines.height+elementSize.height/2)*Math.sin(angle*Math.PI/180)*(axis.labelPosition==='Inside'?1:-1);options=new TextOption(chart.element.id+index+'_AxisLabel_'+i,pointX,pointY+elementSize.height/4,anchor,axis.visibleLabels[i].text);textElement(options,axis.labelStyle,axis.labelStyle.color||chart.themeStyle.axisLabel,labelElement);}chart.yAxisElements.appendChild(labelElement);}},{key:'drawYAxisGridLine',value:function drawYAxisGridLine(axis,index){var chart=this.chart;var options=void 0;var radius=void 0;var majorTick='';var majorGrid='';var vector=void 0;var vector2=void 0;var angle=this.startAngle<0?this.startAngle+360:this.startAngle;var rect=axis.rect;var x1=void 0;var y1=void 0;var x2=void 0;var y2=void 0;var border={color:axis.majorGridLines.color||chart.themeStyle.majorGridLine,width:axis.majorGridLines.width};if(axis.majorGridLines.width>0){if(chart.visibleSeries[0].type==='Polar'){for(var j=0;j<axis.visibleLabels.length;j++){radius=chart.radius*valueToCoefficient(axis.visibleLabels[j].value,axis);options=new CircleOption(chart.element.id+'_MajorGridLine_'+index,'transparent',border,axis.majorGridLines.width,this.centerX,this.centerY,radius);this.element.appendChild(chart.renderer.drawCircle(options));}}else{for(var _j5=0;_j5<axis.visibleLabels.length;_j5++){radius=chart.radius*valueToCoefficient(axis.visibleLabels[_j5].value,axis);for(var i=0,len=chart.primaryXAxis.visibleLabels.length;i<len;i++){vector=CoefficientToVector(valueToPolarCoefficient(chart.primaryXAxis.visibleLabels[i].value,chart.primaryXAxis),this.startAngle);if(i+1<len){vector2=CoefficientToVector(valueToPolarCoefficient(chart.primaryXAxis.visibleLabels[i+1].value,chart.primaryXAxis),this.startAngle);}else{vector2=CoefficientToVector(valueToPolarCoefficient(chart.primaryXAxis.visibleLabels[0].value,chart.primaryXAxis),this.startAngle);}x1=this.centerX+radius*vector.x;y1=this.centerY+radius*vector.y;x2=this.centerX+radius*vector2.x;y2=this.centerY+radius*vector2.y;majorGrid=majorGrid.concat('M'+' '+x1+' '+y1+' '+'L'+' '+x2+' '+y2+' ');}}options=new PathOption(chart.element.id+'_MajorGridLine_'+index,'transparent',axis.majorGridLines.width,axis.majorGridLines.color||chart.themeStyle.majorGridLine,null,null,majorGrid);this.element.appendChild(chart.renderer.drawPath(options));}}if(axis.majorTickLines.width>0){vector=CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[0].value,axis),this.startAngle);for(var _i3=0;_i3<axis.visibleLabels.length;_i3++){radius=chart.radius*valueToCoefficient(axis.visibleLabels[_i3].value,axis);x1=this.centerX+radius*vector.x;y1=this.centerY+radius*vector.y;x2=x1+axis.majorTickLines.height*Math.cos(angle*Math.PI/180)*(axis.tickPosition==='Inside'?1:-1);y2=y1+axis.majorTickLines.height*Math.sin(angle*Math.PI/180)*(axis.tickPosition==='Inside'?1:-1);majorTick=majorTick.concat('M '+x1+' '+y1+' L '+x2+' '+y2+' ');}}this.renderTickLine(axis,index,majorTick,'');}},{key:'drawXAxisGridLine',value:function drawXAxisGridLine(axis,index){var chart=this.chart;var tempInterval=void 0;var vector=void 0;var majorGrid='';var majorTick='';var minorGirdLine='';var minorTickLine='';var x1=this.centerX;var x2=void 0;var y1=this.centerY;var y2=void 0;var minorDirection=void 0;var tickSize=axis.majorTickLines.height;var rect=axis.rect;var length=axis.visibleLabels.length;//Gridlines
for(var i=0;i<length;i++){tempInterval=axis.visibleLabels[i].value;vector=CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[i].value,axis),this.startAngle);x2=this.centerX+chart.radius*vector.x;y2=this.centerY+chart.radius*vector.y;var xLoc=x2+axis.majorTickLines.height*vector.x*(axis.tickPosition==='Inside'?-1:1);var yLoc=y2+axis.majorTickLines.height*vector.y*(axis.tickPosition==='Inside'?-1:1);majorGrid=majorGrid.concat('M '+x1+' '+y1+' '+'L'+x2+' '+y2);majorTick=majorTick.concat('M '+x2+' '+y2+' L '+xLoc+' '+yLoc+' ');if(axis.minorTicksPerInterval>0&&(axis.minorGridLines.width>0||axis.minorTickLines.width>0)&&axis.valueType!=='Category'&&chart.visibleSeries[0].type!=='Radar'){minorDirection=this.drawAxisMinorLine(axis,tempInterval,minorGirdLine,minorTickLine);minorGirdLine=minorDirection[0];minorTickLine=minorDirection[1];}}this.renderTickLine(axis,index,majorTick,minorTickLine);this.renderGridLine(axis,index,majorGrid,minorGirdLine);}},{key:'drawAxisMinorLine',value:function drawAxisMinorLine(axis,tempInterval,minorGird,minorTick){var value=tempInterval;var x=void 0;var y=void 0;var vector=void 0;var range=axis.visibleRange;var direction=[];var tickSize=axis.minorTickLines.height;var rect=axis.rect;for(var j=0;j<axis.minorTicksPerInterval;j++){value+=(axis.valueType==='DateTime'?axis.dateTimeInterval:axis.visibleRange.interval)/(axis.minorTicksPerInterval+1);if(inside(value,range)){vector=CoefficientToVector(valueToPolarCoefficient(value,axis),this.startAngle);x=this.centerX+this.chart.radius*vector.x;y=this.centerY+this.chart.radius*vector.y;var tickXSize=x+axis.minorTickLines.height*vector.x*(axis.tickPosition==='Inside'?-1:1);var tickYSize=y+axis.minorTickLines.height*vector.y*(axis.tickPosition==='Inside'?-1:1);minorGird=minorGird.concat('M'+' '+this.centerX+' '+this.centerY+'L '+x+' '+y);minorTick=minorTick.concat('M'+' '+x+' '+y+'L'+' '+tickXSize+' '+tickYSize);}}direction.push(minorGird);direction.push(minorTick);return direction;}},{key:'drawXAxisLabels',value:function drawXAxisLabels(axis,index){var chart=this.chart;var pointX=0;var pointY=0;var labelElement=chart.renderer.createGroup({id:chart.element.id+'AxisLabels'+index});var options=void 0;var vector=void 0;var labelText=void 0;var firstLabelX=void 0;var islabelInside=axis.labelPosition==='Inside';var padding=5;var lastLabelX=void 0;var textAnchor='';var ticksbwtLabel=axis.valueType==='Category'&&axis.labelPlacement==='BetweenTicks'&&chart.visibleSeries[0].type!=='Radar'?0.5:0;var radius=chart.radius+axis.majorTickLines.height;radius=islabelInside?-radius:radius;for(var i=0,len=axis.visibleLabels.length;i<len;i++){vector=CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[i].value+ticksbwtLabel,axis),this.startAngle);if(!isNaN(vector.x)&&!isNaN(vector.y)){pointX=this.centerX+(radius+axis.majorTickLines.height+padding)*vector.x;pointY=this.centerY+(radius+axis.majorTickLines.height+padding)*vector.y;textAnchor=parseFloat(pointX.toFixed(1))===parseFloat(this.centerX.toFixed(1))?'middle':pointX<this.centerX&&!islabelInside||pointX>this.centerX&&islabelInside?'end':'start';}labelText=axis.visibleLabels[i].text;if(i===0){firstLabelX=pointX;}else if(i===axis.visibleLabels.length-1&&axis.valueType!=='Category'){lastLabelX=measureText(labelText,axis.labelStyle).height;lastLabelX+=pointX;labelText=lastLabelX>firstLabelX?'':labelText;}options=new TextOption(chart.element.id+index+'_AxisLabel_'+i,pointX,pointY,textAnchor,labelText,'','central');textElement(options,axis.labelStyle,axis.labelStyle.color||chart.themeStyle.axisLabel,labelElement);}this.element.appendChild(labelElement);}},{key:'renderTickLine',value:function renderTickLine(axis,index,majorTickLine,minorTickLine){var tickOptions=void 0;var chart=this.chart;if(axis.majorTickLines.width>0){tickOptions=new PathOption(chart.element.id+'_MajorTickLine_'+index,'transparent',axis.majorTickLines.width,axis.majorTickLines.color||chart.themeStyle.majorTickLine,null,null,majorTickLine);chart.yAxisElements.appendChild(chart.renderer.drawPath(tickOptions));}if(axis.minorTickLines.width>0){tickOptions=new PathOption(chart.element.id+'_MinorTickLine_'+index,'transparent',axis.minorTickLines.width,axis.minorTickLines.color||chart.themeStyle.minorTickLine,null,null,minorTickLine);chart.yAxisElements.appendChild(chart.renderer.drawPath(tickOptions));}}},{key:'renderGridLine',value:function renderGridLine(axis,index,majorGrid,minorGird){var chart=this.chart;var gridOptions=void 0;if(axis.majorGridLines.width>0){gridOptions=new PathOption(chart.element.id+'_MajorGridLine_'+index,'transparent',axis.majorGridLines.width,axis.majorGridLines.color||chart.themeStyle.majorGridLine,null,axis.majorGridLines.dashArray,majorGrid);this.element.appendChild(chart.renderer.drawPath(gridOptions));}if(axis.minorGridLines.width>0){gridOptions=new PathOption(chart.element.id+'_MinorGridLine_'+index,'transparent',axis.minorGridLines.width,axis.minorGridLines.color||chart.themeStyle.minorGridLine,null,axis.minorGridLines.dashArray,minorGird);this.element.appendChild(chart.renderer.drawPath(gridOptions));}}}]);return PolarRadarPanel;}(LineBase);_export2('PolarSeries',PolarSeries=function(_PolarRadarPanel){_inherits(PolarSeries,_PolarRadarPanel);function PolarSeries(){_classCallCheck(this,PolarSeries);return _possibleConstructorReturn(this,(PolarSeries.__proto__||Object.getPrototypeOf(PolarSeries)).apply(this,arguments));}_createClass(PolarSeries,[{key:'render',value:function render(series){var seriesType=firstToLowerCase(series.drawType);if(series.drawType.indexOf('Column')>-1){this.columnDrawTypeRender(series);}else{series.chart[seriesType+'SeriesModule'].render(series,series.xAxis,series.yAxis,series.chart.requireInvertedAxis);}}},{key:'columnDrawTypeRender',value:function columnDrawTypeRender(series){var visiblePoints=series.points;var options=void 0;var argsData=void 0;var startAngle=void 0;var endAngle=void 0;var itemCurrentXPos=void 0;var radius=void 0;var pointStartAngle=void 0;var pointEndAngle=void 0;var x1=void 0;var x2=void 0;var y1=void 0;var y2=void 0;var startValue=void 0;var endValue=void 0;var innerRadius=void 0;var centerX=series.clipRect.width/2+series.clipRect.x;var dStartX=void 0;var dStartY=void 0;var centerY=series.clipRect.height/2+series.clipRect.y;var dEndX=void 0;var dEndY=void 0;var axisInversed=series.xAxis.isInversed?1:0;var direction='';var sumofYValues=0;var interval=(series.points[1]?series.points[1].xValue:2*series.points[0].xValue)-series.points[0].xValue;var ticks=series.xAxis.valueType==='Category'&&series.xAxis.labelPlacement==='BetweenTicks'?0:interval/2;var rangeInterval=series.xAxis.valueType==='DateTime'?series.xAxis.dateTimeInterval:1;var min=series.xAxis.actualRange.min;var inversedValue=void 0;this.getSeriesPosition(series);var position=series.xAxis.isInversed?series.rectCount-1-series.position:series.position;var ticksbwtLabel=series.xAxis.valueType==='Category'&&series.xAxis.labelPlacement==='BetweenTicks'?0.5:0.5-series.rectCount/2;do{sumofYValues+=rangeInterval;min+=rangeInterval;}while(min<=series.xAxis.actualRange.max-(series.xAxis.valueType==='Category'?0:1));var _iteratorNormalCompletion60=true;var _didIteratorError60=false;var _iteratorError60=undefined;try{for(var _iterator60=series.points[Symbol.iterator](),_step60;!(_iteratorNormalCompletion60=(_step60=_iterator60.next()).done);_iteratorNormalCompletion60=true){var point=_step60.value;point.symbolLocations=[];point.regions=[];if(point.visible&&withInRange(series.points[point.index-1],point,series.points[point.index+1],series)){inversedValue=series.xAxis.isInversed?series.xAxis.visibleRange.max-point.xValue:point.xValue-series.xAxis.visibleRange.min;itemCurrentXPos=inversedValue+(interval/series.rectCount*position-ticks)+sumofYValues/360*series.xAxis.startAngle;itemCurrentXPos=itemCurrentXPos/sumofYValues;startAngle=2*Math.PI*(itemCurrentXPos+series.xAxis.startAngle);endAngle=2*Math.PI*(itemCurrentXPos+series.xAxis.startAngle+interval/series.rectCount/sumofYValues);pointStartAngle=startAngle;pointEndAngle=endAngle;startAngle=startAngle-0.5*Math.PI;endAngle=endAngle-0.5*Math.PI-0.000001;if(series.drawType==='StackingColumn'||series.drawType==='RangeColumn'){startValue=series.drawType==='RangeColumn'?point.low:series.stackedValues.startValues[point.index];endValue=series.drawType==='RangeColumn'?point.high:series.stackedValues.endValues[point.index];endValue=series.yAxis.valueType==='Logarithmic'?logBase(endValue===0?1:endValue,series.yAxis.logBase):endValue;endValue=endValue>series.yAxis.actualRange.max?series.yAxis.actualRange.max:endValue;radius=startValue===endValue?0:series.chart.radius*valueToCoefficient(endValue,series.yAxis);x1=centerX+radius*Math.cos(startAngle);x2=centerX+radius*Math.cos(endAngle);y1=centerY+radius*Math.sin(startAngle);y2=centerY+radius*Math.sin(endAngle);innerRadius=series.chart.radius*valueToCoefficient(startValue===0&&series.yAxis.visibleRange.min!==0?series.yAxis.visibleRange.min:startValue,series.yAxis);dStartX=centerX+innerRadius*Math.cos(startAngle);dStartY=centerY+innerRadius*Math.sin(startAngle);dEndX=centerX+innerRadius*Math.cos(endAngle);dEndY=centerY+innerRadius*Math.sin(endAngle);if(series.type==='Polar'){direction='M'+' '+x1+' '+y1+' '+'A'+' '+radius+' '+radius+' '+'0'+' '+'0'+' '+1+' '+x2+' '+y2+' '+'L'+' '+dEndX+' '+dEndY+' '+'A'+' '+innerRadius+' '+innerRadius+' '+'1'+' '+'0'+' '+'0'+' '+dStartX+' '+dStartY+' '+'z';}else{direction='M'+' '+x1+' '+y1+' '+'L'+' '+x2+' '+y2+' '+'L'+dEndX+' '+dEndY+' '+'L'+' '+dStartX+' '+dStartY+' '+'z';}point.regionData=new PolarArc(pointStartAngle,pointEndAngle,innerRadius,radius,itemCurrentXPos);}else{endValue=point.yValue>series.yAxis.actualRange.max?series.yAxis.actualRange.max:point.yValue;radius=series.chart.radius*valueToCoefficient(series.yAxis.valueType==='Logarithmic'?logBase(endValue,series.yAxis.logBase):endValue,series.yAxis);x1=centerX+radius*Math.cos(startAngle);x2=centerX+radius*Math.cos(endAngle);y1=centerY+radius*Math.sin(startAngle);y2=centerY+radius*Math.sin(endAngle);if(series.type==='Polar'){direction='M'+' '+x1+' '+y1+' '+'A'+' '+radius+' '+radius+' '+'0'+' '+'0'+' '+1+' '+x2+' '+y2+' '+'L'+' '+centerX+' '+centerY+' '+'z';}else{direction='M'+' '+x1+' '+y1+' '+'L'+' '+x2+' '+y2+' '+'L'+' '+centerX+' '+centerY+' '+'z';}point.regionData=new PolarArc(pointStartAngle,pointEndAngle,0,radius,itemCurrentXPos);}argsData=this.triggerEvent(series.chart,series,point);options=new PathOption(series.chart.element.id+'_Series_'+series.index+'_Point_'+point.index,argsData.fill,argsData.border.width,argsData.border.color,series.opacity,series.dashArray,direction);if(!argsData.cancel){this.appendLinePath(options,series,'');if(series.type==='Polar'){point.symbolLocations.push({x:centerX+radius*Math.cos(startAngle+(endAngle-startAngle)/2),y:centerY+radius*Math.sin(startAngle+(endAngle-startAngle)/2)});}else{point.symbolLocations.push({x:(x1+x2)/2,y:(y1+y2)/2});}}}}}catch(err){_didIteratorError60=true;_iteratorError60=err;}finally{try{if(!_iteratorNormalCompletion60&&_iterator60.return){_iterator60.return();}}finally{if(_didIteratorError60){throw _iteratorError60;}}}series.isRectSeries=true;}},{key:'triggerEvent',value:function triggerEvent(chart,series,point){var argsData={cancel:false,name:pointRender,series:series,point:point,fill:series.setPointColor(point,series.interior),border:series.setBorderColor(point,{width:series.border.width,color:series.border.color})};chart.trigger(pointRender,argsData);point.color=argsData.fill;return argsData;}},{key:'getSeriesPosition',value:function getSeriesPosition(series){var chart=series.chart;var seriesCollection=[];var stackingGroup=[];var vSeries={rectCount:0,position:null};var _iteratorNormalCompletion61=true;var _didIteratorError61=false;var _iteratorError61=undefined;try{for(var _iterator61=chart.visibleSeries[Symbol.iterator](),_step61;!(_iteratorNormalCompletion61=(_step61=_iterator61.next()).done);_iteratorNormalCompletion61=true){var _series=_step61.value;if(_series.visible&&(_series.type==='Polar'||_series.type==='Radar')&&_series.drawType.indexOf('Column')!==-1){seriesCollection.push(_series);}}}catch(err){_didIteratorError61=true;_iteratorError61=err;}finally{try{if(!_iteratorNormalCompletion61&&_iterator61.return){_iterator61.return();}}finally{if(_didIteratorError61){throw _iteratorError61;}}}seriesCollection.forEach(function(series){if(series.drawType.indexOf('Stacking')!==-1){if(series.stackingGroup){if(stackingGroup[series.stackingGroup]===undefined){series.position=vSeries.rectCount;stackingGroup[series.stackingGroup]=vSeries.rectCount++;}else{series.position=stackingGroup[series.stackingGroup];}}else{if(vSeries.position===null){series.position=vSeries.rectCount;vSeries.position=vSeries.rectCount++;}else{series.position=vSeries.position;}}}else{series.position=vSeries.rectCount++;}});seriesCollection.forEach(function(value){value.rectCount=vSeries.rectCount;});}},{key:'doAnimation',value:function doAnimation(series){var option=series.animation;var duration=series.animation.duration;var delay=series.animation.delay;var rectElements=series.seriesElement.childNodes;var count=1;if(series.drawType==='Scatter'){var _iteratorNormalCompletion62=true;var _didIteratorError62=false;var _iteratorError62=undefined;try{for(var _iterator62=series.points[Symbol.iterator](),_step62;!(_iteratorNormalCompletion62=(_step62=_iterator62.next()).done);_iteratorNormalCompletion62=true){var point=_step62.value;if(!point.symbolLocations.length||!rectElements[count]){continue;}markerAnimate(rectElements[count],delay,duration,series,point.index,point.symbolLocations[0],false);count++;}}catch(err){_didIteratorError62=true;_iteratorError62=err;}finally{try{if(!_iteratorNormalCompletion62&&_iterator62.return){_iterator62.return();}}finally{if(_didIteratorError62){throw _iteratorError62;}}}}else{for(count=1;count<rectElements.length;count++){this.doPolarRadarAnimation(rectElements[count],delay,duration,series);}}}},{key:'doPolarRadarAnimation',value:function doPolarRadarAnimation(animateElement,delay,duration,series){var chartcenterX=series.clipRect.width/2+series.clipRect.x;var chartcenterY=series.clipRect.height/2+series.clipRect.y;var elementHeight=0;animateElement.style.visibility='hidden';new Animation({}).animate(animateElement,{duration:duration,delay:delay,progress:function progress(args){if(args.timeStamp>args.delay){args.element.style.visibility='visible';elementHeight=(args.timeStamp-args.delay)/args.duration;animateElement.setAttribute('transform','translate('+chartcenterX+' '+chartcenterY+') scale('+elementHeight+') translate('+-chartcenterX+' '+-chartcenterY+')');}},end:function end(model){animateElement.style.visibility='visible';animateElement.removeAttribute('transform');series.chart.trigger('animationComplete',{series:series});}});}},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the series
         */return'PolarSeries';}},{key:'destroy',value:function destroy(chart){/**
         * Destroy method performed here
         */}}]);return PolarSeries;}(PolarRadarPanel));_export2('RadarSeries',RadarSeries=function(_PolarSeries){_inherits(RadarSeries,_PolarSeries);function RadarSeries(){_classCallCheck(this,RadarSeries);return _possibleConstructorReturn(this,(RadarSeries.__proto__||Object.getPrototypeOf(RadarSeries)).apply(this,arguments));}_createClass(RadarSeries,[{key:'render',value:function render(series){var seriesType=firstToLowerCase(series.drawType);if(series.drawType.indexOf('Column')===-1){series.chart[seriesType+'SeriesModule'].render(series,series.xAxis,series.yAxis,series.chart.requireInvertedAxis);}else{this.columnDrawTypeRender(series);}}},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the series
         */return'RadarSeries';}},{key:'destroy',value:function destroy(chart){/**
         * Destroy method performed here
         */}}]);return RadarSeries;}(PolarSeries));_export2('StackingBarSeries',StackingBarSeries=function(_ColumnBase3){_inherits(StackingBarSeries,_ColumnBase3);function StackingBarSeries(){_classCallCheck(this,StackingBarSeries);return _possibleConstructorReturn(this,(StackingBarSeries.__proto__||Object.getPrototypeOf(StackingBarSeries)).apply(this,arguments));}_createClass(StackingBarSeries,[{key:'render',value:function render(series){var origin=Math.max(series.yAxis.visibleRange.min,0);var sideBySideInfo=this.getSideBySideInfo(series);var stackedValue=series.stackedValues;var rect=void 0;var argsData=void 0;var _iteratorNormalCompletion63=true;var _didIteratorError63=false;var _iteratorError63=undefined;try{for(var _iterator63=series.points[Symbol.iterator](),_step63;!(_iteratorNormalCompletion63=(_step63=_iterator63.next()).done);_iteratorNormalCompletion63=true){var pointStack=_step63.value;pointStack.symbolLocations=[];pointStack.regions=[];if(pointStack.visible&&withInRange(series.points[pointStack.index-1],pointStack,series.points[pointStack.index+1],series)){rect=this.getRectangle(pointStack.xValue+sideBySideInfo.start,stackedValue.endValues[pointStack.index],pointStack.xValue+sideBySideInfo.end,stackedValue.startValues[pointStack.index],series);argsData=this.triggerEvent(series,pointStack,series.interior,{width:series.border.width,color:series.border.color});if(!argsData.cancel){this.drawRectangle(series,pointStack,rect,argsData);this.updateSymbolLocation(pointStack,rect,series);}}}}catch(err){_didIteratorError63=true;_iteratorError63=err;}finally{try{if(!_iteratorNormalCompletion63&&_iterator63.return){_iterator63.return();}}finally{if(_didIteratorError63){throw _iteratorError63;}}}}},{key:'destroy',value:function destroy(chart){}/**
         * Destroy method performed here
         *//**
     * Get module name.
     */},{key:'getModuleName',value:function getModuleName(){return'StackingBarSeries';}},{key:'doAnimation',value:function doAnimation(series){this.animate(series);}}]);return StackingBarSeries;}(ColumnBase));_export2('CandleSeries',CandleSeries=function(_ColumnBase4){_inherits(CandleSeries,_ColumnBase4);function CandleSeries(){_classCallCheck(this,CandleSeries);return _possibleConstructorReturn(this,(CandleSeries.__proto__||Object.getPrototypeOf(CandleSeries)).apply(this,arguments));}_createClass(CandleSeries,[{key:'render',value:function render(series){var sideBySideInfo=this.getSideBySideInfo(series);var argsData=void 0;var borderWidth=Math.max(series.border.width,1);var _iteratorNormalCompletion64=true;var _didIteratorError64=false;var _iteratorError64=undefined;try{for(var _iterator64=series.points[Symbol.iterator](),_step64;!(_iteratorNormalCompletion64=(_step64=_iterator64.next()).done);_iteratorNormalCompletion64=true){var point=_step64.value;var direction='';var centerRegion=void 0;var tickRegion=void 0;var midPoint=void 0;midPoint=(sideBySideInfo.start+sideBySideInfo.end)/2;//initializing after zooming and also normal initialization
point.regions=[];point.symbolLocations=[];if(point.visible&&withInRange(series.points[point.index-1],point,series.points[point.index+1],series)){//region to cover the top and bottom ticks
tickRegion=this.getRectangle(point.xValue+sideBySideInfo.median,Math.max(point.high,point.low),point.xValue+sideBySideInfo.median,Math.min(point.high,point.low),series);if(!series.chart.requireInvertedAxis){tickRegion.x-=borderWidth/2;tickRegion.width=borderWidth;}else{tickRegion.y-=borderWidth/2;tickRegion.height=borderWidth;}//get middleRect
centerRegion=this.getRectangle(point.xValue+sideBySideInfo.start,Math.max(point.open,point.close),point.xValue+sideBySideInfo.end,Math.min(point.open,point.close),series);direction=this.getPathString(tickRegion,centerRegion,series);argsData=this.triggerPointRenderEvent(series,point);if(!argsData.cancel){this.drawCandle(series,point,centerRegion,argsData,direction);this.updateSymbolLocation(point,tickRegion,series);this.updateSymbolLocation(point,centerRegion,series);}}}}catch(err){_didIteratorError64=true;_iteratorError64=err;}finally{try{if(!_iteratorNormalCompletion64&&_iterator64.return){_iterator64.return();}}finally{if(_didIteratorError64){throw _iteratorError64;}}}}},{key:'triggerPointRenderEvent',value:function triggerPointRenderEvent(series,point){var fill=void 0;fill=this.getCandleColor(point,series);var border={color:series.border.color,width:Math.max(series.border.width,1)};return this.triggerEvent(series,point,fill,border);}},{key:'getCandleColor',value:function getCandleColor(point,series){var previousPoint=series.points[point.index-1];if(series.enableSolidCandles===false){if(!previousPoint){return series.bearFillColor;}else{return previousPoint.close>point.close?series.bullFillColor:series.bearFillColor;}}else{return point.open>point.close?series.bullFillColor:series.bearFillColor;}}},{key:'getPathString',value:function getPathString(topRect,midRect,series){var direction='';var width=series.chart.requireInvertedAxis?topRect.height:topRect.width;var center=series.chart.requireInvertedAxis?topRect.y+topRect.height/2:topRect.x+topRect.width/2;//tick 1 segment
direction+=!series.chart.requireInvertedAxis?'M'+' '+center+' '+topRect.y+' '+'L'+' '+center+' '+midRect.y:'M'+' '+topRect.x+' '+center+' '+'L'+' '+midRect.x+' '+center;direction=direction.concat(' M'+' '+midRect.x+' '+midRect.y+' '+'L'+' '+(midRect.x+midRect.width)+' '+midRect.y+' '+'L'+' '+(midRect.x+midRect.width)+' '+(midRect.y+midRect.height)+' '+'L'+' '+midRect.x+' '+(midRect.y+midRect.height)+' '+'Z');direction+=!series.chart.requireInvertedAxis?' M'+' '+center+' '+(midRect.y+midRect.height)+' '+'L'+' '+center+' '+(topRect.y+topRect.height):' M'+' '+(midRect.x+midRect.width)+' '+center+' '+'L'+' '+(topRect.x+topRect.width)+' '+center;return direction;}},{key:'drawCandle',value:function drawCandle(series,point,rect,argsData,direction){var check=series.chart.requireInvertedAxis?rect.height:rect.width;if(check<=0){return null;}var fill=!series.enableSolidCandles?point.open>point.close?argsData.fill:'transparent':argsData.fill;argsData.border.color=argsData.fill;var options=new PathOption(series.chart.element.id+'_Series_'+series.index+'_Point_'+point.index,fill,argsData.border.width,argsData.border.color,series.opacity,series.dashArray,direction);var candleElement=series.chart.renderer.drawPath(options);candleElement.setAttribute('aria-label',point.x.toString()+':'+point.high.toString()+':'+point.low.toString()+':'+point.close.toString()+':'+point.open.toString());series.seriesElement.appendChild(candleElement);}},{key:'doAnimation',value:function doAnimation(series){this.animate(series);}},{key:'getModuleName',value:function getModuleName(){return'CandleSeries';/**
         * return the module name
         */}},{key:'destroy',value:function destroy(chart){/**
         * Destroys the candle series.
         */}}]);return CandleSeries;}(ColumnBase));_export2('StackingColumnSeries',StackingColumnSeries=function(_ColumnBase5){_inherits(StackingColumnSeries,_ColumnBase5);function StackingColumnSeries(){_classCallCheck(this,StackingColumnSeries);return _possibleConstructorReturn(this,(StackingColumnSeries.__proto__||Object.getPrototypeOf(StackingColumnSeries)).apply(this,arguments));}_createClass(StackingColumnSeries,[{key:'render',value:function render(series){series.isRectSeries=true;var origin=Math.max(series.yAxis.visibleRange.min,0);var sideBySideInfo=this.getSideBySideInfo(series);var rect=void 0;var argsData=void 0;var stackedValue=series.stackedValues;var _iteratorNormalCompletion65=true;var _didIteratorError65=false;var _iteratorError65=undefined;try{for(var _iterator65=series.points[Symbol.iterator](),_step65;!(_iteratorNormalCompletion65=(_step65=_iterator65.next()).done);_iteratorNormalCompletion65=true){var point=_step65.value;point.symbolLocations=[];point.regions=[];if(point.visible&&withInRange(series.points[point.index-1],point,series.points[point.index+1],series)){rect=this.getRectangle(point.xValue+sideBySideInfo.start,stackedValue.endValues[point.index],point.xValue+sideBySideInfo.end,stackedValue.startValues[point.index],series);argsData=this.triggerEvent(series,point,series.interior,{width:series.border.width,color:series.border.color});if(!argsData.cancel){this.drawRectangle(series,point,rect,argsData);this.updateSymbolLocation(point,rect,series);}}}}catch(err){_didIteratorError65=true;_iteratorError65=err;}finally{try{if(!_iteratorNormalCompletion65&&_iterator65.return){_iterator65.return();}}finally{if(_didIteratorError65){throw _iteratorError65;}}}}},{key:'doAnimation',value:function doAnimation(series){this.animate(series);}},{key:'destroy',value:function destroy(chart){}/**
         * Destroy method performed here
         *//**
     * Get module name.
     */},{key:'getModuleName',value:function getModuleName(){return'StackingColumnSeries';}}]);return StackingColumnSeries;}(ColumnBase));_export2('StepLineSeries',StepLineSeries=function(_LineBase4){_inherits(StepLineSeries,_LineBase4);function StepLineSeries(){_classCallCheck(this,StepLineSeries);return _possibleConstructorReturn(this,(StepLineSeries.__proto__||Object.getPrototypeOf(StepLineSeries)).apply(this,arguments));}_createClass(StepLineSeries,[{key:'render',value:function render(series,xAxis,yAxis,isInverted){var direction='';var startPoint='M';var prevPoint=null;var pathOptions=void 0;var lineLength=void 0;var point1=void 0;var point2=void 0;var visiblePoints=this.improveChartPerformance(series);if(xAxis.valueType==='Category'&&xAxis.labelPlacement==='BetweenTicks'){lineLength=0.5;}else{lineLength=0;}var _iteratorNormalCompletion66=true;var _didIteratorError66=false;var _iteratorError66=undefined;try{for(var _iterator66=visiblePoints[Symbol.iterator](),_step66;!(_iteratorNormalCompletion66=(_step66=_iterator66.next()).done);_iteratorNormalCompletion66=true){var point=_step66.value;point.symbolLocations=[];point.regions=[];if(point.visible&&withInRange(visiblePoints[point.index-1],point,visiblePoints[point.index+1],series)){if(prevPoint!=null){point2=getPoint(point.xValue,point.yValue,xAxis,yAxis,isInverted);point1=getPoint(prevPoint.xValue,prevPoint.yValue,xAxis,yAxis,isInverted);direction=direction.concat(startPoint+' '+point1.x+' '+point1.y+' '+'L'+' '+point2.x+' '+point1.y+'L'+' '+point2.x+' '+point2.y+' ');startPoint='L';}else{point1=getPoint(point.xValue-lineLength,point.yValue,xAxis,yAxis,isInverted);direction=direction.concat(startPoint+' '+point1.x+' '+point1.y+' ');startPoint='L';}this.storePointLocation(point,series,isInverted,getPoint);prevPoint=point;}else{prevPoint=series.emptyPointSettings.mode==='Drop'?prevPoint:null;startPoint=series.emptyPointSettings.mode==='Drop'?startPoint:'M';}}}catch(err){_didIteratorError66=true;_iteratorError66=err;}finally{try{if(!_iteratorNormalCompletion66&&_iterator66.return){_iterator66.return();}}finally{if(_didIteratorError66){throw _iteratorError66;}}}point1=getPoint(visiblePoints[visiblePoints.length-1].xValue+lineLength,visiblePoints[visiblePoints.length-1].yValue,xAxis,yAxis,isInverted);direction=direction.concat(startPoint+' '+point1.x+' '+point1.y+' ');pathOptions=new PathOption(series.chart.element.id+'_Series_'+series.index,'transparent',series.width,series.interior,series.opacity,series.dashArray,direction);this.appendLinePath(pathOptions,series,'');this.renderMarker(series);}},{key:'doAnimation',value:function doAnimation(series){var option=series.animation;this.doLinearAnimation(series,option);}},{key:'destroy',value:function destroy(chart){}/**
         * Destroy method calling here
         *//**
     * Get module name.
     */},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the series
         */return'StepLineSeries';}}]);return StepLineSeries;}(LineBase));_export2('StepAreaSeries',StepAreaSeries=function(_LineBase5){_inherits(StepAreaSeries,_LineBase5);function StepAreaSeries(){_classCallCheck(this,StepAreaSeries);return _possibleConstructorReturn(this,(StepAreaSeries.__proto__||Object.getPrototypeOf(StepAreaSeries)).apply(this,arguments));}_createClass(StepAreaSeries,[{key:'render',value:function render(series,xAxis,yAxis,isInverted){var currentPoint=void 0;var secondPoint=void 0;var start=null;var direction='';var pointsLength=series.points.length;var origin=Math.max(series.yAxis.visibleRange.min,0);var options=void 0;var point=void 0;var xValue=void 0;var lineLength=void 0;var prevPoint=null;if(xAxis.valueType==='Category'&&xAxis.labelPlacement==='BetweenTicks'){lineLength=0.5;}else{lineLength=0;}for(var i=0;i<pointsLength;i++){point=series.points[i];xValue=point.xValue;point.symbolLocations=[];point.regions=[];if(point.visible&&withInRange(series.points[i-1],point,series.points[i+1],series)){if(start===null){start=new ChartLocation(xValue,0);// Start point for the current path
currentPoint=getPoint(xValue-lineLength,origin,xAxis,yAxis,isInverted);direction+='M'+' '+currentPoint.x+' '+currentPoint.y+' ';currentPoint=getPoint(xValue-lineLength,point.yValue,xAxis,yAxis,isInverted);direction+='L'+' '+currentPoint.x+' '+currentPoint.y+' ';}// First Point to draw the Steparea path
if(prevPoint!=null){currentPoint=getPoint(point.xValue,point.yValue,xAxis,yAxis,isInverted);secondPoint=getPoint(prevPoint.xValue,prevPoint.yValue,xAxis,yAxis,isInverted);direction+='L'+' '+currentPoint.x+' '+secondPoint.y+'L'+' '+currentPoint.x+' '+currentPoint.y+' ';}else if(series.emptyPointSettings.mode==='Gap'){currentPoint=getPoint(point.xValue,point.yValue,xAxis,yAxis,isInverted);direction+='L'+' '+currentPoint.x+' '+currentPoint.y+' ';}this.storePointLocation(point,series,isInverted,getPoint);prevPoint=point;}if(series.points[i+1]&&!series.points[i+1].visible&&series.emptyPointSettings.mode!=='Drop'){// current start point
currentPoint=getPoint(xValue+lineLength,origin,xAxis,yAxis,isInverted);direction+='L'+' '+currentPoint.x+' '+currentPoint.y;start=null;prevPoint=null;}}if(pointsLength>1){start={'x':series.points[pointsLength-1].xValue+lineLength,'y':series.points[pointsLength-1].yValue};secondPoint=getPoint(start.x,start.y,xAxis,yAxis,isInverted);direction+='L'+' '+secondPoint.x+' '+secondPoint.y+' ';start={'x':series.points[pointsLength-1].xValue+lineLength,'y':origin};secondPoint=getPoint(start.x,start.y,xAxis,yAxis,isInverted);direction+='L'+' '+secondPoint.x+' '+secondPoint.y+' ';}options=new PathOption(series.chart.element.id+'_Series_'+series.index,series.interior,series.border.width,series.border.color,series.opacity,series.dashArray,direction);this.appendLinePath(options,series,'');this.renderMarker(series);}},{key:'doAnimation',value:function doAnimation(series){var option=series.animation;this.doLinearAnimation(series,option);}},{key:'destroy',value:function destroy(chart){}/**
         * Destroy method calling here
         *//**
     * Get module name.
     */},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the series
         */return'StepAreaSeries';}}]);return StepAreaSeries;}(LineBase));_export2('StackingAreaSeries',StackingAreaSeries=function(_LineBase6){_inherits(StackingAreaSeries,_LineBase6);function StackingAreaSeries(){_classCallCheck(this,StackingAreaSeries);return _possibleConstructorReturn(this,(StackingAreaSeries.__proto__||Object.getPrototypeOf(StackingAreaSeries)).apply(this,arguments));}_createClass(StackingAreaSeries,[{key:'render',value:function render(series,xAxis,yAxis,isInverted){var polarAreaType=series.chart.chartAreaType==='PolarRadar';var getCoordinate=polarAreaType?TransformToVisible:getPoint;var lineDirection='';var visiblePoints=series.points;var pointsLength=visiblePoints.length;var stackedvalue=series.stackedValues;var origin=polarAreaType?Math.max(series.yAxis.visibleRange.min,stackedvalue.endValues[0]):Math.max(series.yAxis.visibleRange.min,stackedvalue.startValues[0]);var border=series.border;var options=void 0;var startPoint=0;var point1=getCoordinate(visiblePoints[0].xValue,origin,xAxis,yAxis,isInverted,series);var point2=void 0;lineDirection=lineDirection.concat('M'+' '+point1.x+' '+point1.y+' ');for(var i=0;i<pointsLength;i++){visiblePoints[i].symbolLocations=[];visiblePoints[i].regions=[];if(visiblePoints[i].visible&&withInRange(visiblePoints[i-1],visiblePoints[i],visiblePoints[i+1],series)){point1=getCoordinate(visiblePoints[i].xValue,stackedvalue.endValues[i],xAxis,yAxis,isInverted,series);lineDirection=lineDirection.concat('L'+' '+point1.x+' '+point1.y+' ');visiblePoints[i].symbolLocations.push(getCoordinate(visiblePoints[i].xValue,stackedvalue.endValues[i],xAxis,yAxis,isInverted,series));visiblePoints[i].regions.push(new Rect(visiblePoints[i].symbolLocations[0].x-series.marker.width,visiblePoints[i].symbolLocations[0].y-series.marker.height,2*series.marker.width,2*series.marker.height));}else{if(series.emptyPointSettings.mode!=='Drop'){for(var j=i-1;j>=startPoint;j--){point2=getCoordinate(visiblePoints[j].xValue,stackedvalue.startValues[j],xAxis,yAxis,isInverted,series);lineDirection=lineDirection.concat('L'+' '+point2.x+' '+point2.y+' ');}if(visiblePoints[i+1]&&visiblePoints[i+1].visible){point1=getCoordinate(visiblePoints[i+1].xValue,stackedvalue.startValues[i+1],xAxis,yAxis,isInverted,series);lineDirection=lineDirection.concat('M'+' '+point1.x+' '+point1.y+' ');}startPoint=i+1;}}}if(series.chart.chartAreaType==='PolarRadar'&&visiblePoints.length>1){point1={'x':series.points[0].xValue,'y':stackedvalue.endValues[0]};point2=getCoordinate(point1.x,point1.y,xAxis,yAxis,isInverted,series);lineDirection+='L'+' '+point2.x+' '+point2.y+' ';}for(var _j6=pointsLength-1;_j6>=startPoint;_j6--){var previousSeries=this.getPreviousSeries(series);if(previousSeries.emptyPointSettings.mode!=='Drop'||!previousSeries.points[_j6].isEmpty){point2=getCoordinate(visiblePoints[_j6].xValue,stackedvalue.startValues[_j6],xAxis,yAxis,isInverted,series);lineDirection=lineDirection.concat((_j6===pointsLength-1&&polarAreaType?'M':'L')+' '+point2.x+' '+point2.y+' ');}}options=new PathOption(series.chart.element.id+'_Series_'+series.index,series.interior,series.border.width,series.border.color,series.opacity,series.dashArray,lineDirection);this.appendLinePath(options,series,'');this.renderMarker(series);}},{key:'doAnimation',value:function doAnimation(series){var option=series.animation;this.doLinearAnimation(series,option);}},{key:'destroy',value:function destroy(chart){}/**
         * Destroy method calling here
         *//**
     * Get module name.
     */},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the series
         */return'StackingAreaSeries';}},{key:'getPreviousSeries',value:function getPreviousSeries(series){var seriesCollection=series.chart.visibleSeries;for(var i=0,length=seriesCollection.length;i<length;i++){if(series.index===seriesCollection[i].index&&i!==0){return seriesCollection[i-1];}}return seriesCollection[0];}}]);return StackingAreaSeries;}(LineBase));_export2('ScatterSeries',ScatterSeries=function(){function ScatterSeries(){_classCallCheck(this,ScatterSeries);}_createClass(ScatterSeries,[{key:'render',value:function render(series,xAxis,yAxis,isInverted){var seriesIndex=series.index;var marker=series.marker;var border=series.border;var visiblePoints=series.points;var symbolId=void 0;var shapeOption=void 0;var argsData=void 0;var getCoordinate=series.chart.chartAreaType==='PolarRadar'?TransformToVisible:getPoint;var _iteratorNormalCompletion67=true;var _didIteratorError67=false;var _iteratorError67=undefined;try{for(var _iterator67=visiblePoints[Symbol.iterator](),_step67;!(_iteratorNormalCompletion67=(_step67=_iterator67.next()).done);_iteratorNormalCompletion67=true){var point=_step67.value;point.symbolLocations=[];point.regions=[];if(point.visible&&withInRange(visiblePoints[point.index-1],point,visiblePoints[point.index+1],series)){symbolId=series.chart.element.id+'_Series_'+seriesIndex+'_Point_'+point.index;argsData={cancel:false,name:pointRender,series:series,point:point,fill:series.setPointColor(point,series.interior),border:series.setBorderColor(point,{width:series.border.width,color:series.border.color}),height:marker.height,width:marker.width,shape:marker.shape};series.chart.trigger(pointRender,argsData);if(!argsData.cancel){point.symbolLocations.push(getCoordinate(point.xValue,point.yValue,xAxis,yAxis,isInverted,series));point.color=argsData.fill;shapeOption=new PathOption(symbolId,argsData.fill,argsData.border.width,argsData.border.color,series.opacity,null);series.seriesElement.appendChild(drawSymbol(point.symbolLocations[0],argsData.shape,new Size(argsData.width,argsData.height),marker.imageUrl,shapeOption,point.x.toString()+':'+point.yValue.toString()));point.regions.push(new Rect(point.symbolLocations[0].x-marker.width,point.symbolLocations[0].y-marker.height,2*marker.width,2*marker.height));point.marker={border:argsData.border,fill:argsData.fill,height:argsData.height,visible:true,width:argsData.width,shape:argsData.shape};}else{point.marker={visible:true};}}}}catch(err){_didIteratorError67=true;_iteratorError67=err;}finally{try{if(!_iteratorNormalCompletion67&&_iterator67.return){_iterator67.return();}}finally{if(_didIteratorError67){throw _iteratorError67;}}}}},{key:'doAnimation',value:function doAnimation(series){var duration=series.animation.duration;var delay=series.animation.delay;var rectElements=series.seriesElement.childNodes;var count=1;var _iteratorNormalCompletion68=true;var _didIteratorError68=false;var _iteratorError68=undefined;try{for(var _iterator68=series.points[Symbol.iterator](),_step68;!(_iteratorNormalCompletion68=(_step68=_iterator68.next()).done);_iteratorNormalCompletion68=true){var point=_step68.value;if(!point.symbolLocations.length||!rectElements[count]){continue;}markerAnimate(rectElements[count],delay,duration,series,point.index,point.symbolLocations[0],false);count++;}}catch(err){_didIteratorError68=true;_iteratorError68=err;}finally{try{if(!_iteratorNormalCompletion68&&_iterator68.return){_iterator68.return();}}finally{if(_didIteratorError68){throw _iteratorError68;}}}}},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the series
         */return'ScatterSeries';}},{key:'destroy',value:function destroy(chart){/**
         * Destroy method calling here
         */}}]);return ScatterSeries;}());_export2('RangeColumnSeries',RangeColumnSeries=function(_ColumnBase6){_inherits(RangeColumnSeries,_ColumnBase6);function RangeColumnSeries(){_classCallCheck(this,RangeColumnSeries);return _possibleConstructorReturn(this,(RangeColumnSeries.__proto__||Object.getPrototypeOf(RangeColumnSeries)).apply(this,arguments));}_createClass(RangeColumnSeries,[{key:'render',value:function render(series){var rect=void 0;var sideBySideInfo=this.getSideBySideInfo(series);//let origin: number = Math.max(<number>series.yAxis.visibleRange.min, 0);
var argsData=void 0;var _iteratorNormalCompletion69=true;var _didIteratorError69=false;var _iteratorError69=undefined;try{for(var _iterator69=series.points[Symbol.iterator](),_step69;!(_iteratorNormalCompletion69=(_step69=_iterator69.next()).done);_iteratorNormalCompletion69=true){var rangePoint=_step69.value;rangePoint.symbolLocations=[];rangePoint.regions=[];if(rangePoint.visible&&withInRange(series.points[rangePoint.index-1],rangePoint,series.points[rangePoint.index+1],series)){rect=this.getRectangle(rangePoint.xValue+sideBySideInfo.start,rangePoint.high,rangePoint.xValue+sideBySideInfo.end,rangePoint.low,series);argsData=this.triggerEvent(series,rangePoint,series.interior,{width:series.border.width,color:series.border.color});if(!argsData.cancel){this.updateSymbolLocation(rangePoint,rect,series);this.drawRectangle(series,rangePoint,rect,argsData);}}}}catch(err){_didIteratorError69=true;_iteratorError69=err;}finally{try{if(!_iteratorNormalCompletion69&&_iterator69.return){_iterator69.return();}}finally{if(_didIteratorError69){throw _iteratorError69;}}}}},{key:'getModuleName',value:function getModuleName(){return'RangeColumnSeries';/**
         * return the module name
         */}},{key:'doAnimation',value:function doAnimation(series){this.animate(series);}},{key:'destroy',value:function destroy(chart){/**
         * Destroy method performed here
         */}}]);return RangeColumnSeries;}(ColumnBase));_export2('WaterfallSeries',WaterfallSeries=function(_ColumnBase7){_inherits(WaterfallSeries,_ColumnBase7);function WaterfallSeries(){_classCallCheck(this,WaterfallSeries);return _possibleConstructorReturn(this,(WaterfallSeries.__proto__||Object.getPrototypeOf(WaterfallSeries)).apply(this,arguments));}_createClass(WaterfallSeries,[{key:'render',value:function render(series){var rect=void 0;var sideBySideInfo=this.getSideBySideInfo(series);var origin=Math.max(series.yAxis.visibleRange.min,0);var argsData=void 0;var prevEndValue=0;var direction='';var currentEndValue=0;var originValue=void 0;var prevRegion=null;var y=void 0;var isInversed=series.chart.requireInvertedAxis;var intermediateOrigin=0;var _iteratorNormalCompletion70=true;var _didIteratorError70=false;var _iteratorError70=undefined;try{for(var _iterator70=series.points[Symbol.iterator](),_step70;!(_iteratorNormalCompletion70=(_step70=_iterator70.next()).done);_iteratorNormalCompletion70=true){var point=_step70.value;point.symbolLocations=[];point.regions=[];if(point.visible&&withInRange(series.points[point.index-1],point,series.points[point.index+1],series)){//Calcute the current point value to render waterfall series.
var isSum=this.isIntermediateSum(series,point.index);var totalSum=this.isSumIndex(series,point.index);currentEndValue+=isSum||totalSum===true?0:point.yValue;//Calcute the origin value for points
originValue=isSum===true?intermediateOrigin:prevEndValue!==null&&!totalSum?prevEndValue:origin;rect=this.getRectangle(point.xValue+sideBySideInfo.start,currentEndValue,point.xValue+sideBySideInfo.end,originValue,series);argsData=this.triggerPointRenderEvent(series,point);//intermediateOrigin is used only for imtermediate data 
if(isSum){intermediateOrigin=currentEndValue;}prevEndValue=currentEndValue;if(!argsData.cancel){this.updateSymbolLocation(point,rect,series);this.drawRectangle(series,point,rect,argsData);}var currentRegion=point.regions[0];if(prevRegion!==null){var prevLeft=isInversed?prevRegion.x:prevRegion.y;var currentLeft=isInversed?currentRegion.x:currentRegion.y;var prevBottom=isInversed?prevRegion.x+prevRegion.width:prevRegion.y+prevRegion.height;var currentBottom=isInversed?currentRegion.x+currentRegion.width:currentRegion.y+currentRegion.height;if(Math.round(prevLeft)===Math.round(currentLeft)||Math.round(prevBottom)===Math.round(currentLeft)){y=isInversed?currentRegion.x:currentRegion.y;}else{y=currentBottom;}if(isInversed){direction=direction.concat('M'+' '+y+' '+(prevRegion.y+prevRegion.height)+' '+'L'+' '+y+' '+currentRegion.y+' ');}else{direction=direction.concat('M'+' '+prevRegion.x+' '+y+' '+'L'+' '+(currentRegion.x+currentRegion.width)+' '+y+' ');}}prevRegion=point.regions[0];}}}catch(err){_didIteratorError70=true;_iteratorError70=err;}finally{try{if(!_iteratorNormalCompletion70&&_iterator70.return){_iterator70.return();}}finally{if(_didIteratorError70){throw _iteratorError70;}}}var options=new PathOption(series.chart.element.id+'_Series_'+series.index+'_Connector_','none',series.connector.width,series.connector.color,series.opacity,series.connector.dashArray,direction);var element=series.chart.renderer.drawPath(options);if(series.chart.animateSeries){element.style.visibility='hidden';}series.seriesElement.appendChild(element);}},{key:'isIntermediateSum',value:function isIntermediateSum(series,index){if(series.intermediateSumIndexes!==undefined&&series.intermediateSumIndexes.indexOf(index)!==-1){return true;}return false;}},{key:'isSumIndex',value:function isSumIndex(series,index){if(series.sumIndexes!==undefined&&series.sumIndexes.indexOf(index)!==-1){return true;}return false;}},{key:'triggerPointRenderEvent',value:function triggerPointRenderEvent(series,point){var color=void 0;var isSum=this.isIntermediateSum(series,point.index);var totalSum=this.isSumIndex(series,point.index);if(isSum||totalSum){color=series.summaryFillColor;}else if(point.y<0){color=series.negativeFillColor;}else{color=series.interior;}return this.triggerEvent(series,point,color,{color:series.border.color,width:series.border.width});}},{key:'processWaterfallData',value:function processWaterfallData(json,series){var data=json;var length=json.length;var index=void 0;var intermediateSum=series.intermediateSumIndexes;var sumIndex=series.sumIndexes;if(intermediateSum!==undefined&&intermediateSum.length>0){for(var i=0;i<intermediateSum.length;i++){for(var j=0;j<data.length;j++){if(j===intermediateSum[i]){if(i===0){index=subArraySum(data,-1,intermediateSum[i],null,series);}else{index=subArraySum(data,intermediateSum[i-1],intermediateSum[i],null,series);}data[j][series.yName]=index;}}}}if(sumIndex!==undefined&&sumIndex.length>0){for(var k=0;k<sumIndex.length;k++){for(var _j7=0;_j7<data.length;_j7++){if(_j7===sumIndex[k]){if(intermediateSum!==undefined){index=subArraySum(data,-1,sumIndex[k],sumIndex,series);}else{index=subArraySum(data,-1,sumIndex[k],null,series);}data[_j7][series.yName]=index;}}}}return data;}},{key:'doAnimation',value:function doAnimation(series){this.animate(series);}},{key:'getModuleName',value:function getModuleName(){return'WaterfallSeries';/**
         * return the module name
         */}},{key:'destroy',value:function destroy(chart){/**
         * Destroys the waterfall series.
         */}}]);return WaterfallSeries;}(ColumnBase));_export2('HiloSeries',HiloSeries=function(_ColumnBase8){_inherits(HiloSeries,_ColumnBase8);function HiloSeries(){_classCallCheck(this,HiloSeries);return _possibleConstructorReturn(this,(HiloSeries.__proto__||Object.getPrototypeOf(HiloSeries)).apply(this,arguments));}_createClass(HiloSeries,[{key:'render',value:function render(series){var region=void 0;var sideBySideInfo=this.getSideBySideInfo(series);var argsData=void 0;var _iteratorNormalCompletion71=true;var _didIteratorError71=false;var _iteratorError71=undefined;try{for(var _iterator71=series.points[Symbol.iterator](),_step71;!(_iteratorNormalCompletion71=(_step71=_iterator71.next()).done);_iteratorNormalCompletion71=true){var point=_step71.value;point.symbolLocations=[];point.regions=[];if(point.visible&&withInRange(series.points[point.index-1],point,series.points[point.index+1],series)){region=this.getRectangle(point.xValue+sideBySideInfo.median,point.high,point.xValue+sideBySideInfo.median,point.low,series);argsData=this.triggerPointRenderEvent(series,point);if(!argsData.cancel){if(!series.chart.requireInvertedAxis){region.width=argsData.border.width;region.x=region.x-region.width/2;}else{region.height=argsData.border.width;region.y=region.y-region.height/2;}argsData.border.width=0;this.updateSymbolLocation(point,region,series);this.drawRectangle(series,point,region,argsData);}}}}catch(err){_didIteratorError71=true;_iteratorError71=err;}finally{try{if(!_iteratorNormalCompletion71&&_iterator71.return){_iterator71.return();}}finally{if(_didIteratorError71){throw _iteratorError71;}}}}},{key:'triggerPointRenderEvent',value:function triggerPointRenderEvent(series,point){var border={color:series.fill,width:Math.max(series.border.width,2)};return _get(HiloSeries.prototype.__proto__||Object.getPrototypeOf(HiloSeries.prototype),'triggerEvent',this).call(this,series,point,series.interior,border);}},{key:'getModuleName',value:function getModuleName(){return'HiloSeries';/**
         * return the module name
         */}},{key:'doAnimation',value:function doAnimation(series){this.animate(series);}},{key:'destroy',value:function destroy(chart){/**
         * Destroys the Hilo Series
         */}}]);return HiloSeries;}(ColumnBase));_export2('HiloOpenCloseSeries',HiloOpenCloseSeries=function(_ColumnBase9){_inherits(HiloOpenCloseSeries,_ColumnBase9);function HiloOpenCloseSeries(){_classCallCheck(this,HiloOpenCloseSeries);return _possibleConstructorReturn(this,(HiloOpenCloseSeries.__proto__||Object.getPrototypeOf(HiloOpenCloseSeries)).apply(this,arguments));}_createClass(HiloOpenCloseSeries,[{key:'render',value:function render(series){var highLowRect=void 0;var sideBySideInfo=this.getSideBySideInfo(series);var argsData=void 0;var borderWidth=Math.max(series.border.width,2);var _iteratorNormalCompletion72=true;var _didIteratorError72=false;var _iteratorError72=undefined;try{for(var _iterator72=series.points[Symbol.iterator](),_step72;!(_iteratorNormalCompletion72=(_step72=_iterator72.next()).done);_iteratorNormalCompletion72=true){var point=_step72.value;point.symbolLocations=[];point.regions=[];if(point.visible&&withInRange(series.points[point.index-1],point,series.points[point.index+1],series)){//highlow
highLowRect=this.getRectangle(point.xValue+sideBySideInfo.start,Math.max(point.high,point.low),point.xValue+sideBySideInfo.end,Math.min(point.high,point.low),series);point.regions.push(this.getRectangle(point.xValue+sideBySideInfo.median,Math.max(point.high,point.low),point.xValue+sideBySideInfo.median,Math.min(point.high,point.low),series));this.updateTickRegion(!series.chart.requireInvertedAxis,point.regions[0],borderWidth);//open
point.regions.push(this.getRectangle(point.xValue+sideBySideInfo.start,Math.max(point.open,point.close),point.xValue+sideBySideInfo.median,Math.max(point.open,point.close),series));//close
point.regions.push(this.getRectangle(point.xValue+sideBySideInfo.median,Math.min(point.open,point.close),point.xValue+sideBySideInfo.end,Math.min(point.open,point.close),series));argsData=this.triggerPointRenderEvent(series,point);if(!argsData.cancel){this.updateSymbolLocation(point,point.regions[0],series);var open={x:point.regions[1].x,y:point.regions[1].y};var close={x:point.regions[2].x,y:point.regions[2].y};this.drawHiloOpenClosePath(series,point,open,close,highLowRect,argsData);}this.updateTickRegion(series.chart.requireInvertedAxis,point.regions[1],borderWidth);this.updateTickRegion(series.chart.requireInvertedAxis,point.regions[2],borderWidth);}}}catch(err){_didIteratorError72=true;_iteratorError72=err;}finally{try{if(!_iteratorNormalCompletion72&&_iterator72.return){_iterator72.return();}}finally{if(_didIteratorError72){throw _iteratorError72;}}}}},{key:'updateTickRegion',value:function updateTickRegion(horizontal,region,borderWidth){if(horizontal){region.x-=borderWidth/2;region.width=borderWidth;}else{region.y-=borderWidth/2;region.height=borderWidth;}}},{key:'triggerPointRenderEvent',value:function triggerPointRenderEvent(series,point){var fill=point.open<=point.close?series.bearFillColor:series.bullFillColor;var border={color:series.border.color,width:Math.max(series.border.width,1)};return this.triggerEvent(series,point,fill,border);}},{key:'drawHiloOpenClosePath',value:function drawHiloOpenClosePath(series,point,open,close,rect,argsData){// region highlow
var direction=void 0;var options=void 0;if(series.chart.requireInvertedAxis){direction='M'+' '+rect.x+' '+(rect.y+rect.height/2)+' '+'L'+' '+(rect.x+rect.width)+' '+(rect.y+rect.height/2)+' ';direction+='M'+' '+open.x+' '+(rect.y+rect.height/2)+' '+'L'+' '+open.x+' '+(rect.y+rect.height)+' ';direction+='M'+' '+close.x+' '+(rect.y+rect.height/2)+' '+'L'+' '+close.x+' '+rect.y+' ';}else{direction='M'+' '+(rect.x+rect.width/2)+' '+(rect.y+rect.height)+' '+'L'+' '+(rect.x+rect.width/2)+' '+rect.y+' ';//region opentick
direction+='M'+' '+rect.x+' '+open.y+' '+'L'+' '+(rect.x+rect.width/2)+' '+open.y+' ';//region closetick
direction+='M'+' '+(rect.x+rect.width/2)+' '+close.y+' '+'L'+' '+(rect.x+rect.width)+' '+close.y+' ';}options=new PathOption(series.chart.element.id+'_Series_'+series.index+'_Point_'+point.index,argsData.fill,argsData.border.width,argsData.fill,series.opacity,series.dashArray,direction);var element=series.chart.renderer.drawPath(options);element.setAttribute('aria-label',point.x.toString()+':'+point.high.toString()+':'+point.low.toString()+':'+point.close.toString()+':'+point.open.toString());series.seriesElement.appendChild(element);}},{key:'getModuleName',value:function getModuleName(){return'HiloOpenCloseSeries';/**
         * return the module name
         */}},{key:'doAnimation',value:function doAnimation(series){this.animate(series);}},{key:'destroy',value:function destroy(chart){/**
         * Destroy method performed here
         */}}]);return HiloOpenCloseSeries;}(ColumnBase));_export2('RangeAreaSeries',RangeAreaSeries=function(_LineBase7){_inherits(RangeAreaSeries,_LineBase7);function RangeAreaSeries(){_classCallCheck(this,RangeAreaSeries);return _possibleConstructorReturn(this,(RangeAreaSeries.__proto__||Object.getPrototypeOf(RangeAreaSeries)).apply(this,arguments));}_createClass(RangeAreaSeries,[{key:'render',value:function render(series){var point=void 0;var direction='';var command='M';var closed=undefined;var visiblePoints=this.improveChartPerformance(series);for(var i=0,length=visiblePoints.length;i<length;i++){point=visiblePoints[i];point.symbolLocations=[];point.regions=[];var low=Math.min(point.low,point.high);var high=Math.max(point.low,point.high);if(series.yAxis.isInversed){var temp=low;low=high;high=temp;}var lowPoint=getPoint(point.xValue,low,series.xAxis,series.yAxis,series.chart.requireInvertedAxis);var highPoint=getPoint(point.xValue,high,series.xAxis,series.yAxis,series.chart.requireInvertedAxis);point.symbolLocations.push(highPoint);point.symbolLocations.push(lowPoint);var rect=new Rect(Math.min(lowPoint.x,highPoint.x),Math.min(lowPoint.y,highPoint.y),Math.max(Math.abs(highPoint.x-lowPoint.x),series.marker.width),Math.max(Math.abs(highPoint.y-lowPoint.y),series.marker.width));if(!series.chart.requireInvertedAxis){rect.x-=series.marker.width/2;}else{rect.y-=series.marker.width/2;}point.regions.push(rect);//Path to connect the high points
if(point.visible&&withInRange(visiblePoints[point.index-1],point,visiblePoints[point.index+1],series)){direction=direction.concat(command+' '+lowPoint.x+' '+lowPoint.y+' ');closed=false;if(i+1<visiblePoints.length&&!visiblePoints[i+1].visible||i===visiblePoints.length-1){// Path to connect the low points
direction=this.closeRangeAreaPath(visiblePoints,point,series,direction,i);command='M';direction=direction.concat(' '+'Z');closed=true;}command='L';}else{if(closed===false&&i!==0){direction=this.closeRangeAreaPath(visiblePoints,point,series,direction,i);closed=true;}command='M';point.symbolLocations=[];}}var name=series.category==='Indicator'?series.chart.element.id+'_Indicator_'+series.index+'_'+series.name:series.chart.element.id+'_Series_'+series.index;var options=new PathOption(name,series.interior,series.border.width,series.border.color,series.opacity,series.dashArray,direction);this.appendLinePath(options,series,'');this.renderMarker(series);}},{key:'closeRangeAreaPath',value:function closeRangeAreaPath(visiblePoints,point,series,direction,i){for(var j=i;j>=0;j--){if(visiblePoints[j].visible&&visiblePoints[j].symbolLocations[0]){point=visiblePoints[j];direction+='L'+' '+point.symbolLocations[0].x+' '+point.symbolLocations[0].y+' ';}else{break;}}return direction;}},{key:'doAnimation',value:function doAnimation(series){var option=series.animation;this.doLinearAnimation(series,option);}},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the series
         */return'RangeAreaSeries';}},{key:'destroy',value:function destroy(chart){/**
         * Destroys range area series
         */}}]);return RangeAreaSeries;}(LineBase));_export2('BubbleSeries',BubbleSeries=function(){function BubbleSeries(){_classCallCheck(this,BubbleSeries);}_createClass(BubbleSeries,[{key:'render',value:function render(series,xAxis,yAxis,isInverted){var marker=series.marker;var visiblePoints=series.points;var shapeOption=void 0;var argsData=void 0;//let bubbleMode: RadiusMode = bubbleOptions.radiusMode;
var segmentRadius=void 0;var radius=void 0;var value=Math.max(series.chart.initialClipRect.height,series.chart.initialClipRect.width);var percentChange=value/100;var maxRadius=series.maxRadius*percentChange;var minRadius=series.minRadius*percentChange;var maximumSize=null;var maxValue=null;if(series.maxRadius===null||series.minRadius===null){var _iteratorNormalCompletion73=true;var _didIteratorError73=false;var _iteratorError73=undefined;try{for(var _iterator73=series.chart.visibleSeries[Symbol.iterator](),_step73;!(_iteratorNormalCompletion73=(_step73=_iterator73.next()).done);_iteratorNormalCompletion73=true){var _value=_step73.value;if(_value.type==='Bubble'&&_value.visible===true&&(_value.maxRadius===null||_value.minRadius===null)){maximumSize=_value.sizeMax>maximumSize?_value.sizeMax:maximumSize;}}}catch(err){_didIteratorError73=true;_iteratorError73=err;}finally{try{if(!_iteratorNormalCompletion73&&_iterator73.return){_iterator73.return();}}finally{if(_didIteratorError73){throw _iteratorError73;}}}maxValue=value/5/2;minRadius=maxRadius=1;radius=maxValue*maxRadius;}else{maximumSize=series.sizeMax;radius=maxRadius-minRadius;}var _iteratorNormalCompletion74=true;var _didIteratorError74=false;var _iteratorError74=undefined;try{for(var _iterator74=visiblePoints[Symbol.iterator](),_step74;!(_iteratorNormalCompletion74=(_step74=_iterator74.next()).done);_iteratorNormalCompletion74=true){var bubblePoint=_step74.value;bubblePoint.symbolLocations=[];bubblePoint.regions=[];if(bubblePoint.visible&&withInRange(visiblePoints[bubblePoint.index-1],bubblePoint,visiblePoints[bubblePoint.index+1],series)){if(series.maxRadius===null||series.minRadius===null){segmentRadius=radius*Math.abs(+bubblePoint.size/maximumSize);}else{segmentRadius=minRadius+radius*Math.abs(+bubblePoint.size/maximumSize);}segmentRadius=segmentRadius||minRadius;argsData={cancel:false,name:pointRender,series:series,point:bubblePoint,fill:series.setPointColor(bubblePoint,series.interior),border:series.setBorderColor(bubblePoint,{width:series.border.width,color:series.border.color}),height:2*segmentRadius,width:2*segmentRadius};series.chart.trigger(pointRender,argsData);if(!argsData.cancel){bubblePoint.symbolLocations.push(getPoint(bubblePoint.xValue,bubblePoint.yValue,xAxis,yAxis,isInverted));bubblePoint.color=argsData.fill;shapeOption=new PathOption(series.chart.element.id+'_Series_'+series.index+'_Point_'+bubblePoint.index,argsData.fill,argsData.border.width,argsData.border.color,series.opacity,null);series.seriesElement.appendChild(drawSymbol(bubblePoint.symbolLocations[0],'Circle',new Size(argsData.width,argsData.height),marker.imageUrl,shapeOption,bubblePoint.x.toString()+':'+bubblePoint.yValue.toString()));bubblePoint.regions.push(new Rect(bubblePoint.symbolLocations[0].x-segmentRadius,bubblePoint.symbolLocations[0].y-segmentRadius,2*segmentRadius,2*segmentRadius));bubblePoint.marker={border:argsData.border,fill:argsData.fill,height:argsData.height,visible:true,shape:'Circle',width:argsData.width};}else{bubblePoint.marker={visible:false};}}}}catch(err){_didIteratorError74=true;_iteratorError74=err;}finally{try{if(!_iteratorNormalCompletion74&&_iterator74.return){_iterator74.return();}}finally{if(_didIteratorError74){throw _iteratorError74;}}}}},{key:'destroy',value:function destroy(chart){}/**
         * Destroy method calling here
         *//**
     * Get module name.
     */},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the series
         */return'BubbleSeries';}},{key:'doAnimation',value:function doAnimation(series){var duration=series.animation.duration;var delay=series.animation.delay;var rectElements=series.seriesElement.childNodes;var count=1;var _iteratorNormalCompletion75=true;var _didIteratorError75=false;var _iteratorError75=undefined;try{for(var _iterator75=series.points[Symbol.iterator](),_step75;!(_iteratorNormalCompletion75=(_step75=_iterator75.next()).done);_iteratorNormalCompletion75=true){var bubblePoint=_step75.value;if(!bubblePoint.symbolLocations.length){continue;}markerAnimate(rectElements[count],delay,duration,series,bubblePoint.index,bubblePoint.symbolLocations[0],false);count++;}}catch(err){_didIteratorError75=true;_iteratorError75=err;}finally{try{if(!_iteratorNormalCompletion75&&_iterator75.return){_iterator75.return();}}finally{if(_didIteratorError75){throw _iteratorError75;}}}}}]);return BubbleSeries;}());SplineBase=function(_LineBase8){_inherits(SplineBase,_LineBase8);/** @private */function SplineBase(chartModule){_classCallCheck(this,SplineBase);var _this80=_possibleConstructorReturn(this,(SplineBase.__proto__||Object.getPrototypeOf(SplineBase)).call(this,chartModule));_this80.splinePoints=[];return _this80;}/**
     * To find the control points for spline.
     * @return {void}
     * @private
     */_createClass(SplineBase,[{key:'findSplinePoint',value:function findSplinePoint(series){var value=void 0;var points=this.filterEmptyPoints(series);this.splinePoints=this.findSplineCoefficients(points,series);if(points.length>1){series.drawPoints=[];var _iteratorNormalCompletion76=true;var _didIteratorError76=false;var _iteratorError76=undefined;try{for(var _iterator76=points[Symbol.iterator](),_step76;!(_iteratorNormalCompletion76=(_step76=_iterator76.next()).done);_iteratorNormalCompletion76=true){var point=_step76.value;if(point.index!==0){var previous=this.getPreviousIndex(points,point.index-1,series);value=this.getControlPoints(points[previous],point,this.splinePoints[previous],this.splinePoints[point.index],series);series.drawPoints.push(value);if(point.yValue&&value.controlPoint1.y&&value.controlPoint2.y){series.yMin=Math.floor(Math.min(series.yMin,point.yValue,value.controlPoint1.y,value.controlPoint2.y));series.yMax=Math.ceil(Math.max(series.yMax,point.yValue,value.controlPoint1.y,value.controlPoint2.y));}}}}catch(err){_didIteratorError76=true;_iteratorError76=err;}finally{try{if(!_iteratorNormalCompletion76&&_iterator76.return){_iterator76.return();}}finally{if(_didIteratorError76){throw _iteratorError76;}}}}}},{key:'getPreviousIndex',value:function getPreviousIndex(points,i,series){if(series.emptyPointSettings.mode!=='Drop'){return i;}while(isNullOrUndefined(points[i])&&i>-1){i=i-1;}return i;}},{key:'getNextIndex',value:function getNextIndex(points,i,series){if(series.emptyPointSettings.mode!=='Drop'){return i;}while(isNullOrUndefined(points[i])&&i<points.length){i=i+1;}return i;}},{key:'filterEmptyPoints',value:function filterEmptyPoints(series){if(series.emptyPointSettings.mode!=='Drop'){return series.points;}var points=extend([],series.points,null,true);for(var i=0;i<points.length;i++){points[i].index=i;if(points[i].isEmpty){points[i].symbolLocations=[];points[i].regions=[];points.splice(i,1);i--;}}return points;}},{key:'findSplineCoefficients',value:function findSplineCoefficients(points,series){var count=points.length;var ySpline=[];var ySplineDuplicate=[];var coefficient1=void 0;var coefficient2=void 0;var coefficient3=void 0;var dy1=void 0;var dy2=void 0;var dx=[];var dy=[];var slope=[];var interPoint=void 0;var slopeLength=void 0;var cardinalSplineTension=series.cardinalSplineTension?series.cardinalSplineTension:0.5;cardinalSplineTension=cardinalSplineTension<0?0:cardinalSplineTension>1?1:cardinalSplineTension;switch(series.splineType){case'Monotonic':for(var i=0;i<count-1;i++){dx[i]=points[i+1].xValue-points[i].xValue;dy[i]=points[i+1].yValue-points[i].yValue;slope[i]=dy[i]/dx[i];}//interpolant points
slopeLength=slope.length;// to find the first and last co-efficient value
ySpline[0]=slope[0];ySpline[count-1]=slope[slopeLength-1];//to find the other co-efficient values
for(var j=0;j<dx.length;j++){if(slopeLength>j+1){if(slope[j]*slope[j+1]<=0){ySpline[j+1]=0;}else{interPoint=dx[j]+dx[j+1];ySpline[j+1]=3*interPoint/((interPoint+dx[j+1])/slope[j]+(interPoint+dx[j])/slope[j+1]);}}}break;case'Cardinal':for(var _i4=0;_i4<count;_i4++){if(_i4===0){ySpline[_i4]=count>2?cardinalSplineTension*(points[_i4+2].xValue-points[_i4].xValue):0;}else if(_i4===count-1){ySpline[_i4]=count>2?cardinalSplineTension*(points[count-1].xValue-points[count-3].xValue):0;}else{ySpline[_i4]=cardinalSplineTension*(points[_i4+1].xValue-points[_i4-1].xValue);}}break;default:if(series.splineType==='Clamped'){var firstIndex=(points[1].yValue-points[0].yValue)/(points[1].xValue-points[0].xValue);var lastIndex=(points[count-1].xValue-points[count-2].xValue)/(points[count-1].yValue-points[count-2].yValue);ySpline[0]=3*(points[1].yValue-points[0].yValue)/(points[1].xValue-points[0].xValue)-3;ySplineDuplicate[0]=0.5;ySpline[points.length-1]=3*(points[points.length-1].yValue-points[points.length-2].yValue)/(points[points.length-1].xValue-points[points.length-2].xValue);ySpline[0]=ySplineDuplicate[0]=Math.abs(ySpline[0])===Infinity?0:ySpline[0];ySpline[points.length-1]=ySplineDuplicate[points.length-1]=Math.abs(ySpline[points.length-1])===Infinity?0:ySpline[points.length-1];}else{// assigning the first and last value as zero
ySpline[0]=ySplineDuplicate[0]=0;ySpline[points.length-1]=0;}for(var _i5=1;_i5<count-1;_i5++){coefficient1=points[_i5].xValue-points[_i5-1].xValue;coefficient2=points[_i5+1].xValue-points[_i5-1].xValue;coefficient3=points[_i5+1].xValue-points[_i5].xValue;dy1=points[_i5+1].yValue-points[_i5].yValue||null;dy2=points[_i5].yValue-points[_i5-1].yValue||null;if(coefficient1===0||coefficient2===0||coefficient3===0){ySpline[_i5]=0;ySplineDuplicate[_i5]=0;}else{var p=1/(coefficient1*ySpline[_i5-1]+2*coefficient2);ySpline[_i5]=-p*coefficient3;ySplineDuplicate[_i5]=p*(6*(dy1/coefficient3-dy2/coefficient1)-coefficient1*ySplineDuplicate[_i5-1]);}}for(var k=count-2;k>=0;k--){ySpline[k]=ySpline[k]*ySpline[k+1]+ySplineDuplicate[k];}break;}return ySpline;}},{key:'getControlPoints',value:function getControlPoints(point1,point2,ySpline1,ySpline2,series){var controlPoint1=void 0;var controlPoint2=void 0;var point=void 0;var ySplineDuplicate1=ySpline1;var ySplineDuplicate2=ySpline2;switch(series.splineType){case'Cardinal':if(series.xAxis.valueType==='DateTime'){ySplineDuplicate1=ySpline1/this.dateTimeInterval(series);ySplineDuplicate2=ySpline2/this.dateTimeInterval(series);}controlPoint1=new ChartLocation(point1.xValue+ySpline1/3,point1.yValue+ySplineDuplicate1/3);controlPoint2=new ChartLocation(point2.xValue-ySpline2/3,point2.yValue-ySplineDuplicate2/3);point=new ControlPoints(controlPoint1,controlPoint2);break;case'Monotonic':var value=(point2.xValue-point1.xValue)/3;controlPoint1=new ChartLocation(point1.xValue+value,point1.yValue+ySpline1*value);controlPoint2=new ChartLocation(point2.xValue-value,point2.yValue-ySpline2*value);point=new ControlPoints(controlPoint1,controlPoint2);break;default:var one3=1/3.0;var deltaX2=point2.xValue-point1.xValue;deltaX2=deltaX2*deltaX2;var y1=one3*(2*point1.yValue+point2.yValue-one3*deltaX2*(ySpline1+0.5*ySpline2));var y2=one3*(point1.yValue+2*point2.yValue-one3*deltaX2*(0.5*ySpline1+ySpline2));controlPoint1=new ChartLocation((2*point1.xValue+point2.xValue)*one3,y1);controlPoint2=new ChartLocation((point1.xValue+2*point2.xValue)*one3,y2);point=new ControlPoints(controlPoint1,controlPoint2);break;}return point;}},{key:'dateTimeInterval',value:function dateTimeInterval(series){var interval=series.xAxis.actualIntervalType;var intervalInMilliseconds=void 0;if(interval==='Years'){intervalInMilliseconds=365*24*60*60*1000;}else if(interval==='Months'){intervalInMilliseconds=30*24*60*60*1000;}else if(interval==='Days'){intervalInMilliseconds=24*60*60*1000;}else if(interval==='Hours'){intervalInMilliseconds=60*60*1000;}else if(interval==='Minutes'){intervalInMilliseconds=60*1000;}else if(interval==='Seconds'){intervalInMilliseconds=1000;}else{intervalInMilliseconds=30*24*60*60*1000;}return intervalInMilliseconds;}},{key:'doAnimation',value:function doAnimation(series){var option=series.animation;this.doLinearAnimation(series,option);}}]);return SplineBase;}(LineBase);_export2('SplineSeries',SplineSeries=function(_SplineBase){_inherits(SplineSeries,_SplineBase);function SplineSeries(){_classCallCheck(this,SplineSeries);return _possibleConstructorReturn(this,(SplineSeries.__proto__||Object.getPrototypeOf(SplineSeries)).apply(this,arguments));}_createClass(SplineSeries,[{key:'render',value:function render(series,xAxis,yAxis,isInverted){var chart=series.chart;var marker=series.marker;var options=void 0;var firstPoint=null;var direction='';var pt1=void 0;var pt2=void 0;var bpt1=void 0;var bpt2=void 0;var data=void 0;var controlPoint1=void 0;var controlPoint2=void 0;var startPoint='M';var points=this.filterEmptyPoints(series);var previous=void 0;var getCoordinate=series.chart.chartAreaType==='PolarRadar'?TransformToVisible:getPoint;var _iteratorNormalCompletion77=true;var _didIteratorError77=false;var _iteratorError77=undefined;try{for(var _iterator77=points[Symbol.iterator](),_step77;!(_iteratorNormalCompletion77=(_step77=_iterator77.next()).done);_iteratorNormalCompletion77=true){var point=_step77.value;previous=this.getPreviousIndex(points,point.index-1,series);point.symbolLocations=[];point.regions=[];if(point.visible&&withInRange(points[previous],point,points[this.getNextIndex(points,point.index-1,series)],series)){if(firstPoint!==null){data=series.drawPoints[previous];controlPoint1=data.controlPoint1;controlPoint2=data.controlPoint2;pt1=getCoordinate(firstPoint.xValue,firstPoint.yValue,xAxis,yAxis,isInverted,series);pt2=getCoordinate(point.xValue,point.yValue,xAxis,yAxis,isInverted,series);bpt1=getCoordinate(controlPoint1.x,controlPoint1.y,xAxis,yAxis,isInverted,series);bpt2=getCoordinate(controlPoint2.x,controlPoint2.y,xAxis,yAxis,isInverted,series);direction=direction.concat(startPoint+' '+pt1.x+' '+pt1.y+' '+'C'+' '+bpt1.x+' '+bpt1.y+' '+bpt2.x+' '+bpt2.y+' '+pt2.x+' '+pt2.y+' ');startPoint='L';}firstPoint=point;this.storePointLocation(point,series,isInverted,getCoordinate);}else{startPoint='M';firstPoint=null;point.symbolLocations=[];}}}catch(err){_didIteratorError77=true;_iteratorError77=err;}finally{try{if(!_iteratorNormalCompletion77&&_iterator77.return){_iterator77.return();}}finally{if(_didIteratorError77){throw _iteratorError77;}}}var name=series.category==='TrendLine'?series.chart.element.id+'_Series_'+series.sourceIndex+'_TrendLine_'+series.index:series.chart.element.id+'_Series_'+series.index;options=new PathOption(name,'transparent',series.width,series.interior,series.opacity,series.dashArray,direction);this.appendLinePath(options,series,'');this.renderMarker(series);}},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the series
         */return'SplineSeries';}},{key:'destroy',value:function destroy(chart){/**
         * Destroy method calling here
         */}}]);return SplineSeries;}(SplineBase));_export2('SplineAreaSeries',SplineAreaSeries=function(_SplineBase2){_inherits(SplineAreaSeries,_SplineBase2);function SplineAreaSeries(){_classCallCheck(this,SplineAreaSeries);return _possibleConstructorReturn(this,(SplineAreaSeries.__proto__||Object.getPrototypeOf(SplineAreaSeries)).apply(this,arguments));}_createClass(SplineAreaSeries,[{key:'render',value:function render(series,xAxis,yAxis,isInverted){var firstPoint=null;var direction='';var startPoint=null;var startPoint1=null;var pt1=void 0;var pt2=void 0;var bpt1=void 0;var bpt2=void 0;var controlPt1=void 0;var controlPt2=void 0;var points=this.filterEmptyPoints(series);var pointsLength=series.points.length;var point=void 0;var previous=void 0;var getCoordinate=series.chart.chartAreaType==='PolarRadar'?TransformToVisible:getPoint;var origin=series.chart.chartAreaType==='PolarRadar'?series.points[0].yValue:Math.max(series.yAxis.visibleRange.min,0);for(var i=0;i<pointsLength;i++){point=series.points[i];point.symbolLocations=[];point.regions=[];previous=this.getPreviousIndex(points,point.index-1,series);if(point.visible&&withInRange(points[previous],point,points[this.getNextIndex(points,point.index-1,series)],series)){if(firstPoint){controlPt1=series.drawPoints[previous].controlPoint1;controlPt2=series.drawPoints[previous].controlPoint2;pt1=getCoordinate(firstPoint.xValue,firstPoint.yValue,xAxis,yAxis,isInverted,series);pt2=getCoordinate(point.xValue,point.yValue,xAxis,yAxis,isInverted,series);bpt1=getCoordinate(controlPt1.x,controlPt1.y,xAxis,yAxis,isInverted,series);bpt2=getCoordinate(controlPt2.x,controlPt2.y,xAxis,yAxis,isInverted,series);direction=direction.concat(' C'+bpt1.x+' '+bpt1.y+' '+bpt2.x+' '+bpt2.y+' '+pt2.x+' '+pt2.y+' ');}else{// Start point for the current path
startPoint=getCoordinate(point.xValue,origin,xAxis,yAxis,isInverted,series);direction+='M '+startPoint.x+' '+startPoint.y+' ';// First Point to draw the area path
startPoint1=getCoordinate(point.xValue,point.yValue,xAxis,yAxis,isInverted,series);direction+='L '+startPoint1.x+' '+startPoint1.y+' ';}this.storePointLocation(point,series,isInverted,getCoordinate);firstPoint=point;}else{firstPoint=null;point.symbolLocations=[];}if((i+1<pointsLength&&!series.points[i+1].visible||i===pointsLength-1)&&pt2&&startPoint){startPoint=getCoordinate(point.xValue,origin,xAxis,yAxis,isInverted,series);direction=direction.concat('L '+startPoint.x+' '+startPoint.y);}}this.appendLinePath(new PathOption(series.chart.element.id+'_Series_'+series.index,series.interior,series.border.width,series.border.color,series.opacity,series.dashArray,direction),series,'');this.renderMarker(series);}},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the series
         */return'SplineAreaSeries';}},{key:'destroy',value:function destroy(chart){/**
         * Destroy method calling here
         */}}]);return SplineAreaSeries;}(SplineBase));TechnicalAnalysis=function(_LineBase9){_inherits(TechnicalAnalysis,_LineBase9);function TechnicalAnalysis(){_classCallCheck(this,TechnicalAnalysis);return _possibleConstructorReturn(this,(TechnicalAnalysis.__proto__||Object.getPrototypeOf(TechnicalAnalysis)).apply(this,arguments));}_createClass(TechnicalAnalysis,[{key:'initSeriesCollection',value:function initSeriesCollection(indicator,chart){indicator.targetSeries=[];var signalLine=new Series(indicator,'targetSeries',{},true);this.setSeriesProperties(signalLine,indicator,'SignalLine',indicator.fill,indicator.width,chart);}},{key:'setSeriesProperties',value:function setSeriesProperties(series,indicator,name,fill,width,chart){series.name=name;series.xName='x';series.yName='y';series.fill=fill||'#606eff';series.dashArray=indicator.dashArray;series.width=width;series.xAxisName=indicator.xAxisName;series.animation=indicator.animation;series.yAxisName=indicator.yAxisName;series.clipRectElement=indicator.clipRectElement;series.points=[];series.enableTooltip=true;series.interior=series.fill;series.category='Indicator';series.index=indicator.index;series.chart=chart;series.xMin=Infinity;series.xMax=-Infinity;series.yMin=Infinity;series.yMax=-Infinity;series.xData=[];series.yData=[];series.marker.visible=false;indicator.targetSeries.push(series);}},{key:'createIndicatorElements',value:function createIndicatorElements(chart,indicator,index){if(indicator.seriesName||indicator.dataSource){findClipRect(indicator.targetSeries[0]);}var clipRect=new Rect(0,0,0,0);if(indicator.seriesName||indicator.dataSource){clipRect=indicator.targetSeries[0].clipRect;}//defines the clip rect element
var clipRectElement=chart.renderer.drawClipPath(new RectOption(chart.element.id+'_ChartIndicatorClipRect_'+index,'transparent',{width:1,color:'Gray'},1,{x:0,y:0,width:clipRect.width,height:clipRect.height}));//creates the group for an indicator
indicator.indicatorElement=chart.renderer.createGroup({'id':chart.element.id+'IndicatorGroup'+index,'transform':'translate('+clipRect.x+','+clipRect.y+')','clip-path':'url(#'+chart.element.id+'_ChartIndicatorClipRect_'+index+')'});indicator.indicatorElement.appendChild(clipRectElement);//Defines a group for each series in a technical indicator
var _iteratorNormalCompletion78=true;var _didIteratorError78=false;var _iteratorError78=undefined;try{for(var _iterator78=indicator.targetSeries[Symbol.iterator](),_step78;!(_iteratorNormalCompletion78=(_step78=_iterator78.next()).done);_iteratorNormalCompletion78=true){var series=_step78.value;series.clipRectElement=clipRectElement;var element=series.chart.renderer.createGroup({'id':series.chart.element.id+'_Indicator_'+indicator.index+'_'+series.name+'_Group'});indicator.indicatorElement.appendChild(element);series.seriesElement=element;}}catch(err){_didIteratorError78=true;_iteratorError78=err;}finally{try{if(!_iteratorNormalCompletion78&&_iterator78.return){_iterator78.return();}}finally{if(_didIteratorError78){throw _iteratorError78;}}}chart.indicatorElements.appendChild(indicator.indicatorElement);}},{key:'getDataPoint',value:function getDataPoint(x,y,sourcePoint,series,index){var indicator=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;var point=new Points();point.x=x;point.y=y;point.xValue=sourcePoint.xValue;point.color=series.fill;point.index=index;point.yValue=y;point.visible=true;series.xMin=Math.min(series.xMin,point.xValue);series.yMin=Math.min(series.yMin,point.yValue);series.xMax=Math.max(series.xMax,point.xValue);series.yMax=Math.max(series.yMax,point.yValue);series.xData.push(point.xValue);if(indicator&&indicator.type==='Macd'&&series.type==='Column'){if(point.y>=0){point.color=indicator.macdPositiveColor;}else{point.color=indicator.macdNegativeColor;}}return point;}},{key:'getRangePoint',value:function getRangePoint(x,high,low,sourcePoint,series,index){var indicator=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;var point=new Points();point.x=x;point.high=high;point.low=low;point.xValue=sourcePoint.xValue;point.color=series.fill;point.index=index;point.visible=true;series.xData.push(point.xValue);return point;}},{key:'setSeriesRange',value:function setSeriesRange(points,indicator){var series=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(!series){indicator.targetSeries[0].points=points;}else{series.points=points;}}}]);return TechnicalAnalysis;}(LineBase);_export2('SmaIndicator',SmaIndicator=function(_TechnicalAnalysis){_inherits(SmaIndicator,_TechnicalAnalysis);function SmaIndicator(){_classCallCheck(this,SmaIndicator);return _possibleConstructorReturn(this,(SmaIndicator.__proto__||Object.getPrototypeOf(SmaIndicator)).apply(this,arguments));}_createClass(SmaIndicator,[{key:'initDataSource',value:function initDataSource(indicator,chart){var smaPoints=[];var points=indicator.points;if(points&&points.length){//prepare data
var validData=points;var field=firstToLowerCase(indicator.field);var xField='x';var signalSeries=indicator.targetSeries[0];if(validData&&validData.length&&validData.length>=indicator.period){//find initial average
var average=0;var sum$$1=0;for(var i=0;i<indicator.period;i++){sum$$1+=validData[i][field];}average=sum$$1/indicator.period;smaPoints.push(this.getDataPoint(validData[indicator.period-1][xField],average,validData[indicator.period-1],signalSeries,smaPoints.length));var index=indicator.period;while(index<validData.length){sum$$1-=validData[index-indicator.period][field];sum$$1+=validData[index][field];average=sum$$1/indicator.period;smaPoints.push(this.getDataPoint(validData[index][xField],average,validData[index],signalSeries,smaPoints.length));index++;}}this.setSeriesRange(smaPoints,indicator);}}},{key:'destroy',value:function destroy(chart){}/**
         * Destroys the SMA indicator
         *//**
     * Get module name.
     */},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the series
         */return'SmaIndicator';}}]);return SmaIndicator;}(TechnicalAnalysis));_export2('EmaIndicator',EmaIndicator=function(_TechnicalAnalysis2){_inherits(EmaIndicator,_TechnicalAnalysis2);function EmaIndicator(){_classCallCheck(this,EmaIndicator);return _possibleConstructorReturn(this,(EmaIndicator.__proto__||Object.getPrototypeOf(EmaIndicator)).apply(this,arguments));}_createClass(EmaIndicator,[{key:'initDataSource',value:function initDataSource(indicator,chart){var field=firstToLowerCase(indicator.field);var xField='x';var emaPoints=[];var signalSeries=indicator.targetSeries[0];//prepare data
var validData=indicator.points;if(validData&&validData.length&&validData.length>=indicator.period){//find initial average
var sum$$1=0;var average=0;//smoothing factor
var k=2/(indicator.period+1);for(var i=0;i<indicator.period;i++){sum$$1+=validData[i][field];}average=sum$$1/indicator.period;emaPoints.push(this.getDataPoint(validData[indicator.period-1][xField],average,validData[indicator.period-1],signalSeries,emaPoints.length));var index=indicator.period;while(index<validData.length){//previous average
var prevAverage=emaPoints[index-indicator.period][signalSeries.yName];var yValue=(validData[index][field]-prevAverage)*k+prevAverage;emaPoints.push(this.getDataPoint(validData[index][xField],yValue,validData[index],signalSeries,emaPoints.length));index++;}}this.setSeriesRange(emaPoints,indicator);}},{key:'destroy',value:function destroy(chart){}/**
         * Destroys the EMA Indicator
         *//**
     * Get module name.
     */},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the series
         */return'EmaIndicator';}}]);return EmaIndicator;}(TechnicalAnalysis));_export2('TmaIndicator',TmaIndicator=function(_TechnicalAnalysis3){_inherits(TmaIndicator,_TechnicalAnalysis3);function TmaIndicator(){_classCallCheck(this,TmaIndicator);return _possibleConstructorReturn(this,(TmaIndicator.__proto__||Object.getPrototypeOf(TmaIndicator)).apply(this,arguments));}_createClass(TmaIndicator,[{key:'initDataSource',value:function initDataSource(indicator,chart){var tmaPoints=[];var field=firstToLowerCase(indicator.field);var xField='x';var signalSeries=indicator.targetSeries[0];//prepare data
var validData=indicator.points;if(validData&&validData.length&&validData.length>=indicator.period){var _signalSeries=indicator.targetSeries[0];//prepare data
var _validData=indicator.points;if(_validData.length&&_validData.length>=indicator.period){//smoothing factor
var k=2/(indicator.period+1);//find initial average
var sum$$1=0;var smaValues=[];//sma values
var index=0;var length=_validData.length;var period=indicator.period;while(length>=period){sum$$1=0;index=_validData.length-length;for(var j=index;j<index+period;j++){sum$$1=sum$$1+_validData[j][field];}sum$$1=sum$$1/period;smaValues.push(sum$$1);length--;}//initial values
for(var _k2=0;_k2<period-1;_k2++){sum$$1=0;for(var _j8=0;_j8<_k2+1;_j8++){sum$$1=sum$$1+_validData[_j8][field];}sum$$1=sum$$1/(_k2+1);smaValues.splice(_k2,0,sum$$1);}index=indicator.period;while(index<=smaValues.length){sum$$1=0;for(var _j9=index-indicator.period;_j9<index;_j9++){sum$$1=sum$$1+smaValues[_j9];}sum$$1=sum$$1/indicator.period;tmaPoints.push(this.getDataPoint(_validData[index-1][xField],sum$$1,_validData[index-1],_signalSeries,tmaPoints.length));index++;}}}this.setSeriesRange(tmaPoints,indicator);}},{key:'destroy',value:function destroy(chart){}/**
         * Destroys the TMA Indicator
         *//**
     * Get module name.
     */},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the series
         */return'TmaIndicator';}}]);return TmaIndicator;}(TechnicalAnalysis));_export2('AccumulationDistributionIndicator',AccumulationDistributionIndicator=function(_TechnicalAnalysis4){_inherits(AccumulationDistributionIndicator,_TechnicalAnalysis4);function AccumulationDistributionIndicator(){_classCallCheck(this,AccumulationDistributionIndicator);return _possibleConstructorReturn(this,(AccumulationDistributionIndicator.__proto__||Object.getPrototypeOf(AccumulationDistributionIndicator)).apply(this,arguments));}_createClass(AccumulationDistributionIndicator,[{key:'initDataSource',value:function initDataSource(indicator,chart){var sourceSeries=indicator.sourceSeries;var adPoints=[];var validData=indicator.points;if(validData.length>0&&validData.length>indicator.period){adPoints=this.calculateADPoints(indicator,validData);}this.setSeriesRange(adPoints,indicator);}},{key:'calculateADPoints',value:function calculateADPoints(indicator,validData){var temp=[];var sum=0;var i=0;var value=0;var high=0;var low=0;var close=0;var signalSeries=indicator.targetSeries[0];for(i=0;i<validData.length;i++){high=Number(validData[i].high);low=Number(validData[i].low);close=Number(validData[i].close);/**
             * Money Flow Multiplier = [(Close -  Low) - (High - Close)] /(High - Low)
             * Money Flow Volume = Money Flow Multiplier x Volume for the Period
             * ADL = Previous ADL + Current Period's Money Flow Volume
             */value=(close-low-(high-close))/(high-low);/**
             * Sum is to calculate the Y values of the Accumulation distribution indicator
             */sum=sum+value*Number(validData[i].volume);/**
             * To calculate the x and y values for the Accumulation distribution indicator
             */temp[i]=this.getDataPoint(validData[i].x,sum,validData[i],signalSeries,temp.length);}return temp;}},{key:'destroy',value:function destroy(chart){}/**
         * Destroys the Accumulation Distribution Technical indicator
         *//**
     * Get module name.
     */},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the Indicator
         */return'AccumulationDistributionIndicator';}}]);return AccumulationDistributionIndicator;}(TechnicalAnalysis));_export2('AtrIndicator',AtrIndicator=function(_TechnicalAnalysis5){_inherits(AtrIndicator,_TechnicalAnalysis5);function AtrIndicator(){_classCallCheck(this,AtrIndicator);return _possibleConstructorReturn(this,(AtrIndicator.__proto__||Object.getPrototypeOf(AtrIndicator)).apply(this,arguments));}_createClass(AtrIndicator,[{key:'initDataSource',value:function initDataSource(indicator,chart){var sourceSeries=indicator.sourceSeries;var validData=indicator.points;if(validData.length>0&&validData.length>indicator.period){this.calculateATRPoints(indicator,validData);}}},{key:'calculateATRPoints',value:function calculateATRPoints(indicator,validData){var average=0;var highLow=0;var highClose=0;var lowClose=0;var trueRange=0;var points=[];var temp=[];var period=indicator.period;var sum=0;var y='y';var signalSeries=indicator.targetSeries[0];for(var i=0;i<validData.length;i++){/**
             * Current High less the current Low
             * Current High less the previous Close (absolute value)
             * Current Low less the previous Close (absolute value)
             */highLow=Number(validData[i].high)-Number(validData[i].low);if(i>0){//
highClose=Math.abs(Number(validData[i].high)-Number(validData[i-1].close));lowClose=Math.abs(Number(validData[i].low)-Number(validData[i-1].close));}/**
             * To find the maximum of highLow, highClose, lowClose
             */trueRange=Math.max(highLow,highClose,lowClose);sum=sum+trueRange;/**
             * Push the x and y values for the Average true range indicator
             */if(i>=period){average=(Number(temp[i-1][y])*(period-1)+trueRange)/period;points.push(this.getDataPoint(validData[i].x,average,validData[i],signalSeries,points.length));}else{average=sum/period;if(i===period-1){points.push(this.getDataPoint(validData[i].x,average,validData[i],signalSeries,points.length));}}temp[i]={x:validData[i].x,y:average};}this.setSeriesRange(points,indicator);}},{key:'destroy',value:function destroy(chart){}/**
         * Destroy the Average true range indicator
         *//**
     * Get module name.
     */},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the Indicator
         */return'AtrIndicator';}}]);return AtrIndicator;}(TechnicalAnalysis));_export2('MomentumIndicator',MomentumIndicator=function(_TechnicalAnalysis6){_inherits(MomentumIndicator,_TechnicalAnalysis6);function MomentumIndicator(){_classCallCheck(this,MomentumIndicator);return _possibleConstructorReturn(this,(MomentumIndicator.__proto__||Object.getPrototypeOf(MomentumIndicator)).apply(this,arguments));}_createClass(MomentumIndicator,[{key:'initSeriesCollection',value:function initSeriesCollection(indicator,chart){_get(MomentumIndicator.prototype.__proto__||Object.getPrototypeOf(MomentumIndicator.prototype),'initSeriesCollection',this).call(this,indicator,chart);var upperLine=new Series(indicator,'targetSeries',{},true);_get(MomentumIndicator.prototype.__proto__||Object.getPrototypeOf(MomentumIndicator.prototype),'setSeriesProperties',this).call(this,upperLine,indicator,'UpperLine',indicator.upperLine.color,indicator.upperLine.width,chart);}},{key:'initDataSource',value:function initDataSource(indicator,chart){var upperCollection=[];var signalCollection=[];var validData=indicator.points;if(validData&&validData.length){var upperSeries=indicator.targetSeries[1];var signalSeries=indicator.targetSeries[0];var length=indicator.period;if(validData.length>=indicator.period){for(var i=0;i<validData.length;i++){upperCollection.push(this.getDataPoint(validData[i].x,100,validData[i],upperSeries,upperCollection.length));if(!(i<length)){signalCollection.push(this.getDataPoint(validData[i].x,Number(validData[i].close)/Number(validData[i-length].close)*100,validData[i],signalSeries,signalCollection.length));}}}this.setSeriesRange(signalCollection,indicator,indicator.targetSeries[0]);this.setSeriesRange(upperCollection,indicator,indicator.targetSeries[1]);}}},{key:'destroy',value:function destroy(chart){}/**
         * Destroys the momentum indicator
         *//**
     * Get module name.
     */},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the series
         */return'MomentumIndicator';}}]);return MomentumIndicator;}(TechnicalAnalysis));_export2('RsiIndicator',RsiIndicator=function(_TechnicalAnalysis7){_inherits(RsiIndicator,_TechnicalAnalysis7);function RsiIndicator(){_classCallCheck(this,RsiIndicator);return _possibleConstructorReturn(this,(RsiIndicator.__proto__||Object.getPrototypeOf(RsiIndicator)).apply(this,arguments));}_createClass(RsiIndicator,[{key:'initSeriesCollection',value:function initSeriesCollection(indicator,chart){_get(RsiIndicator.prototype.__proto__||Object.getPrototypeOf(RsiIndicator.prototype),'initSeriesCollection',this).call(this,indicator,chart);if(indicator.showZones){var lowerLine=new Series(indicator,'targetSeries',{},true);_get(RsiIndicator.prototype.__proto__||Object.getPrototypeOf(RsiIndicator.prototype),'setSeriesProperties',this).call(this,lowerLine,indicator,'LowerLine',indicator.lowerLine.color,indicator.lowerLine.width,chart);var upperLine=new Series(indicator,'targetSeries',{},true);_get(RsiIndicator.prototype.__proto__||Object.getPrototypeOf(RsiIndicator.prototype),'setSeriesProperties',this).call(this,upperLine,indicator,'UpperLine',indicator.upperLine.color,indicator.upperLine.width,chart);}}},{key:'initDataSource',value:function initDataSource(indicator,chart){var signalCollection=[];var lowerCollection=[];var upperCollection=[];var signalSeries=indicator.targetSeries[0];//prepare data
var validData=indicator.points;if(validData.length&&validData.length>=indicator.period){//Find upper band and lower band values
if(indicator.showZones){for(var i=0;i<validData.length;i++){upperCollection.push(this.getDataPoint(validData[i].x,indicator.overBought,validData[i],indicator.targetSeries[1],upperCollection.length));lowerCollection.push(this.getDataPoint(validData[i].x,indicator.overSold,validData[i],indicator.targetSeries[2],lowerCollection.length));}}//Find signal line value
var prevClose=Number(validData[0].close);var gain=0;var loss=0;for(var _i6=1;_i6<=indicator.period;_i6++){var close=Number(validData[_i6].close);if(close>prevClose){gain+=close-prevClose;}else{loss+=prevClose-close;}prevClose=close;}gain=gain/indicator.period;loss=loss/indicator.period;signalCollection.push(this.getDataPoint(validData[indicator.period].x,100-100/(1+gain/loss),validData[indicator.period],signalSeries,signalCollection.length));for(var j=indicator.period+1;j<validData.length;j++){var _close=Number(validData[j].close);if(_close>prevClose){gain=(gain*(indicator.period-1)+(_close-prevClose))/indicator.period;loss=loss*(indicator.period-1)/indicator.period;}else if(_close<prevClose){loss=(loss*(indicator.period-1)+(prevClose-_close))/indicator.period;gain=gain*(indicator.period-1)/indicator.period;}prevClose=_close;signalCollection.push(this.getDataPoint(validData[j].x,100-100/(1+gain/loss),validData[j],signalSeries,signalCollection.length));}}this.setSeriesRange(signalCollection,indicator,indicator.targetSeries[0]);if(indicator.showZones){this.setSeriesRange(upperCollection,indicator,indicator.targetSeries[1]);this.setSeriesRange(lowerCollection,indicator,indicator.targetSeries[2]);}}},{key:'destroy',value:function destroy(chart){}/**
         * Destroys the RSI Indicator
         *//**
     * Get module name.
     */},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the indicator.
         */return'RsiIndicator';}}]);return RsiIndicator;}(TechnicalAnalysis));_export2('StochasticIndicator',StochasticIndicator=function(_TechnicalAnalysis8){_inherits(StochasticIndicator,_TechnicalAnalysis8);function StochasticIndicator(){_classCallCheck(this,StochasticIndicator);return _possibleConstructorReturn(this,(StochasticIndicator.__proto__||Object.getPrototypeOf(StochasticIndicator)).apply(this,arguments));}_createClass(StochasticIndicator,[{key:'initSeriesCollection',value:function initSeriesCollection(indicator,chart){_get(StochasticIndicator.prototype.__proto__||Object.getPrototypeOf(StochasticIndicator.prototype),'initSeriesCollection',this).call(this,indicator,chart);var periodLine=new Series(indicator,'targetSeries',{},true);this.setSeriesProperties(periodLine,indicator,'PeriodLine',indicator.periodLine.color,indicator.periodLine.width,chart);if(indicator.showZones){var upperSeries=new Series(indicator,'targetSeries',{},true);this.setSeriesProperties(upperSeries,indicator,'UpperLine',indicator.upperLine.color,indicator.upperLine.width,chart);var lowerSeries=new Series(indicator,'targetSeries',{},true);this.setSeriesProperties(lowerSeries,indicator,'LowerLine',indicator.lowerLine.color,indicator.lowerLine.width,chart);}}},{key:'initDataSource',value:function initDataSource(indicator,chart){var signalCollection=[];var upperCollection=[];var lowerCollection=[];var periodCollection=[];var source=[];var sourceSeries=indicator.sourceSeries;var validData=indicator.points;if(validData.length&&validData.length>=indicator.period){if(indicator.showZones){for(var i=0;i<validData.length;i++){upperCollection.push(this.getDataPoint(validData[i].x,indicator.overBought,validData[i],indicator.targetSeries[2],upperCollection.length));lowerCollection.push(this.getDataPoint(validData[i].x,indicator.overSold,validData[i],indicator.targetSeries[3],lowerCollection.length));}}source=this.calculatePeriod(indicator.period,indicator.kPeriod,validData,indicator.targetSeries[1]);periodCollection=this.smaCalculation(indicator.period,indicator.kPeriod,source,indicator.targetSeries[1]);signalCollection=this.smaCalculation(indicator.period+indicator.kPeriod-1,indicator.dPeriod,source,indicator.targetSeries[0]);}this.setSeriesRange(signalCollection,indicator,indicator.targetSeries[0]);this.setSeriesRange(periodCollection,indicator,indicator.targetSeries[1]);if(indicator.showZones){this.setSeriesRange(upperCollection,indicator,indicator.targetSeries[2]);this.setSeriesRange(lowerCollection,indicator,indicator.targetSeries[3]);}}},{key:'smaCalculation',value:function smaCalculation(period,kPeriod,data,sourceSeries){var pointCollection=[];if(data.length>=period+kPeriod){var count=period+(kPeriod-1);var temp=[];var values=[];for(var i=0;i<data.length;i++){var value=Number(data[i].y);temp.push(value);}var length=temp.length;while(length>=count){var _sum=0;for(var _i7=period-1;_i7<period+kPeriod-1;_i7++){_sum=_sum+temp[_i7];}_sum=_sum/kPeriod;values.push(_sum.toFixed(2));temp.splice(0,1);length=temp.length;}var len=count-1;for(var _i8=0;_i8<data.length;_i8++){if(!(_i8<len)){pointCollection.push(this.getDataPoint(data[_i8].x,Number(values[_i8-len]),data[_i8],sourceSeries,pointCollection.length));data[_i8].y=Number(values[_i8-len]);}}}return pointCollection;}},{key:'calculatePeriod',value:function calculatePeriod(period,kPeriod,data,series){var lowValues=[];var highValues=[];var closeValues=[];var modifiedSource=[];for(var j=0;j<data.length;j++){lowValues[j]=data[j].low;highValues[j]=data[j].high;closeValues[j]=data[j].close;}if(data.length>period){var mins=[];var maxs=[];for(var i=0;i<period-1;++i){maxs.push(0);mins.push(0);modifiedSource.push(this.getDataPoint(data[i].x,data[i].close,data[i],series,modifiedSource.length));}for(var _i9=period-1;_i9<data.length;++_i9){var min=Number.MAX_VALUE;var max=Number.MIN_VALUE;for(var _j10=0;_j10<period;++_j10){min=Math.min(min,lowValues[_i9-_j10]);max=Math.max(max,highValues[_i9-_j10]);}maxs.push(max);mins.push(min);}for(var _i10=period-1;_i10<data.length;++_i10){var top=0;var bottom=0;top+=closeValues[_i10]-mins[_i10];bottom+=maxs[_i10]-mins[_i10];modifiedSource.push(this.getDataPoint(data[_i10].x,top/bottom*100,data[_i10],series,modifiedSource.length));}}return modifiedSource;}},{key:'destroy',value:function destroy(chart){}/**
         * Destroys the stochastic indicator
         *//**
     * Get module name.
     */},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the indicator.
         */return'StochasticIndicator';}}]);return StochasticIndicator;}(TechnicalAnalysis));_export2('BollingerBands',BollingerBands=function(_TechnicalAnalysis9){_inherits(BollingerBands,_TechnicalAnalysis9);function BollingerBands(){_classCallCheck(this,BollingerBands);return _possibleConstructorReturn(this,(BollingerBands.__proto__||Object.getPrototypeOf(BollingerBands)).apply(this,arguments));}_createClass(BollingerBands,[{key:'initSeriesCollection',value:function initSeriesCollection(indicator,chart){indicator.targetSeries=[];var rangeArea=new Series(indicator,'targetSeries',{},true);rangeArea.type='RangeArea';if(indicator.bandColor!=='transparent'&&indicator.bandColor!=='none'){this.setSeriesProperties(rangeArea,indicator,'BollingerBand',indicator.bandColor,0,chart);}var signalLine=new Series(indicator,'targetSeries',{},true);this.setSeriesProperties(signalLine,indicator,'SignalLine',indicator.fill,indicator.width,chart);var upperLine=new Series(indicator,'targetSeries',{},true);this.setSeriesProperties(upperLine,indicator,'UpperLine',indicator.upperLine.color,indicator.upperLine.width,chart);var lowerLine=new Series(indicator,'targetSeries',{},true);this.setSeriesProperties(lowerLine,indicator,'LowerLine',indicator.lowerLine.color,indicator.lowerLine.width,chart);}},{key:'initDataSource',value:function initDataSource(indicator,chart){var enableBand=indicator.bandColor!=='transparent'&&indicator.bandColor!=='none';var start=enableBand?1:0;var signalCollection=[];var upperCollection=[];var lowerCollection=[];var bandCollection=[];var upperSeries=indicator.targetSeries[start+1];var lowerSeries=indicator.targetSeries[start+2];var signalSeries=indicator.targetSeries[start];var rangeAreaSeries=enableBand?indicator.targetSeries[0]:null;//prepare data
var validData=indicator.points;if(validData.length&&validData.length>=indicator.period){var _sum2=0;var deviationSum=0;var multiplier=indicator.standardDeviation;var limit=validData.length;var length=Math.round(indicator.period);var smaPoints=[];var deviations=[];var bollingerPoints=[];for(var _i11=0;_i11<length;_i11++){_sum2+=Number(validData[_i11].close);}var sma=_sum2/indicator.period;for(var _i12=0;_i12<limit;_i12++){var y=Number(validData[_i12].close);if(_i12>=length-1&&_i12<limit){if(_i12-indicator.period>=0){var diff=y-Number(validData[_i12-length].close);_sum2=_sum2+diff;sma=_sum2/indicator.period;smaPoints[_i12]=sma;deviations[_i12]=Math.pow(y-sma,2);deviationSum+=deviations[_i12]-deviations[_i12-length];}else{smaPoints[_i12]=sma;deviations[_i12]=Math.pow(y-sma,2);deviationSum+=deviations[_i12];}var range=Math.sqrt(deviationSum/indicator.period);var lowerBand=smaPoints[_i12]-multiplier*range;var upperBand=smaPoints[_i12]+multiplier*range;if(_i12+1===length){for(var _j11=0;_j11<length-1;_j11++){bollingerPoints[_j11]={'X':validData[_j11].x,'mb':smaPoints[_i12],'lb':lowerBand,'ub':upperBand,visible:true};}}bollingerPoints[_i12]={'X':validData[_i12].x,'mb':smaPoints[_i12],'lb':lowerBand,'ub':upperBand,visible:true};}else{if(_i12<indicator.period-1){smaPoints[_i12]=sma;deviations[_i12]=Math.pow(y-sma,2);deviationSum+=deviations[_i12];}}}var i=-1;var j=-1;for(var k=0;k<limit;k++){if(k>=length-1){var ub='ub';var lb='lb';var mb='mb';upperCollection.push(this.getDataPoint(validData[k].x,bollingerPoints[k][ub],validData[k],upperSeries,upperCollection.length));lowerCollection.push(this.getDataPoint(validData[k].x,bollingerPoints[k][lb],validData[k],lowerSeries,lowerCollection.length));signalCollection.push(this.getDataPoint(validData[k].x,bollingerPoints[k][mb],validData[k],signalSeries,signalCollection.length));if(enableBand){bandCollection.push(this.getRangePoint(validData[k].x,upperCollection[++i].y,lowerCollection[++j].y,validData[k],rangeAreaSeries,bandCollection.length));}}}}if(enableBand){this.setSeriesRange(bandCollection,indicator,indicator.targetSeries[0]);}this.setSeriesRange(signalCollection,indicator,indicator.targetSeries[start]);this.setSeriesRange(upperCollection,indicator,indicator.targetSeries[start+1]);this.setSeriesRange(lowerCollection,indicator,indicator.targetSeries[start+2]);}},{key:'destroy',value:function destroy(chart){}/**
         * Destroys the bollinger band
         *//**
     * Get module name.
     */},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the series
         */return'BollingerBandsIndicator';}}]);return BollingerBands;}(TechnicalAnalysis));_export2('MacdIndicator',MacdIndicator=function(_TechnicalAnalysis10){_inherits(MacdIndicator,_TechnicalAnalysis10);function MacdIndicator(){_classCallCheck(this,MacdIndicator);return _possibleConstructorReturn(this,(MacdIndicator.__proto__||Object.getPrototypeOf(MacdIndicator)).apply(this,arguments));}_createClass(MacdIndicator,[{key:'initSeriesCollection',value:function initSeriesCollection(indicator,chart){_get(MacdIndicator.prototype.__proto__||Object.getPrototypeOf(MacdIndicator.prototype),'initSeriesCollection',this).call(this,indicator,chart);if(indicator.macdType==='Line'||indicator.macdType==='Both'){var macdSeries=new Series(indicator,'targetSeries',{},true);this.setSeriesProperties(macdSeries,indicator,'MacdLine',indicator.macdLine.color,indicator.macdLine.width,chart);}if(indicator.macdType==='Histogram'||indicator.macdType==='Both'){var histogramSeries=new Series(indicator,'targetSeries',{},true);histogramSeries.type='Column';this.setSeriesProperties(histogramSeries,indicator,'Histogram',indicator.macdPositiveColor,indicator.width,chart);}}},{key:'initDataSource',value:function initDataSource(indicator,chart){var signalCollection=[];var fastPeriod=indicator.fastPeriod;var slowPeriod=indicator.slowPeriod;var trigger=indicator.period;var length=fastPeriod+trigger;var macdCollection=[];var histogramCollection=[];var validData=indicator.points;var signalSeries=indicator.targetSeries[0];var histogramSeries=void 0;var macdLineSeries=void 0;if(indicator.macdType==='Histogram'){histogramSeries=indicator.targetSeries[1];}else{macdLineSeries=indicator.targetSeries[1];if(indicator.macdType==='Both'){histogramSeries=indicator.targetSeries[2];}}if(validData&&length<validData.length&&slowPeriod<=fastPeriod&&slowPeriod>0&&length-2>=0){var shortEMA=this.calculateEMAValues(slowPeriod,validData,'close');var longEMA=this.calculateEMAValues(fastPeriod,validData,'close');var macdValues=this.getMACDVales(indicator,shortEMA,longEMA);macdCollection=this.getMACDPoints(indicator,macdValues,validData,macdLineSeries||signalSeries);var signalEMA=this.calculateEMAValues(trigger,macdCollection,'y');signalCollection=this.getSignalPoints(indicator,signalEMA,validData,signalSeries);if(histogramSeries){histogramCollection=this.getHistogramPoints(indicator,macdValues,signalEMA,validData,histogramSeries);}}this.setSeriesRange(signalCollection,indicator,indicator.targetSeries[0]);if(histogramSeries){this.setSeriesRange(histogramCollection,indicator,histogramSeries);}if(macdLineSeries){this.setSeriesRange(macdCollection,indicator,macdLineSeries);}}},{key:'calculateEMAValues',value:function calculateEMAValues(period,validData,field){var sum=0;var initialEMA=0;var emaValues=[];var emaPercent=2/(period+1);for(var i=0;i<period;i++){sum+=Number(validData[i][field]);}initialEMA=sum/period;emaValues.push(initialEMA);var emaAvg=initialEMA;for(var j=period;j<validData.length;j++){emaAvg=(Number(validData[j][field])-emaAvg)*emaPercent+emaAvg;emaValues.push(emaAvg);}return emaValues;}},{key:'getMACDPoints',value:function getMACDPoints(indicator,macdPoints,validData,series){var macdCollection=[];var dataMACDIndex=indicator.fastPeriod-1;var macdIndex=0;while(dataMACDIndex<validData.length){macdCollection.push(this.getDataPoint(validData[dataMACDIndex].x,macdPoints[macdIndex],validData[dataMACDIndex],series,macdCollection.length));dataMACDIndex++;macdIndex++;}return macdCollection;}},{key:'getSignalPoints',value:function getSignalPoints(indicator,signalEma,validData,series){var dataSignalIndex=indicator.fastPeriod+indicator.period-2;var signalIndex=0;var signalCollection=[];while(dataSignalIndex<validData.length){signalCollection.push(this.getDataPoint(validData[dataSignalIndex].x,signalEma[signalIndex],validData[dataSignalIndex],series,signalCollection.length));dataSignalIndex++;signalIndex++;}return signalCollection;}},{key:'getMACDVales',value:function getMACDVales(indicator,shortEma,longEma){var macdPoints=[];var diff=indicator.fastPeriod-indicator.slowPeriod;for(var i=0;i<longEma.length;i++){macdPoints.push(shortEma[i+diff]-longEma[i]);}return macdPoints;}},{key:'getHistogramPoints',value:function getHistogramPoints(indicator,macdPoints,signalEma,validData,series){var dataHistogramIndex=indicator.fastPeriod+indicator.period-2;var histogramIndex=0;var histogramCollection=[];while(dataHistogramIndex<validData.length){histogramCollection.push(this.getDataPoint(validData[dataHistogramIndex].x,macdPoints[histogramIndex+(indicator.period-1)]-signalEma[histogramIndex],validData[dataHistogramIndex],series,histogramCollection.length,indicator));dataHistogramIndex++;histogramIndex++;}return histogramCollection;}},{key:'destroy',value:function destroy(chart){}/**
         * Destroys the MACD indicator
         *//**
     * Get module name.
     */},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the series
         */return'MacdIndicator';}}]);return MacdIndicator;}(TechnicalAnalysis));_export2('Trendlines',Trendlines=function(){function Trendlines(){_classCallCheck(this,Trendlines);}_createClass(Trendlines,[{key:'initSeriesCollection',value:function initSeriesCollection(trendline,chart){var trendLineSeries=new Series(trendline,'targetSeries',{},true);if(trendline.type==='Linear'||trendline.type==='MovingAverage'){trendLineSeries.type='Line';}else{trendLineSeries.type='Spline';}this.setSeriesProperties(trendLineSeries,trendline,trendline.type,trendline.fill,trendline.width,chart);}},{key:'setSeriesProperties',value:function setSeriesProperties(series,trendline,name,fill,width,chart){series.name=trendline.name;series.xName='x';series.yName='y';series.fill=fill||'blue';series.width=width;series.clipRectElement=trendline.clipRectElement;series.points=[];series.enableTooltip=trendline.enableTooltip;series.index=trendline.index;series.sourceIndex=trendline.sourceIndex;series.interior=series.fill;series.animation=trendline.animation;series.legendShape='HorizontalLine';series.marker=trendline.marker;series.category='TrendLine';series.chart=chart;series.xMin=Infinity;series.xMax=-Infinity;series.yMin=Infinity;series.yMax=-Infinity;series.xData=[];series.yData=[];trendline.targetSeries=series;}},{key:'createTrendLineElements',value:function createTrendLineElements(chart,trendline,index,element,clipRectElement){trendline.trendLineElement=element;trendline.targetSeries.clipRectElement=clipRectElement;trendline.targetSeries.seriesElement=element;chart.trendLineElements.appendChild(trendline.trendLineElement);}},{key:'getDataPoint',value:function getDataPoint(x,y,sourcePoint,series,index){var trendPoint=new Points();trendPoint.x=x;trendPoint.y=y;trendPoint.xValue=Number(x);trendPoint.color=series.fill;trendPoint.index=index;trendPoint.yValue=Number(y);trendPoint.visible=true;series.xMin=Math.min(series.xMin,trendPoint.xValue);series.yMin=Math.min(series.yMin,trendPoint.yValue);series.xMax=Math.max(series.xMax,trendPoint.xValue);series.yMax=Math.max(series.yMax,trendPoint.yValue);series.xData.push(trendPoint.xValue);return trendPoint;}},{key:'findSlopeIntercept',value:function findSlopeIntercept(xValues,yValues,trendline,points){var xAvg=0;var yAvg=0;var xyAvg=0;var xxAvg=0;var yyAvg=0;var index=0;var slope=0;var intercept=0;while(index<points.length){xAvg+=xValues[index];yAvg+=yValues[index];xyAvg+=xValues[index]*yValues[index];xxAvg+=xValues[index]*xValues[index];yyAvg+=yValues[index]*yValues[index];index++;}var type=trendline.type;if(trendline.intercept&&(type==='Linear'||type==='Exponential')){intercept=trendline.intercept;switch(type){case'Linear':slope=(xyAvg-trendline.intercept*xAvg)/xxAvg;break;case'Exponential':slope=(xyAvg-Math.log(Math.abs(trendline.intercept))*xAvg)/xxAvg;break;}}else{slope=(points.length*xyAvg-xAvg*yAvg)/(points.length*xxAvg-xAvg*xAvg);if(type==='Exponential'||type==='Power'){intercept=Math.exp((yAvg-slope*xAvg)/points.length);}else{intercept=(yAvg-slope*xAvg)/points.length;}}return{slope:slope,intercept:intercept};}},{key:'initDataSource',value:function initDataSource(trendline,chart){var points=trendline.points;if(points&&points.length){//prepare data
var trendlineSeries=trendline.targetSeries;switch(trendline.type){case'Linear':this.setLinearRange(points,trendline,trendlineSeries);break;case'Exponential':this.setExponentialRange(points,trendline,trendlineSeries);break;case'MovingAverage':this.setMovingAverageRange(points,trendline,trendlineSeries);break;case'Polynomial':this.setPolynomialRange(points,trendline,trendlineSeries);break;case'Power':this.setPowerRange(points,trendline,trendlineSeries);break;case'Logarithmic':this.setLogarithmicRange(points,trendline,trendlineSeries);break;}if(trendline.type!=='Linear'&&trendline.type!=='MovingAverage'){trendlineSeries.chart.splineSeriesModule.findSplinePoint(trendlineSeries);}}}},{key:'setExponentialRange',value:function setExponentialRange(points,trendline,series){var xValue=[];var yValue=[];var index=0;var slopeIntercept=void 0;while(index<points.length){var point=points[index];xValue.push(point.xValue);yValue.push(Math.log(point.yValue));index++;}slopeIntercept=this.findSlopeIntercept(xValue,yValue,trendline,points);series.points=this.getExponentialPoints(trendline,points,xValue,yValue,series,slopeIntercept);}},{key:'setLogarithmicRange',value:function setLogarithmicRange(points,trendline,series){var xLogValue=[];var yLogValue=[];var xPointsLgr=[];var slopeIntercept=void 0;var index=0;while(index<points.length){var point=points[index];xPointsLgr.push(point.xValue);xLogValue.push(Math.log(point.xValue));yLogValue.push(point.yValue);index++;}slopeIntercept=this.findSlopeIntercept(xLogValue,yLogValue,trendline,points);series.points=this.getLogarithmicPoints(trendline,points,xPointsLgr,yLogValue,series,slopeIntercept);}},{key:'setPolynomialRange',value:function setPolynomialRange(points,trendline,series){var xPolyValues=[];var yPolyValues=[];var index=0;while(index<points.length){var point=points[index];xPolyValues.push(point.xValue);yPolyValues.push(point.yValue);index++;}series.points=this.getPolynomialPoints(trendline,points,xPolyValues,yPolyValues,series);}},{key:'setPowerRange',value:function setPowerRange(points,trendline,series){var xValues=[];var yValues=[];var powerPoints=[];var slopeIntercept=void 0;var index=0;while(index<points.length){var point=points[index];powerPoints.push(point.xValue);xValues.push(Math.log(point.xValue));yValues.push(Math.log(point.yValue));index++;}slopeIntercept=this.findSlopeIntercept(xValues,yValues,trendline,points);series.points=this.getPowerPoints(trendline,points,powerPoints,yValues,series,slopeIntercept);}},{key:'setLinearRange',value:function setLinearRange(points,trendline,series){var xValues=[];var yValues=[];var slopeIntercept=void 0;var index=0;while(index<points.length){var point=points[index];xValues.push(point.xValue);yValues.push(point.yValue);index++;}slopeIntercept=this.findSlopeIntercept(xValues,yValues,trendline,points);series.points=this.getLinearPoints(trendline,points,xValues,yValues,series,slopeIntercept);}},{key:'setMovingAverageRange',value:function setMovingAverageRange(points,trendline,series){var xValues=[];var yValues=[];var xAvgValues=[];var index=0;while(index<points.length){var point=points[index];xAvgValues.push(point.xValue);xValues.push(index+1);yValues.push(point.yValue);index++;}series.points=this.getMovingAveragePoints(trendline,points,xAvgValues,yValues,series);}},{key:'getLogarithmicPoints',value:function getLogarithmicPoints(trendline,points,xValues,yValues,series,slopeInterceptLog){var midPoint=Math.round(points.length/2);var pts=[];var x1Log=xValues[0]-trendline.backwardForecast;var y1Log=slopeInterceptLog.intercept+slopeInterceptLog.slope*Math.log(x1Log);var x2Log=xValues[midPoint-1];var y2Log=slopeInterceptLog.intercept+slopeInterceptLog.slope*Math.log(x2Log);var x3Log=xValues[xValues.length-1]+trendline.forwardForecast;var y3Log=slopeInterceptLog.intercept+slopeInterceptLog.slope*Math.log(x3Log);pts.push(this.getDataPoint(x1Log,y1Log,points[0],series,pts.length));pts.push(this.getDataPoint(x2Log,y2Log,points[midPoint-1],series,pts.length));pts.push(this.getDataPoint(x3Log,y3Log,points[points.length-1],series,pts.length));return pts;}},{key:'getPowerPoints',value:function getPowerPoints(trendline,points,xValues,yValues,series,slopeInterceptPower){var midPoint=Math.round(points.length/2);var pts=[];var x1=xValues[0]-trendline.backwardForecast;x1=x1>-1?x1:0;var y1=slopeInterceptPower.intercept*Math.pow(x1,slopeInterceptPower.slope);var x2=xValues[midPoint-1];var y2=slopeInterceptPower.intercept*Math.pow(x2,slopeInterceptPower.slope);var x3=xValues[xValues.length-1]+trendline.forwardForecast;var y3=slopeInterceptPower.intercept*Math.pow(x3,slopeInterceptPower.slope);pts.push(this.getDataPoint(x1,y1,points[0],series,pts.length));pts.push(this.getDataPoint(x2,y2,points[midPoint-1],series,pts.length));pts.push(this.getDataPoint(x3,y3,points[points.length-1],series,pts.length));return pts;}},{key:'getPolynomialPoints',value:function getPolynomialPoints(trendline,points,xValues,yValues,series){var midPoint=Math.round(points.length/2);var pts=[];var polynomialOrder=points.length<=trendline.polynomialOrder?points.length:trendline.polynomialOrder;polynomialOrder=Math.max(2,polynomialOrder);polynomialOrder=Math.min(6,polynomialOrder);trendline.polynomialOrder=polynomialOrder;trendline.polynomialSlopes=[];trendline.polynomialSlopes.length=trendline.polynomialOrder+1;var index=0;while(index<xValues.length){var xVal=xValues[index];var yVal=yValues[index];var subIndex=0;while(subIndex<=trendline.polynomialOrder){if(!trendline.polynomialSlopes[subIndex]){trendline.polynomialSlopes[subIndex]=0;}trendline.polynomialSlopes[subIndex]+=Math.pow(xVal,subIndex)*yVal;++subIndex;}index++;}var numArray=[];numArray.length=1+2*trendline.polynomialOrder;var matrix=[];matrix.length=trendline.polynomialOrder+1;var newIndex=0;while(newIndex<trendline.polynomialOrder+1){matrix[newIndex]=[];matrix[newIndex].length=3;newIndex++;}var nIndex=0;while(nIndex<xValues.length){var d=xValues[nIndex];var num2=1.0;var nIndex2=0;while(nIndex2<numArray.length){if(!numArray[nIndex2]){numArray[nIndex2]=0;}numArray[nIndex2]+=num2;num2*=d;++nIndex2;}++nIndex;}var nnIndex=0;while(nnIndex<=trendline.polynomialOrder){var nnIndex2=0;while(nnIndex2<=trendline.polynomialOrder){matrix[nnIndex][nnIndex2]=numArray[nnIndex+nnIndex2];++nnIndex2;}++nnIndex;}if(!this.gaussJordanElimination(matrix,trendline.polynomialSlopes)){trendline.polynomialSlopes=null;}pts=this.getPoints(trendline,points,xValues,yValues,series);return pts;}},{key:'getMovingAveragePoints',value:function getMovingAveragePoints(trendline,points,xValues,yValues,series){var pts=[];var period=trendline.period>=points.length?points.length-1:trendline.period;period=Math.max(2,period);var index=0;var y=void 0;var x=void 0;var count=void 0;var nullCount=void 0;while(index<points.length-1){y=count=nullCount=0;for(var j=index;count<period;j++){count++;if(!yValues[j]){nullCount++;}y+=yValues[j];}y=period-nullCount<=0?null:y/(period-nullCount);if(y&&!isNaN(y)){x=xValues[period-1+index];pts.push(this.getDataPoint(x,y,points[period-1+index],series,pts.length));}index++;}return pts;}},{key:'getLinearPoints',value:function getLinearPoints(trendline,points,xValues,yValues,series,slopeInterceptLinear){var pts=[];var x1Linear=xValues[0]-trendline.backwardForecast;var y1Linear=slopeInterceptLinear.slope*x1Linear+slopeInterceptLinear.intercept;var x2Linear=xValues[xValues.length-1]+trendline.forwardForecast;var y2Linear=slopeInterceptLinear.slope*x2Linear+slopeInterceptLinear.intercept;pts.push(this.getDataPoint(x1Linear,y1Linear,points[0],series,pts.length));pts.push(this.getDataPoint(x2Linear,y2Linear,points[points.length-1],series,pts.length));return pts;}},{key:'getExponentialPoints',value:function getExponentialPoints(trendline,points,xValues,yValues,series,slopeInterceptExp){var midPoint=Math.round(points.length/2);var ptsExp=[];var x1=xValues[0]-trendline.backwardForecast;var y1=slopeInterceptExp.intercept*Math.exp(slopeInterceptExp.slope*x1);var x2=xValues[midPoint-1];var y2=slopeInterceptExp.intercept*Math.exp(slopeInterceptExp.slope*x2);var x3=xValues[xValues.length-1]+trendline.forwardForecast;var y3=slopeInterceptExp.intercept*Math.exp(slopeInterceptExp.slope*x3);ptsExp.push(this.getDataPoint(x1,y1,points[0],series,ptsExp.length));ptsExp.push(this.getDataPoint(x2,y2,points[midPoint-1],series,ptsExp.length));ptsExp.push(this.getDataPoint(x3,y3,points[points.length-1],series,ptsExp.length));return ptsExp;}},{key:'getPoints',value:function getPoints(trendline,points,xValues,yValues,series){var midPoint=Math.round(points.length/2);var polynomialSlopes=trendline.polynomialSlopes;var pts=[];var x1=1;var index=1;var xValue=void 0;var yValue=void 0;while(index<=polynomialSlopes.length){if(index===1){xValue=xValues[0]-trendline.backwardForecast;yValue=this.getPolynomialYValue(polynomialSlopes,xValue);pts.push(this.getDataPoint(xValue,yValue,points[0],series,pts.length));}else if(index===polynomialSlopes.length){xValue=xValues[points.length-1]+trendline.forwardForecast;yValue=this.getPolynomialYValue(polynomialSlopes,xValue);pts.push(this.getDataPoint(xValue,yValue,points[points.length-1],series,pts.length));}else{x1+=(points.length+trendline.forwardForecast)/polynomialSlopes.length;xValue=xValues[parseInt(x1.toString(),10)-1];yValue=this.getPolynomialYValue(polynomialSlopes,xValue);pts.push(this.getDataPoint(xValue,yValue,points[parseInt(x1.toString(),10)-1],series,pts.length));}index++;}return pts;}},{key:'getPolynomialYValue',value:function getPolynomialYValue(slopes,x){var sum$$1=0;var index=0;while(index<slopes.length){sum$$1+=slopes[index]*Math.pow(x,index);index++;}return sum$$1;}},{key:'gaussJordanElimination',value:function gaussJordanElimination(matrix,polynomialSlopes){var length=matrix.length;var numArray1=[];var numArray2=[];var numArray3=[];numArray1.length=length;numArray2.length=length;numArray3.length=length;var index=0;while(index<length){numArray3[index]=0;++index;}var index1=0;while(index1<length){var num1=0;var index2=0;var index3=0;var index4=0;while(index4<length){if(numArray3[index4]!==1){var index5=0;while(index5<length){if(numArray3[index5]===0&&Math.abs(matrix[index4][index5])>=num1){num1=Math.abs(matrix[index4][index5]);index2=index4;index3=index5;}++index5;}}++index4;}++numArray3[index3];if(index2!==index3){var _index=0;while(_index<length){var num2=matrix[index2][_index];matrix[index2][_index]=matrix[index3][_index];matrix[index3][_index]=num2;++_index;}var num3=polynomialSlopes[index2];polynomialSlopes[index2]=polynomialSlopes[index3];polynomialSlopes[index3]=num3;}numArray2[index1]=index2;numArray1[index1]=index3;if(matrix[index3][index3]===0.0){return false;}var num4=1.0/matrix[index3][index3];matrix[index3][index3]=1.0;var iindex4=0;while(iindex4<length){matrix[index3][iindex4]*=num4;++iindex4;}polynomialSlopes[index3]*=num4;var iandex4=0;while(iandex4<length){if(iandex4!==index3){var _num=matrix[iandex4][index3];matrix[iandex4][index3]=0.0;var _index2=0;while(_index2<length){matrix[iandex4][_index2]-=matrix[index3][_index2]*_num;++_index2;}polynomialSlopes[iandex4]-=polynomialSlopes[index3]*_num;}++iandex4;}++index1;}var iindex1=length-1;while(iindex1>=0){if(numArray2[iindex1]!==numArray1[iindex1]){var iindex2=0;while(iindex2<length){var num=matrix[iindex2][numArray2[iindex1]];matrix[iindex2][numArray2[iindex1]]=matrix[iindex2][numArray1[iindex1]];matrix[iindex2][numArray1[iindex1]]=num;++iindex2;}}--iindex1;}return true;}},{key:'getTrendLineElements',value:function getTrendLineElements(series,chart){findClipRect(series);var clipRect=series.clipRect;var clipRectElement=chart.renderer.drawClipPath(new RectOption(chart.element.id+'_ChartTrendlineClipRect_'+series.index,'transparent',{width:1,color:'Gray'},1,{x:0,y:0,width:clipRect.width,height:clipRect.height}));var element=void 0;element=chart.renderer.createGroup({'id':chart.element.id+'TrendlineSeriesGroup'+series.index,'transform':'translate('+clipRect.x+','+clipRect.y+')','clip-path':'url(#'+chart.element.id+'_ChartTrendlineClipRect_'+series.index+')'});//defines the clip rect element
element.appendChild(clipRectElement);var _iteratorNormalCompletion79=true;var _didIteratorError79=false;var _iteratorError79=undefined;try{for(var _iterator79=series.trendlines[Symbol.iterator](),_step79;!(_iteratorNormalCompletion79=(_step79=_iterator79.next()).done);_iteratorNormalCompletion79=true){var trendline=_step79.value;this.createTrendLineElements(chart,trendline,trendline.index,element,clipRectElement);}}catch(err){_didIteratorError79=true;_iteratorError79=err;}finally{try{if(!_iteratorNormalCompletion79&&_iterator79.return){_iterator79.return();}}finally{if(_didIteratorError79){throw _iteratorError79;}}}}},{key:'destroy',value:function destroy(chart){}/**
         * Destroys the Linear Trendline
         *//**
     * Get module name
     */},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the series
         */return'TrendLine';}}]);return Trendlines;}());_export2('Crosshair',Crosshair=function(){/**
     * Constructor for crosshair module.
     * @private
     */function Crosshair(chart){_classCallCheck(this,Crosshair);this.arrowLocation=new ChartLocation(0,0);this.rx=2;this.ry=2;this.chart=chart;this.elementID=this.chart.element.id;this.addEventListener();}/**
     * @hidden
     */_createClass(Crosshair,[{key:'addEventListener',value:function addEventListener(){if(this.chart.isDestroyed){return;}var cancelEvent=Browser.isPointer?'pointerleave':'mouseleave';this.chart.on(Browser.touchMoveEvent,this.mouseMoveHandler,this);this.chart.on(Browser.touchEndEvent,this.mouseUpHandler,this);this.chart.on(cancelEvent,this.mouseLeaveHandler,this);this.chart.on('tapHold',this.longPress,this);}},{key:'mouseUpHandler',value:function mouseUpHandler(){if(this.chart.startMove){this.removeCrosshair(2000);}}},{key:'mouseLeaveHandler',value:function mouseLeaveHandler(){this.removeCrosshair(1000);}},{key:'mouseMoveHandler',value:function mouseMoveHandler(event){var chart=this.chart;if(event.type==='touchmove'&&(Browser.isIos||Browser.isIos7)&&chart.startMove&&event.preventDefault){event.preventDefault();}// Tooltip for chart series.
if(!chart.disableTrackTooltip){if(withInBounds(chart.mouseX,chart.mouseY,chart.chartAxisLayoutPanel.seriesClipRect)){if(chart.startMove||!chart.isTouch){this.crosshair();}}else{this.removeCrosshair(1000);}}}},{key:'longPress',value:function longPress(){var chart=this.chart;if(withInBounds(chart.mouseX,chart.mouseY,chart.chartAxisLayoutPanel.seriesClipRect)){this.crosshair();}return false;}},{key:'crosshair',value:function crosshair(){var chart=this.chart;var horizontalCross='';var verticalCross='';var options=void 0;var crosshair=chart.crosshair;var chartRect=chart.chartAxisLayoutPanel.seriesClipRect;var crossGroup=document.getElementById(this.elementID+'_UserInteraction');this.stopAnimation();if(chart.tooltip.enable&&!withInBounds(chart.tooltipModule.valueX,chart.tooltipModule.valueY,chartRect)){return null;}this.valueX=chart.tooltip.enable?chart.tooltipModule.valueX:chart.mouseX;this.valueY=chart.tooltip.enable?chart.tooltipModule.valueY:chart.mouseY;crossGroup.setAttribute('opacity','1');if(crosshair.lineType==='Both'||crosshair.lineType==='Horizontal'){horizontalCross+='M '+chartRect.x+' '+this.valueY+' L '+(chartRect.x+chartRect.width)+' '+this.valueY;}if(crosshair.lineType==='Both'||crosshair.lineType==='Vertical'){verticalCross+='M '+this.valueX+' '+chartRect.y+' L '+this.valueX+' '+(chartRect.y+chartRect.height);}if(crossGroup.childNodes.length===0){var axisTooltipGroup=chart.renderer.createGroup({'id':this.elementID+'_crosshair_axis'});options=new PathOption(this.elementID+'_HorizontalLine','none',crosshair.line.width,crosshair.line.color||chart.themeStyle.crosshairLine,1,null,horizontalCross);this.renderCrosshairLine(options,crossGroup);options.d=verticalCross;options.id=this.elementID+'_VerticalLine';this.renderCrosshairLine(options,crossGroup);crossGroup.appendChild(axisTooltipGroup);this.renderAxisTooltip(chart,chartRect,crossGroup.lastChild);}else{document.getElementById(this.elementID+'_HorizontalLine').setAttribute('d',horizontalCross);document.getElementById(this.elementID+'_VerticalLine').setAttribute('d',verticalCross);this.renderAxisTooltip(chart,chartRect,crossGroup.lastChild);}}},{key:'renderCrosshairLine',value:function renderCrosshairLine(options,crossGroup){var htmlObject=this.chart.renderer.drawPath(options);crossGroup.appendChild(htmlObject);}},{key:'renderAxisTooltip',value:function renderAxisTooltip(chart,chartRect,axisGroup){var axis=void 0;var text=void 0;var rect=void 0;var pathElement=void 0;var textElem=void 0;var options=void 0;var padding=5;var direction=void 0;var axisRect=void 0;for(var k=0,length=chart.axisCollections.length;k<length;k++){axis=chart.axisCollections[k];axisRect=!axis.placeNextToAxisLine?axis.rect:axis.updatedRect;if(axis.crosshairTooltip.enable){if(this.valueX<=axisRect.x+axisRect.width&&axisRect.x<=this.valueX||this.valueY<=axisRect.y+axisRect.height&&axisRect.y<=this.valueY){pathElement=document.getElementById(this.elementID+'_axis_tooltip_'+k);textElem=document.getElementById(this.elementID+'_axis_tooltip_text_'+k);text=this.getAxisText(axis);if(!text){continue;}rect=this.tooltipLocation(text,axis,chartRect,axisRect);if(pathElement===null){pathElement=chart.renderer.drawPath({'id':this.elementID+'_axis_tooltip_'+k,'fill':axis.crosshairTooltip.fill||chart.themeStyle.crosshairFill});axisGroup.appendChild(pathElement);options=new TextOption(this.elementID+'_axis_tooltip_text_'+k,0,0,'start',text);textElem=textElement(options,axis.crosshairTooltip.textStyle,axis.crosshairTooltip.textStyle.color||chart.themeStyle.crosshairLabel,axisGroup);}direction=findDirection(this.rx,this.ry,rect,this.arrowLocation,10,this.isTop,this.isBottom,this.isLeft,this.valueX,this.valueY);pathElement.setAttribute('d',direction);textElem.textContent=text;textElem.setAttribute('x',(rect.x+padding).toString());textElem.setAttribute('y',(rect.y+padding+3*this.elementSize.height/4).toString());}else{removeElement(this.elementID+'_axis_tooltip_'+k);removeElement(this.elementID+'_axis_tooltip_text_'+k);}}}}},{key:'getAxisText',value:function getAxisText(axis){var value=void 0;this.isBottom=false;this.isTop=false;this.isLeft=false;this.isRight=false;var labelValue=axis.valueType==='Category'&&axis.labelPlacement==='BetweenTicks'?0.5:0;if(axis.orientation==='Horizontal'){value=getValueXByPoint(Math.abs(this.valueX-axis.rect.x),axis.rect.width,axis)+labelValue;this.isBottom=!axis.opposedPosition;this.isTop=axis.opposedPosition;}else{value=getValueYByPoint(Math.abs(this.valueY-axis.rect.y),axis.rect.height,axis)+labelValue;this.isRight=axis.opposedPosition;this.isLeft=!axis.opposedPosition;}if(axis.valueType==='DateTime'){return axis.format(new Date(value));}else if(axis.valueType==='Category'){return axis.labels[Math.floor(value)];}else if(axis.valueType==='Logarithmic'){return value=axis.format(Math.pow(axis.logBase,value));}else{var customLabelFormat=axis.labelFormat&&axis.labelFormat.match('{value}')!==null;return customLabelFormat?axis.labelFormat.replace('{value}',axis.format(value)):axis.format(value);}}},{key:'tooltipLocation',value:function tooltipLocation(text,axis,bounds,axisRect){var padding=5;var arrowPadding=10;var tooltipRect=void 0;var boundsX=bounds.x;var boundsY=bounds.y;var islabelInside=axis.labelPosition==='Inside';this.elementSize=measureText(text,axis.crosshairTooltip.textStyle);if(axis.orientation==='Horizontal'){var yLocation=islabelInside?axisRect.y-this.elementSize.height-(padding*2+arrowPadding):axisRect.y;var height=islabelInside?axisRect.y-this.elementSize.height-arrowPadding:axisRect.y+arrowPadding;this.arrowLocation=new ChartLocation(this.valueX,yLocation);tooltipRect=new Rect(this.valueX-this.elementSize.width/2-padding,height,this.elementSize.width+padding*2,this.elementSize.height+padding*2);if(axis.opposedPosition){tooltipRect.y=islabelInside?axisRect.y:axisRect.y-(this.elementSize.height+padding*2+arrowPadding);}if(tooltipRect.x<boundsX){tooltipRect.x=boundsX;}if(tooltipRect.x+tooltipRect.width>boundsX+bounds.width){tooltipRect.x-=tooltipRect.x+tooltipRect.width-(boundsX+bounds.width);}if(this.arrowLocation.x+arrowPadding/2>tooltipRect.x+tooltipRect.width-this.rx){this.arrowLocation.x=tooltipRect.x+tooltipRect.width-this.rx-arrowPadding/2;}if(this.arrowLocation.x-arrowPadding/2<tooltipRect.x+this.rx){this.arrowLocation.x=tooltipRect.x+this.rx+arrowPadding/2;}}else{this.arrowLocation=new ChartLocation(axisRect.x,this.valueY);var width=islabelInside?axisRect.x:axisRect.x-this.elementSize.width-(padding*2+arrowPadding);tooltipRect=new Rect(width,this.valueY-this.elementSize.height/2-padding,this.elementSize.width+padding*2,this.elementSize.height+padding*2);if(axis.opposedPosition){tooltipRect.x=islabelInside?axisRect.x-this.elementSize.width-arrowPadding:axisRect.x+arrowPadding;if(tooltipRect.x+tooltipRect.width>this.chart.availableSize.width){this.arrowLocation.x-=tooltipRect.x+tooltipRect.width-this.chart.availableSize.width;tooltipRect.x-=tooltipRect.x+tooltipRect.width-this.chart.availableSize.width;}}else{if(tooltipRect.x<0){this.arrowLocation.x-=tooltipRect.x;tooltipRect.x=0;}}if(tooltipRect.y<boundsY){tooltipRect.y=boundsY;}if(tooltipRect.y+tooltipRect.height>=boundsY+bounds.height){tooltipRect.y-=tooltipRect.y+tooltipRect.height-(boundsY+bounds.height);}if(this.arrowLocation.y+arrowPadding/2>tooltipRect.y+tooltipRect.height-this.ry){this.arrowLocation.y=tooltipRect.y+tooltipRect.height-this.ry-arrowPadding/2;}if(this.arrowLocation.y-arrowPadding/2<tooltipRect.y+this.ry){this.arrowLocation.y=tooltipRect.y+this.ry+arrowPadding/2;}}return tooltipRect;}},{key:'stopAnimation',value:function stopAnimation(){stopTimer(this.crosshairInterval);}},{key:'removeCrosshair',value:function removeCrosshair(duration){var chart=this.chart;var crosshair=document.getElementById(this.elementID+'_UserInteraction');this.stopAnimation();if(crosshair&&crosshair.getAttribute('opacity')!=='0'){this.crosshairInterval=setTimeout(function(){new Animation({}).animate(crosshair,{duration:200,progress:function progress(args){// crosshair.removeAttribute('e-animate');
crosshair.style.animation='';crosshair.setAttribute('opacity',(1-args.timeStamp/args.duration).toString());},end:function end(model){crosshair.setAttribute('opacity','0');chart.startMove=false;if(chart.tooltipModule){chart.tooltipModule.valueX=null;chart.tooltipModule.valueY=null;}}});},duration);}}},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name
         */return'Crosshair';}},{key:'destroy',value:function destroy(chart){/**
         * Destroy method performed here
         */}}]);return Crosshair;}());BaseTooltip=function(_ChartData2){_inherits(BaseTooltip,_ChartData2);/**
     * Constructor for tooltip module.
     * @private.
     */function BaseTooltip(chart){_classCallCheck(this,BaseTooltip);var _this94=_possibleConstructorReturn(this,(BaseTooltip.__proto__||Object.getPrototypeOf(BaseTooltip)).call(this,chart));_this94.padding=5;_this94.arrowPadding=12;_this94.rx=2;_this94.ry=2;_this94.markerPoint=[];_this94.element=_this94.chart.element;_this94.textStyle=chart.tooltip.textStyle;_this94.control=chart;return _this94;}_createClass(BaseTooltip,[{key:'getElement',value:function getElement(id){return document.getElementById(id);}},{key:'getTooltipElement',value:function getTooltipElement(isTooltip){this.inverted=this.chart.requireInvertedAxis;this.updateTemplateFn(this.control);this.formattedText=[];this.header=this.control.tooltip.header===null?this.control.tooltip.shared?'<b>${point.x}</b>':'<b>${series.name}</b>':this.control.tooltip.header;if(!isTooltip){var elementCollection=document.getElementsByClassName('ejSVGTooltip');for(var i=elementCollection.length-1;i>=0;i--){if(!this.getElement(this.element.id).contains(elementCollection[i])){elementCollection[i].remove();}}return this.createElement(this.control);}return null;}},{key:'createElement',value:function createElement(chart){this.textElements=[];var tooltipDiv=document.createElement('div');tooltipDiv.id=this.element.id+'_tooltip';tooltipDiv.className='ejSVGTooltip';tooltipDiv.setAttribute('style','pointer-events:none; position:absolute;z-index: 1');if(!chart.tooltip.template||chart.tooltip.shared){// SVG element for tooltip
var svgObject=chart.renderer.createSvg({id:this.element.id+'_tooltip_svg'});tooltipDiv.appendChild(svgObject);// Group to hold text and path.
var groupElement=chart.renderer.createGroup({id:this.element.id+'_tooltip_group'});svgObject.appendChild(groupElement);var pathElement=chart.renderer.drawPath({'id':this.element.id+'_tooltip_path','stroke-width':chart.tooltip.border.width,'fill':chart.tooltip.fill||chart.themeStyle.tooltipFill,'opacity':chart.tooltip.opacity,'stroke':chart.tooltip.border.color});groupElement.appendChild(pathElement);}return tooltipDiv;}},{key:'pushData',value:function pushData(data,isFirst,tooltipDiv,isChart){if(data.series.enableTooltip){if(isChart){this.currentPoints.push(data);}else{this.currentPoints.push(data);}this.stopAnimation();if(isFirst){document.getElementById(this.element.id+'_Secondary_Element').appendChild(tooltipDiv);}return true;}return false;}},{key:'renderTooltip',value:function renderTooltip(data,areaRect,location,textCollection,isFirst,cartesain){if(this.triggerEvent(data,isFirst,textCollection)){this.renderText(isFirst,this.control);this.removeHighlight(this.control);this.highlightPoints(data);return this.renderTooltipElement(this.control,data,areaRect,location,cartesain,isFirst);}else{this.removeHighlight(this.control);this.getElement(this.element.id+'_tooltip').remove();return null;}}},{key:'renderTemplate',value:function renderTemplate(data,rect,location,point,isFirst){this.removeHighlight(this.control);this.createTemplate(point,data,rect,location,this.getElement(this.element.id+'_tooltip'),isFirst);}},{key:'renderTooltipElement',value:function renderTooltipElement(chart,pointData,areaRect,location,cartesain,isFirst){var tooltipDiv=this.getElement(this.element.id+'_tooltip');var arrowLocation=new ChartLocation(0,0);var tipLocation=new ChartLocation(0,0);var svgObject=this.getElement(this.element.id+'_tooltip_svg');var groupElement=this.getElement(this.element.id+'_tooltip_group');var pathElement=this.getElement(this.element.id+'_tooltip_path');var rect=void 0;var isTop=false;var isLeft=false;var isBottom=false;var x=0;var y=0;this.tipRadius=1;var series=pointData.series;if(this.header!==''){this.elementSize.height+=5;}if(this.currentPoints.length>1){this.arrowPadding=0;rect=this.sharedTooltipLocation(areaRect,this.valueX,this.valueY);isTop=true;}else{this.arrowPadding=12;rect=this.seriesTooltipLocation(pointData,areaRect,location,arrowLocation,tipLocation);if(!this.inverted||!series.isRectSeries){isTop=rect.y<location.y+(cartesain?series.clipRect.y:0);isBottom=!isTop;y=isTop?0:this.arrowPadding;}else{isLeft=rect.x<location.x+series.clipRect.x;x=isLeft?0:this.arrowPadding;}}if(this.header!==''){var headerSize=measureText(this.header,chart.tooltip.textStyle).height+this.padding*2+(isBottom?this.arrowPadding:0);//header padding;
var xLength=this.padding*3+(!isLeft&&!isTop&&!isBottom?this.arrowPadding:0);var direction='M '+xLength+' '+headerSize+'L '+(rect.width+(!isLeft&&!isTop&&!isBottom?this.arrowPadding:0)-this.padding*2)+' '+headerSize;var _pathElement=this.chart.renderer.drawPath({'id':this.element.id+'_header_path','stroke-width':1,'fill':null,'opacity':0.8,'stroke':chart.themeStyle.tooltipHeaderLine,'d':direction});groupElement.appendChild(_pathElement);}var start=chart.tooltip.border.width/2;var pointRect=new Rect(start+x,start+y,rect.width-start,rect.height-start);groupElement.setAttribute('opacity','1');if(chart.tooltip.enableAnimation&&!chart.tooltip.shared&&!isFirst&&!this.isComplete){this.animateTooltipDiv(tooltipDiv,rect);}else{this.updateDiv(tooltipDiv,rect.x,rect.y);}this.isComplete=false;svgObject.setAttribute('height',(rect.height+chart.tooltip.border.width+(!(!this.inverted||!pointData.series.isRectSeries)?0:this.arrowPadding)).toString());svgObject.setAttribute('width',(rect.width+chart.tooltip.border.width+(!this.inverted||!pointData.series.isRectSeries?0:this.arrowPadding)).toString());svgObject.setAttribute('opacity','1');pathElement.setAttribute('d',findDirection(this.rx,this.ry,pointRect,arrowLocation,this.arrowPadding,isTop,isBottom,isLeft,tipLocation.x,tipLocation.y,this.tipRadius));pathElement.setAttribute('filter',Browser.isIE?'':'url(#chart_shadow_tooltip)');var shadowElement='<filter id="chart_shadow_tooltip" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="3"/>';shadowElement+='<feOffset dx="3" dy="3" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="0.5"/>';shadowElement+='</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';var defElement=chart.renderer.createDefs();defElement.setAttribute('id','chart_tooltip_definition');groupElement.appendChild(defElement);defElement.innerHTML=shadowElement;pathElement.setAttribute('stroke',chart.tooltip.border.color);this.changeText(new ChartLocation(x,y),isBottom,!isLeft&&!isTop&&!isBottom,rect);return new Side(isBottom,!isLeft&&!isTop&&!isBottom);}},{key:'changeText',value:function changeText(point,isBottom,isRight,rect){var element=document.getElementById(this.element.id+'_tooltip_text');if(isBottom){element.setAttribute('transform','translate(0,'+this.arrowPadding+')');}if(isRight){element.setAttribute('transform','translate('+this.arrowPadding+' 0)');}}},{key:'renderText',value:function renderText(isRender,chart){var height=0;var width=0;// Padding for text;
var subWidth=0;var size=void 0;var lines=void 0;var key='properties';var font=extend({},this.chart.tooltip.textStyle,null,true)[key];var groupElement=this.getElement(this.element.id+'_tooltip_group');var tspanElement=void 0;var tspanStyle='';var line=void 0;var tspanOption=void 0;this.header=this.header.replace(/<b>/g,'').replace(/<\/b>/g,'').trim();var headerSpace=this.header!==''&&this.formattedText[0]!==''?5:0;var isRow=true;var isColumn=true;this.markerPoint=[];var markerSize=10;var spaceWidth=4;var dy=22/parseFloat(Theme.tooltipLabelFont.size)*parseFloat(font.size);if(!isRender){removeElement(this.element.id+'_tooltip_text');removeElement(this.element.id+'_header_path');removeElement(this.element.id+'_tooltip_trackball_group');removeElement('chart_tooltip_definition');}var options=new TextOption(this.element.id+'_tooltip_text',this.padding*2,this.padding*4,'start','');var parentElement=textElement(options,font,null,groupElement,false);for(var k=0,pointsLength=this.formattedText.length;k<pointsLength;k++){var textCollection=this.formattedText[k].replace(/<(b|strong)>/g,'<b>').replace(/<\/(b|strong)>/g,'</b>').split(/<br.*?>/g);size=measureText(this.formattedText[k],font);if(k!==0||this.header===''){this.markerPoint.push((this.header!==''?this.padding:0)+options.y+height);}for(var i=0,len=textCollection.length;i<len;i++){lines=textCollection[i].replace(/<b>/g,'<br><b>').replace(/<\/b>/g,'</b><br>').split('<br>');subWidth=0;isColumn=true;height+=dy;for(var _k3=0,_len8=lines.length;_k3<_len8;_k3++){line=lines[_k3];if(line.replace(/<b>/g,'').replace(/<\/b>/g,'').trim()!==''){subWidth+=spaceWidth;if(isColumn&&!isRow){tspanOption={x:this.padding*2+(markerSize+5),dy:dy+(isColumn?headerSpace:0),fill:''};headerSpace=null;}else{if(isRow&&isColumn){tspanOption={x:this.header===''?this.padding*2+(markerSize+5):this.padding*2};}else{tspanOption={};}}isColumn=false;tspanElement=chart.renderer.createTSpan(tspanOption,'');parentElement.appendChild(tspanElement);if(line.indexOf('<b>')>-1){tspanStyle='font-weight:bold';font.fontWeight='bold';tspanElement.setAttribute('fill',chart.tooltip.textStyle.color||chart.themeStyle.tooltipBoldLabel);}else{tspanStyle='';font.fontWeight='Normal';tspanElement.setAttribute('fill',chart.tooltip.textStyle.color||chart.themeStyle.tooltipLightLabel);}tspanElement.textContent=line=line.replace(/<[a-zA-Z\/](.|\n)*?>/g,'');subWidth+=measureText(line,font).width;if(tspanStyle!==''){tspanElement.setAttribute('style',tspanStyle);}isRow=false;}}subWidth-=spaceWidth;width=Math.max(width,subWidth);}}height-=this.header?this.padding:0;this.elementSize=new Size(width+(width>0?2*this.padding:0),height+(this.header!==''?this.padding:0));this.elementSize.width+=markerSize+5;// marker size + marker Spacing
var element=parentElement.childNodes[0];if(this.header!==''&&element){font.fontWeight='bold';var _width=(this.elementSize.width+2*this.padding)/2-measureText(this.header,font).width/2;element.setAttribute('x',_width.toString());}}},{key:'createTemplate',value:function createTemplate(point,data,areaRect,location,parent,isFirst){var chart=this.control;this.highlightPoints(data);var argsData={cancel:false,name:tooltipRender,point:data.point,series:data.series};this.chart.trigger(tooltipRender,argsData);var firstElement=this.getElement(this.element.id+'_tooltip').firstChild;if(firstElement){firstElement.remove();}if(!argsData.cancel){var templateElement=this.templateFn(point);var elem=createElement('div');while(templateElement.length>0){elem.appendChild(templateElement[0]);}parent.appendChild(elem);var rect=parent.getBoundingClientRect();this.padding=0;this.elementSize=new Size(rect.width,rect.height);var tooltipRect=this.seriesTooltipLocation(data,areaRect,location,new ChartLocation(0,0),new ChartLocation(0,0));if(chart.tooltip.enableAnimation&&!chart.tooltip.shared&&!isFirst&&!this.isComplete){this.animateTooltipDiv(parent,tooltipRect);}else{this.updateDiv(parent,tooltipRect.x,tooltipRect.y);}this.isComplete=false;}else{this.removeHighlight(chart);this.getElement(this.element.id+'_tooltip').remove();}}},{key:'sharedTooltipLocation',value:function sharedTooltipLocation(bounds,x,y){var width=this.elementSize.width+2*this.padding;var height=this.elementSize.height+2*this.padding;var tooltipRect=new Rect(x+2*this.padding,y-height-this.padding,width,height);if(tooltipRect.y<bounds.y){tooltipRect.y+=tooltipRect.height+2*this.padding;}if(tooltipRect.x+tooltipRect.width>bounds.x+bounds.width){tooltipRect.x-=tooltipRect.width+4*this.padding;}return tooltipRect;}},{key:'seriesTooltipLocation',value:function seriesTooltipLocation(pointData,bounds,symbolLocation,arrowLocation,tipLocation){var series=pointData.series;var location=new ChartLocation(symbolLocation.x,symbolLocation.y);if(series.type==='RangeArea'&&pointData.point.regions[0]){if(!series.chart.requireInvertedAxis){location.y=pointData.point.regions[0].y+pointData.point.regions[0].height/2;}else{location.x=pointData.point.regions[0].x+pointData.point.regions[0].width/2;}}var width=this.elementSize.width+2*this.padding;var height=this.elementSize.height+2*this.padding;var markerHeight=0;if(!series.isRectSeries){var chartSeries=pointData.series;markerHeight=this.chart.tooltip.shared||chartSeries.marker.visible||series.type==='Scatter'||chartSeries.drawType==='Scatter'?(chartSeries.marker.height+2)/2+2*chartSeries.marker.border.width:0;}var clipX=this.chart.chartAreaType==='PolarRadar'?0:series.clipRect.x;var clipY=this.chart.chartAreaType==='PolarRadar'?0:series.clipRect.y;var boundsX=bounds.x;var boundsY=bounds.y;if(!this.inverted||!series.isRectSeries){location.y=series.type==='Waterfall'&&pointData.point.y<0?location.y-pointData.point.regions[0].height:location.y;location=new ChartLocation(location.x+clipX-this.elementSize.width/2-this.padding,location.y+clipY-this.elementSize.height-2*this.padding-this.arrowPadding-markerHeight);arrowLocation.x=tipLocation.x=width/2;if(location.y<boundsY||series.isRectSeries&&pointData.point.y<0&&series.type!=='Waterfall'){location.y=(symbolLocation.y<0?0:symbolLocation.y)+clipY+markerHeight;}if(location.y+height+this.arrowPadding>boundsY+bounds.height){location.y=(symbolLocation.y>bounds.height?bounds.height:symbolLocation.y)+clipY-this.elementSize.height-2*this.padding-this.arrowPadding-markerHeight;}tipLocation.x=width/2;if(location.x<boundsX){arrowLocation.x-=boundsX-location.x;tipLocation.x-=boundsX-location.x;location.x=boundsX;}if(location.x+width>boundsX+bounds.width){arrowLocation.x+=location.x+width-(boundsX+bounds.width);tipLocation.x+=location.x+width-(boundsX+bounds.width);location.x-=location.x+width-(boundsX+bounds.width);}if(arrowLocation.x+this.arrowPadding/2>width-this.rx){arrowLocation.x=width-this.rx-this.arrowPadding/2;tipLocation.x=width;this.tipRadius=0;}if(arrowLocation.x-this.arrowPadding/2<this.rx){arrowLocation.x=this.rx+this.arrowPadding/2;tipLocation.x=0;this.tipRadius=0;}}else{location.x=series.type==='Waterfall'&&pointData.point.y<0?location.x+pointData.point.regions[0].width:location.x;location=new ChartLocation(location.x+clipX+markerHeight,location.y+clipY-this.elementSize.height/2-this.padding);arrowLocation.y=tipLocation.y=height/2;if(location.x+width+this.arrowPadding>boundsX+bounds.width||series.isRectSeries&&pointData.point.y<0&&series.type!=='Waterfall'){location.x=(symbolLocation.x>bounds.width?bounds.width:symbolLocation.x)+clipX-markerHeight-(width+this.arrowPadding);}if(location.x<boundsX){location.x=(symbolLocation.x<0?0:symbolLocation.x)+clipX+markerHeight;}if(location.y<=boundsY){arrowLocation.y-=boundsY-location.y;tipLocation.y-=boundsY-location.y;location.y=boundsY;}if(location.y+height>=boundsY+bounds.height){arrowLocation.y+=location.y+height-(boundsY+bounds.height);tipLocation.y+=location.y+height-(boundsY+bounds.height);location.y-=location.y+height-(boundsY+bounds.height);}if(arrowLocation.y+this.arrowPadding/2>height-this.ry){arrowLocation.y=height-this.ry-this.arrowPadding/2;tipLocation.y=height;this.tipRadius=0;}if(arrowLocation.y-this.arrowPadding/2<this.ry){arrowLocation.y=this.ry+this.arrowPadding/2;tipLocation.y=0;this.tipRadius=0;}}return new Rect(location.x,location.y,width,height);}},{key:'progressAnimation',value:function progressAnimation(element,tooltipGroup,series,opacity,rectOpacity,timeStamp,isRect,shared){tooltipGroup.style.animation='';tooltipGroup.setAttribute('opacity',(opacity-timeStamp).toString());if(element&&isRect&&!shared){element.setAttribute('opacity',(rectOpacity+rectOpacity*timeStamp).toString());}}},{key:'endAnimation',value:function endAnimation(element,tooltipGroup,series,shared){this.currentPoints=[];if(element&&series.isRectSeries){element.setAttribute('opacity',series.opacity.toString());}this.removeHighlight(this.control);tooltipGroup.setAttribute('opacity','0');if(this.control.tooltip.template&&!shared){tooltipGroup.style.display='none';}this.isComplete=true;this.control.trigger('animationComplete',{});}},{key:'removeHighlight',value:function removeHighlight(chart){var item=void 0;var series=void 0;for(var i=0,len=this.previousPoints.length;i<len;i++){item=this.previousPoints[i];if(item.series.isRectSeries){if(item.series.visible){this.highlightPoint(item.series,item.point.index,false);}continue;}series=item.series;if(!series.marker.visible&&item.series.type!=='Scatter'&&item.series.type!=='Bubble'){this.previousPoints.shift();len-=1;}}}},{key:'highlightPoint',value:function highlightPoint(series,pointIndex,highlight){var element=this.getElement(this.element.id+'_Series_'+series.index+'_Point_'+pointIndex);if(element){element.setAttribute('opacity',(highlight?series.opacity/2:series.opacity).toString());}}},{key:'highlightPoints',value:function highlightPoints(item){if(item.series.isRectSeries){this.highlightPoint(item.series,item.point.index,true);return null;}}},{key:'animateTooltipDiv',value:function animateTooltipDiv(tooltipDiv,rect){var _this95=this;var x=parseFloat(tooltipDiv.style.left);var y=parseFloat(tooltipDiv.style.top);var currenDiff=void 0;new Animation({}).animate(tooltipDiv,{duration:300,progress:function progress(args){currenDiff=args.timeStamp/args.duration;tooltipDiv.style.animation=null;tooltipDiv.style.left=x+currenDiff*(rect.x-x)+'px';tooltipDiv.style.top=y+currenDiff*(rect.y-y)+'px';},end:function end(model){_this95.updateDiv(tooltipDiv,rect.x,rect.y);}});}},{key:'updateDiv',value:function updateDiv(tooltipDiv,x,y){tooltipDiv.style.left=x+'px';tooltipDiv.style.top=y+'px';}},{key:'triggerEvent',value:function triggerEvent(point,isFirst,textCollection){var firstText=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;var argsData={cancel:false,name:tooltipRender,text:textCollection,point:point.point,series:point.series,textStyle:this.textStyle};this.chart.trigger(tooltipRender,argsData);if(!argsData.cancel){if(point.series.type==='BoxAndWhisker'){this.removeText();isFirst=true;}this.formattedText=this.formattedText.concat(argsData.text);}return!argsData.cancel;}},{key:'removeText',value:function removeText(){this.textElements=[];var element=this.getElement(this.element.id+'_tooltip_group');if(element.childNodes.length>0){while(element.lastChild&&element.childNodes.length!==1){element.removeChild(element.lastChild);}}}},{key:'updateTemplateFn',value:function updateTemplateFn(chart){if(chart.tooltip.template){try{if(document.querySelectorAll(chart.tooltip.template).length){this.templateFn=compile(document.querySelector(chart.tooltip.template).innerHTML.trim());}}catch(e){this.templateFn=compile(chart.tooltip.template);}}}},{key:'stopAnimation',value:function stopAnimation(){stopTimer(this.toolTipInterval);}}]);return BaseTooltip;}(ChartData);Side=function Side(bottom,right){_classCallCheck(this,Side);this.isRight=right;this.isBottom=bottom;};_export2('Tooltip',Tooltip=function(_BaseTooltip){_inherits(Tooltip,_BaseTooltip);/**
     * Constructor for tooltip module.
     * @private.
     */function Tooltip(chart){_classCallCheck(this,Tooltip);var _this96=_possibleConstructorReturn(this,(Tooltip.__proto__||Object.getPrototypeOf(Tooltip)).call(this,chart));_this96.addEventListener();return _this96;}/**
     * @hidden
     */_createClass(Tooltip,[{key:'addEventListener',value:function addEventListener(){if(this.chart.isDestroyed){return;}var cancelEvent=Browser.isPointer?'pointerleave':'mouseleave';this.chart.on(cancelEvent,this.mouseLeaveHandler,this);this.chart.on('tapHold',this.longPress,this);this.chart.on(Browser.touchMoveEvent,this.mouseMoveHandler,this);this.chart.on(Browser.touchEndEvent,this.mouseUpHandler,this);}},{key:'mouseUpHandler',value:function mouseUpHandler(){var chart=this.control;if(chart.isTouch&&!this.isSelected(chart)&&(withInBounds(chart.mouseX,chart.mouseY,chart.chartAxisLayoutPanel.seriesClipRect)&&chart.tooltip.shared||!chart.tooltip.shared)){if(!chart.crosshair.enable){this.tooltip();this.removeTooltip(2000);}else if(chart.startMove){this.removeTooltip(2000);}}}},{key:'mouseLeaveHandler',value:function mouseLeaveHandler(){this.removeTooltip(1000);}},{key:'mouseMoveHandler',value:function mouseMoveHandler(){var chart=this.chart;// Tooltip for chart series.
if(!chart.disableTrackTooltip&&!this.isSelected(chart)){if(!chart.tooltip.shared&&(!chart.isTouch||chart.startMove)){this.tooltip();}if(withInBounds(chart.mouseX,chart.mouseY,chart.chartAxisLayoutPanel.seriesClipRect)){if(chart.tooltip.shared&&(!chart.isTouch||chart.startMove)){this.tooltip();}}else{if(chart.tooltip.shared){this.removeTooltip(1000);}}}}},{key:'longPress',value:function longPress(){var chart=this.chart;if(chart.crosshair.enable&&withInBounds(chart.mouseX,chart.mouseY,chart.chartAxisLayoutPanel.seriesClipRect)){this.tooltip();}return false;}},{key:'tooltip',value:function tooltip(){var isTooltip=this.getElement(this.element.id+'_tooltip');var tooltipDiv=this.getTooltipElement(isTooltip);if(!this.chart.tooltip.shared){this.renderSeriesTooltip(this.chart,!isTooltip,tooltipDiv);}else{this.renderGroupedTooltip(this.chart,!isTooltip,tooltipDiv);}}},{key:'findHeader',value:function findHeader(data){this.header=this.parseTemplate(data.point,data.series,this.header,data.series.xAxis,data.series.yAxis);if(this.header.replace(/<b>/g,'').replace(/<\/b>/g,'').trim()!==''){this.formattedText=this.formattedText.concat(this.header);}}},{key:'renderSeriesTooltip',value:function renderSeriesTooltip(chart,isFirst,tooltipDiv){var data=this.getData();var markerSide=void 0;data.lierIndex=this.lierIndex;var rect=chart.chartAxisLayoutPanel.seriesClipRect;this.currentPoints=[];if(this.findData(data,this.previousPoints[0])){if(this.pushData(data,isFirst,tooltipDiv,true)){var text=this.getTooltipText(data);if(!chart.tooltip.template){if(this.header!==''){this.findHeader(data);}markerSide=this.renderTooltip(data,rect,this.getSymbolLocation(data),text,isFirst,chart.chartAreaType==='Cartesian');if(markerSide){this.drawMarker(markerSide.isBottom,markerSide.isRight,10);}}else{this.renderTemplate(data,rect,this.getSymbolLocation(data),this.getTemplateText(data),isFirst);}this.isRemove=true;}this.previousPoints=extend([],this.currentPoints,null,true);}else{if(!data.point&&this.isRemove){this.removeTooltip(1000);this.isRemove=false;}else{var _iteratorNormalCompletion80=true;var _didIteratorError80=false;var _iteratorError80=undefined;try{for(var _iterator80=chart.visibleSeries[Symbol.iterator](),_step80;!(_iteratorNormalCompletion80=(_step80=_iterator80.next()).done);_iteratorNormalCompletion80=true){var series=_step80.value;if(series.visible){data=this.getClosestX(chart,series)||data;}}}catch(err){_didIteratorError80=true;_iteratorError80=err;}finally{try{if(!_iteratorNormalCompletion80&&_iterator80.return){_iterator80.return();}}finally{if(_didIteratorError80){throw _iteratorError80;}}}}}if(data&&data.point){this.findMouseValue(data,chart);}}},{key:'findData',value:function findData(data,previous){return data.point&&(!previous||previous.point!==data.point||previous&&previous.lierIndex>3&&previous.lierIndex!==this.lierIndex);}},{key:'getSymbolLocation',value:function getSymbolLocation(data){return data.series.type==='BoxAndWhisker'?this.getBoxLocation(data):data.point.symbolLocations[0];}},{key:'getTooltipText',value:function getTooltipText(pointData){var series=pointData.series;return this.parseTemplate(pointData.point,series,this.getFormat(this.chart,series),series.xAxis,series.yAxis);}},{key:'getTemplateText',value:function getTemplateText(data){var point=extend({},data.point);point.x=this.formatPointValue(data.point,data.series.xAxis,'x',true,false);if(data.series.seriesType==='XY'){point.y=this.formatPointValue(data.point,data.series.yAxis,'y',false,true);}else{point.low=this.formatPointValue(data.point,data.series.yAxis,'low',false,true);point.high=this.formatPointValue(data.point,data.series.yAxis,'high',false,true);}return point;}},{key:'findMouseValue',value:function findMouseValue(data,chart){if(!chart.requireInvertedAxis){if(chart.chartAreaType==='PolarRadar'){this.valueX=valueToPolarCoefficient(data.point.xValue,data.series.xAxis)*data.series.xAxis.rect.width+data.series.xAxis.rect.x;}else{this.valueX=valueToCoefficient(data.point.xValue,data.series.xAxis)*data.series.xAxis.rect.width+data.series.xAxis.rect.x;}this.valueY=chart.mouseY;}else{this.valueY=(1-valueToCoefficient(data.point.xValue,data.series.xAxis))*data.series.xAxis.rect.height+data.series.xAxis.rect.y;this.valueX=chart.mouseX;}}},{key:'renderGroupedTooltip',value:function renderGroupedTooltip(chart,isFirst,tooltipDiv){var data=void 0;var pointData=chart.chartAreaType==='PolarRadar'?this.getData():null;this.stopAnimation();this.removeHighlight(chart);this.currentPoints=[];var extraPoints=[];var markerSide=void 0;if(isFirst){document.getElementById(this.element.id+'_Secondary_Element').appendChild(tooltipDiv);}this.removeText();var _iteratorNormalCompletion81=true;var _didIteratorError81=false;var _iteratorError81=undefined;try{for(var _iterator81=chart.visibleSeries[Symbol.iterator](),_step81;!(_iteratorNormalCompletion81=(_step81=_iterator81.next()).done);_iteratorNormalCompletion81=true){var series=_step81.value;if(!series.enableTooltip){continue;}if(chart.chartAreaType==='Cartesian'&&series.visible){data=this.getClosestX(chart,series);}else if(chart.chartAreaType==='PolarRadar'&&series.visible&&pointData.point!==null){data=new PointData(series.points[pointData.point.index],series);}if(data&&this.header!==''&&this.currentPoints.length===0){this.findHeader(data);}if(data&&this.triggerEvent(data,isFirst,this.getTooltipText(data))){if(series.category==='Series'){this.highlightPoints(data);}this.findMouseValue(data,chart);this.currentPoints.push(data);data=null;}else if(data){extraPoints.push(data);}}}catch(err){_didIteratorError81=true;_iteratorError81=err;}finally{try{if(!_iteratorNormalCompletion81&&_iterator81.return){_iterator81.return();}}finally{if(_didIteratorError81){throw _iteratorError81;}}}if(this.currentPoints.length>0){this.renderText(isFirst,chart);markerSide=this.renderTooltipElement(chart,this.currentPoints[0],chart.chartAxisLayoutPanel.seriesClipRect,this.getSymbolLocation(this.currentPoints[0]),chart.chartAreaType==='Cartesian',isFirst);this.drawMarker(markerSide.isBottom,markerSide.isRight,10);}else{this.getElement(this.element.id+'_tooltip_path').setAttribute('d','');}this.currentPoints=this.currentPoints.concat(extraPoints);this.previousPoints=extend([],this.currentPoints,null,true);}},{key:'getBoxLocation',value:function getBoxLocation(data){var location=void 0;location=this.lierIndex>3?data.point.symbolLocations[this.lierIndex-4]:{x:data.point.regions[0].x+data.point.regions[0].width/2,y:data.point.regions[0].y+data.point.regions[0].height/2};return location;}},{key:'drawMarker',value:function drawMarker(isBottom,isRight,size){var shapeOption=void 0;var count=0;var series=void 0;var markerGroup=this.chart.renderer.createGroup({id:this.element.id+'_tooltip_trackball_group'});var groupElement=this.getElement(this.element.id+'_tooltip_group');var x=this.padding*2+size/2+(isRight?this.arrowPadding:0);var _iteratorNormalCompletion82=true;var _didIteratorError82=false;var _iteratorError82=undefined;try{for(var _iterator82=this.currentPoints[Symbol.iterator](),_step82;!(_iteratorNormalCompletion82=(_step82=_iterator82.next()).done);_iteratorNormalCompletion82=true){var data=_step82.value;series=data.series;if(series.visible&&series.enableTooltip&&data.point.visible){shapeOption=new PathOption(this.element.id+'_Tooltip_Trackball_'+series.index,this.findColor(data,series)||series.interior,1,'#cccccc',series.opacity,null);markerGroup.appendChild(drawSymbol(new ChartLocation(x,this.markerPoint[count]-this.padding+(isBottom?this.arrowPadding:0)),data.point.marker.shape||series.marker.shape,new Size(size,size),series.marker.imageUrl,shapeOption,null));count++;}}}catch(err){_didIteratorError82=true;_iteratorError82=err;}finally{try{if(!_iteratorNormalCompletion82&&_iterator82.return){_iterator82.return();}}finally{if(_didIteratorError82){throw _iteratorError82;}}}groupElement.appendChild(markerGroup);}},{key:'findColor',value:function findColor(data,series){if(series.isRectSeries){return data.point.color;}else{return(data.point.color&&data.point.color!=='#ffffff'?data.point.color:data.point.interior)||series.marker.fill;}}},{key:'parseTemplate',value:function parseTemplate(point,series,format,xAxis,yAxis){var val=void 0;var textValue=void 0;var chart=this.chart;var _iteratorNormalCompletion83=true;var _didIteratorError83=false;var _iteratorError83=undefined;try{for(var _iterator83=Object.keys(point)[Symbol.iterator](),_step83;!(_iteratorNormalCompletion83=(_step83=_iterator83.next()).done);_iteratorNormalCompletion83=true){var dataValue=_step83.value;val=new RegExp('${point'+'.'+dataValue+'}','gm');format=format.replace(val.source,this.formatPointValue(point,val.source==='${point.x}'?xAxis:yAxis,dataValue,val.source==='${point.x}',val.source==='${point.high}'||val.source==='${point.open}'||val.source==='${point.close}'||val.source==='${point.low}'||val.source==='${point.y}'||val.source==='${point.minimum}'||val.source==='${point.maximum}'||val.source==='${point.outliers}'||val.source==='${point.upperQuartile}'||val.source==='${point.lowerQuartile}'||val.source==='${point.median}'));}}catch(err){_didIteratorError83=true;_iteratorError83=err;}finally{try{if(!_iteratorNormalCompletion83&&_iterator83.return){_iterator83.return();}}finally{if(_didIteratorError83){throw _iteratorError83;}}}var _iteratorNormalCompletion84=true;var _didIteratorError84=false;var _iteratorError84=undefined;try{for(var _iterator84=Object.keys(Object.getPrototypeOf(series))[Symbol.iterator](),_step84;!(_iteratorNormalCompletion84=(_step84=_iterator84.next()).done);_iteratorNormalCompletion84=true){var _dataValue=_step84.value;val=new RegExp('${series'+'.'+_dataValue+'}','gm');textValue=series[_dataValue];format=format.replace(val.source,textValue);}}catch(err){_didIteratorError84=true;_iteratorError84=err;}finally{try{if(!_iteratorNormalCompletion84&&_iterator84.return){_iterator84.return();}}finally{if(_didIteratorError84){throw _iteratorError84;}}}return format;}},{key:'formatPointValue',value:function formatPointValue(point,axis,dataValue,isXPoint,isYPoint){var textValue=void 0;var customLabelFormat=void 0;var value=void 0;if(axis.valueType!=='Category'&&isXPoint){customLabelFormat=axis.labelFormat&&axis.labelFormat.match('{value}')!==null;textValue=customLabelFormat?axis.labelFormat.replace('{value}',axis.format(point[dataValue])):axis.format(point[dataValue]);}else if(isYPoint){customLabelFormat=axis.labelFormat&&axis.labelFormat.match('{value}')!==null;value=dataValue==='outliers'?axis.format(point[dataValue][this.lierIndex-4]):axis.format(point[dataValue]);textValue=customLabelFormat?axis.labelFormat.replace('{value}',value):value;}else{textValue=point[dataValue];}return textValue;}},{key:'getFormat',value:function getFormat(chart,series){if(chart.tooltip.format){if(series.seriesType==='XY'&&series.category==='Indicator'){return this.getIndicatorTooltipFormat(series,chart,chart.tooltip.format);}return chart.tooltip.format;}var format=!chart.tooltip.shared?'${point.x}':'${series.name}';switch(series.seriesType){case'XY':if(series.category==='Indicator'){this.getIndicatorTooltipFormat(series,chart,chart.tooltip.format);}return format+' : '+(series.type==='Bubble'?'<b>${point.y}</b>  Size : <b>${point.size}</b>':'<b>${point.y}</b>');case'HighLow':return format+'<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b>';case'HighLowOpenClose':return format+('<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>'+'Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>');case'BoxPlot':{return format+'<br/>'+(this.lierIndex>3?'Outliers : <b>${point.outliers}</b>':'Maximum : <b>${point.maximum}</b><br/>Q1 : <b>${point.upperQuartile}</b><br/>'+'Median : <b>${point.median}</b><br/>Q3 : <b>${point.lowerQuartile}</b><br/>Minimum : <b>${point.minimum}</b>');}}return'';}},{key:'getIndicatorTooltipFormat',value:function getIndicatorTooltipFormat(series,chart,format){var toolTip=void 0;if(series.seriesType==='XY'){toolTip=series.name+' : ${point.y}';}else{toolTip=format;}return toolTip;}},{key:'removeHighlightedMarker',value:function removeHighlightedMarker(data){var _iteratorNormalCompletion85=true;var _didIteratorError85=false;var _iteratorError85=undefined;try{for(var _iterator85=data[Symbol.iterator](),_step85;!(_iteratorNormalCompletion85=(_step85=_iterator85.next()).done);_iteratorNormalCompletion85=true){var item=_step85.value;removeElement(this.element.id+'_Series_'+item.series.index+'_Point_'+item.point.index+'_Trackball');}}catch(err){_didIteratorError85=true;_iteratorError85=err;}finally{try{if(!_iteratorNormalCompletion85&&_iterator85.return){_iterator85.return();}}finally{if(_didIteratorError85){throw _iteratorError85;}}}if(this.chart.markerRender){this.chart.markerRender.removeHighlightedMarker();}this.previousPoints=[];}},{key:'removeTooltip',value:function removeTooltip(duration){var _this97=this;var chart=this.chart;var tooltipElement=this.getElement(this.element.id+'_tooltip');this.stopAnimation();if(tooltipElement&&this.previousPoints.length>0){var data=this.previousPoints;this.toolTipInterval=setTimeout(function(){var rectOpacity=void 0;var tooltipGroup=tooltipElement.firstChild;var series=data[0].series;var element=_this97.getElement(chart.element.id+'_Series_'+data[0].series.index+'_Point_'+data[0].point.index);var opacity=parseFloat(tooltipGroup.getAttribute('opacity'))||1;if(element&&series.isRectSeries&&!chart.tooltip.shared){rectOpacity=parseFloat(element.getAttribute('opacity'));}new Animation({}).animate(tooltipGroup,{duration:200,progress:function progress(args){//  tooltipGroup.removeAttribute('e-animate');
_this97.progressAnimation(element,tooltipGroup,series,opacity,rectOpacity,args.timeStamp/args.duration,series.isRectSeries,!chart.tooltip.shared);},end:function end(model){_this97.valueX=null;_this97.valueY=null;_this97.endAnimation(element,tooltipGroup,series,chart.tooltip.shared);_this97.removeHighlightedMarker(data);}});},duration);}}},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name
         */return'Tooltip';}},{key:'destroy',value:function destroy(chart){/**
         * Destroy method performed here
         */}}]);return Tooltip;}(BaseTooltip));Toolkit=function(){/** @private */function Toolkit(chart){_classCallCheck(this,Toolkit);this.chart=chart;this.elementId=chart.element.id;this.selectionColor='#ff4081';this.fillColor='#737373';}/**
     * To create the pan button.
     * @return {void}
     * @private
     */_createClass(Toolkit,[{key:'createPanButton',value:function createPanButton(childElement,parentElement,chart){var render=this.chart.renderer;var fillColor=this.chart.zoomModule.isPanning?this.selectionColor:this.fillColor;var direction='M5,3h2.3L7.275,5.875h1.4L8.65,3H11L8,0L5,3z M3,11V8.7l2.875,0.025v-1.4L3,7.35V5L0,8L3,';direction+='11z M11,13H8.7l0.025-2.875h-1.4L7.35,13H5l3,3L11,13z M13,5v2.3l-2.875-0.025v1.4L13,8.65V11l3-3L13,5z';childElement.id=this.elementId+'_Zooming_Pan';childElement.setAttribute('aria-label',this.chart.getLocalizedLabel('Pan'));this.panElements=childElement;childElement.appendChild(render.drawRectangle(new RectOption(this.elementId+'_Zooming_Pan_1','transparent',{},1,new Rect(0,0,16,16))));childElement.appendChild(render.drawPath(new PathOption(this.elementId+'_Zooming_Pan_2',fillColor,null,null,1,null,direction)));parentElement.appendChild(childElement);this.wireEvents(childElement,this.pan);}},{key:'createZoomButton',value:function createZoomButton(childElement,parentElement,chart){var render=this.chart.renderer;var fillColor=this.chart.zoomModule.isPanning?this.fillColor:this.selectionColor;var direction='M0.001,14.629L1.372,16l4.571-4.571v-0.685l0.228-0.274c1.051,0.868,2.423,1.417,3.885,1.417c3.291,0,';direction+='5.943-2.651,5.943-5.943S13.395,0,10.103,0S4.16,2.651,4.16,5.943c0,1.508,0.503,2.834,1.417,3.885l-0.274,0.228H4.571';direction=direction+'L0.001,14.629L0.001,14.629z M5.943,5.943c0-2.285,1.828-4.114,4.114-4.114s4.114,1.828,4.114,';childElement.id=this.elementId+'_Zooming_Zoom';childElement.setAttribute('aria-label',this.chart.getLocalizedLabel('Zoom'));this.zoomElements=childElement;childElement.appendChild(render.drawRectangle(new RectOption(this.elementId+'_Zooming_Zoom_1','transparent',{},1,new Rect(0,0,16,16))));childElement.appendChild(render.drawPath(new PathOption(this.elementId+'_Zooming_Zoom_3',fillColor,null,null,1,null,direction+'4.114s-1.828,4.114-4.114,4.114S5.943,8.229,5.943,5.943z')));parentElement.appendChild(childElement);this.wireEvents(childElement,this.zoom);}},{key:'createZoomInButton',value:function createZoomInButton(childElement,parentElement,chart){var render=this.chart.renderer;var fillColor=this.fillColor;var direction='M10.103,0C6.812,0,4.16,2.651,4.16,5.943c0,1.509,0.503,2.834,1.417,3.885l-0.274,0.229H4.571L0,';direction+='14.628l0,0L1.372,16l4.571-4.572v-0.685l0.228-0.275c1.052,0.868,2.423,1.417,3.885,1.417c3.291,0,5.943-2.651,';direction+='5.943-5.943C16,2.651,13.395,0,10.103,0z M10.058,10.058c-2.286,0-4.114-1.828-4.114-4.114c0-2.286,1.828-4.114,';childElement.id=this.elementId+'_Zooming_ZoomIn';childElement.setAttribute('aria-label',this.chart.getLocalizedLabel('ZoomIn'));var polygonDirection='12.749,5.466 10.749,5.466 10.749,3.466 9.749,3.466 9.749,5.466 7.749,5.466 7.749,6.466';childElement.appendChild(render.drawRectangle(new RectOption(this.elementId+'_Zooming_ZoomIn_1','transparent',{},1,new Rect(0,0,16,16))));childElement.appendChild(render.drawPath(new PathOption(this.elementId+'_Zooming_ZoomIn_2',fillColor,null,null,1,null,direction+'4.114-4.114c2.286,0,4.114,1.828,4.114,4.114C14.172,8.229,12.344,10.058,10.058,10.058z')));childElement.appendChild(render.drawPolygon(new PolygonOption(this.elementId+'_Zooming_ZoomIn_3',polygonDirection+' 9.749,6.466 9.749,8.466 10.749,8.466 10.749,6.466 12.749,6.466',fillColor)));this.zoomInElements=childElement;this.elementOpacity=chart.zoomModule.isPanning?'0.2':'1';childElement.setAttribute('opacity',this.elementOpacity);parentElement.appendChild(childElement);this.wireEvents(childElement,this.zoomIn);}},{key:'createZoomOutButton',value:function createZoomOutButton(childElement,parentElement,chart){var render=this.chart.renderer;var fillColor=this.fillColor;var direction='M0,14.622L1.378,16l4.533-4.533v-0.711l0.266-0.266c1.022,0.889,2.4,1.422,3.866,';direction+='1.422c3.289,0,5.955-2.666,5.955-5.955S13.333,0,10.044,0S4.089,2.667,4.134,5.911c0,1.466,0.533,2.844,';direction+='1.422,3.866l-0.266,0.266H4.578L0,14.622L0,14.622z M5.911,5.911c0-2.311,1.822-4.133,4.133-4.133s4.133,1.822,4.133,';childElement.id=this.elementId+'_Zooming_ZoomOut';childElement.setAttribute('aria-label',this.chart.getLocalizedLabel('ZoomOut'));childElement.appendChild(render.drawRectangle(new RectOption(this.elementId+'_Zooming_ZoomOut_1','transparent',{},1,new Rect(0,0,16,16))));childElement.appendChild(render.drawPath(new PathOption(this.elementId+'_Zooming_ZoomOut_2',fillColor,null,null,1,null,direction+'4.133s-1.866,4.133-4.133,4.133S5.911,8.222,5.911,5.911z M12.567,6.466h-5v-1h5V6.466z')));this.zoomOutElements=childElement;this.elementOpacity=chart.zoomModule.isPanning?'0.2':'1';childElement.setAttribute('opacity',this.elementOpacity);parentElement.appendChild(childElement);this.wireEvents(childElement,this.zoomOut);}},{key:'createResetButton',value:function createResetButton(childElement,parentElement,chart,isDevice){var render=this.chart.renderer;var fillColor=this.fillColor;var size=void 0;var direction='M12.364,8h-2.182l2.909,3.25L16,8h-2.182c0-3.575-2.618-6.5-5.818-6.5c-1.128,0-2.218,0.366-3.091,';direction+='1.016l1.055,1.178C6.581,3.328,7.272,3.125,8,3.125C10.4,3.125,12.363,5.319,12.364,8L12.364,8z M11.091,';direction+='13.484l-1.055-1.178C9.419,12.672,8.728,12.875,8,12.875c-2.4,0-4.364-2.194-4.364-4.875h2.182L2.909,4.75L0,8h2.182c0,';childElement.id=this.elementId+'_Zooming_Reset';childElement.setAttribute('aria-label',this.chart.getLocalizedLabel('Reset'));if(!isDevice){childElement.appendChild(render.drawRectangle(new RectOption(this.elementId+'_Zooming_Reset_1','transparent',{},1,new Rect(0,0,16,16))));childElement.appendChild(render.drawPath(new PathOption(this.elementId+'_Zooming_Reset_2',fillColor,null,null,1,null,direction+'3.575,2.618,6.5,5.818,6.5C9.128,14.5,10.219,14.134,11.091,13.484L11.091,13.484z')));}else{size=measureText(this.chart.getLocalizedLabel('ResetZoom'),{size:'12px'});childElement.appendChild(render.drawRectangle(new RectOption(this.elementId+'_Zooming_Reset_1','transparent',{},1,new Rect(0,0,size.width,size.height))));textElement(new TextOption(this.elementId+'_Zooming_Reset_2',0+size.width/2,0+size.height*3/4,'middle',this.chart.getLocalizedLabel('ResetZoom'),'rotate(0,'+0+','+0+')','auto'),{size:'12px'},'black',childElement);}parentElement.appendChild(childElement);this.wireEvents(childElement,this.reset);}},{key:'wireEvents',value:function wireEvents(element,process){EventHandler.add(element,'mousedown touchstart',process,this);EventHandler.add(element,'mouseover',this.showTooltip,this);EventHandler.add(element,'mouseout',this.removeTooltip,this);}},{key:'showTooltip',value:function showTooltip(event){var text=event.currentTarget.id.split('_Zooming_')[1];var left=event.pageX-(measureText(text,{size:'10px'}).width+5);if(!this.chart.isTouch){createTooltip('EJ2_Chart_ZoomTip',this.chart.getLocalizedLabel(text),event.pageY+10,left,'10px');}}},{key:'removeTooltip',value:function removeTooltip(){removeElement('EJ2_Chart_ZoomTip');}},{key:'reset',value:function reset(){var chart=this.chart;if(!chart.zoomModule.isDevice){remove(chart.zoomModule.toolkitElements);}this.removeTooltip();chart.svgObject.setAttribute('cursor','auto');chart.axisCollections.forEach(function(axis){axis.zoomFactor=1;axis.zoomPosition=0;});chart.disableTrackTooltip=false;chart.zoomModule.isZoomed=chart.zoomModule.isPanning=chart.isChartDrag=chart.delayRedraw=false;chart.zoomModule.touchMoveList=chart.zoomModule.touchStartList=[];chart.zoomModule.pinchTarget=null;chart.removeSvg();chart.refreshAxis();chart.refreshBound();this.elementOpacity='1';return false;}},{key:'zoomIn',value:function zoomIn(e){this.zoomInOutCalculation(1,this.chart,this.chart.axisCollections,this.chart.zoomSettings.mode);return false;}},{key:'zoomOut',value:function zoomOut(e){this.zoomInOutCalculation(-1,this.chart,this.chart.axisCollections,this.chart.zoomSettings.mode);return false;}},{key:'zoom',value:function zoom(e){this.chart.zoomModule.isPanning=false;var zoomModule=this.chart.zoomModule;this.elementOpacity='1';this.chart.svgObject.setAttribute('cursor','auto');this.zoomInElements.setAttribute('opacity',this.elementOpacity);this.zoomOutElements.setAttribute('opacity',this.elementOpacity);this.applySelection(this.zoomElements.childNodes,this.selectionColor);this.applySelection(this.panElements.childNodes,'#737373');return false;}},{key:'pan',value:function pan(){var zoomModule=this.chart.zoomModule;var element=void 0;this.chart.zoomModule.isPanning=true;this.chart.svgObject.setAttribute('cursor','pointer');this.elementOpacity='0.2';element=this.zoomInElements?this.zoomInElements.setAttribute('opacity',this.elementOpacity):null;element=this.zoomOutElements?this.zoomOutElements.setAttribute('opacity',this.elementOpacity):null;element=this.panElements?this.applySelection(this.panElements.childNodes,this.selectionColor):null;element=this.zoomElements?this.applySelection(this.zoomElements.childNodes,'#737373'):null;return false;}},{key:'zoomInOutCalculation',value:function zoomInOutCalculation(scale,chart,axes,mode){if(!chart.zoomModule.isPanning&&this.elementOpacity!=='0.2'){var zoomFactor=void 0;var zoomPosition=void 0;var cumulative=void 0;chart.disableTrackTooltip=true;chart.delayRedraw=true;axes.forEach(function(axis){if(axis.orientation==='Horizontal'&&mode!=='Y'||axis.orientation==='Vertical'&&mode!=='X'){cumulative=Math.max(Math.max(1/minMax(axis.zoomFactor,0,1),1)+0.25*scale,1);zoomFactor=cumulative===1?1:minMax(1/cumulative,0,1);zoomPosition=cumulative===1?0:axis.zoomPosition+(axis.zoomFactor-zoomFactor)*0.5;if(axis.zoomPosition!==zoomPosition||axis.zoomFactor!==zoomFactor){zoomFactor=zoomPosition+zoomFactor>1?1-zoomPosition:zoomFactor;}axis.zoomFactor=zoomFactor;axis.zoomPosition=zoomPosition;}});}}},{key:'applySelection',value:function applySelection(elements,color){for(var i=1,length=elements.length;i<length;i++){elements[i].setAttribute('fill',color);}}}]);return Toolkit;}();_export2('Zoom',Zoom=function(){/**
     * Constructor for Zooming module.
     * @private.
     */function Zoom(chart){_classCallCheck(this,Zoom);this.chart=chart;this.isPointer=Browser.isPointer;this.browserName=Browser.info.name;this.wheelEvent=this.browserName==='mozilla'?this.isPointer?'mousewheel':'DOMMouseScroll':'mousewheel';this.cancelEvent=this.isPointer?'pointerleave':'mouseleave';this.addEventListener();this.isDevice=Browser.isDevice;var zooming=chart.zoomSettings;this.toolkit=new Toolkit(chart);this.zooming=zooming;this.elementId=chart.element.id;this.zoomingRect=new Rect(0,0,0,0);this.zoomAxes=[];this.zoomkitOpacity=0.3;this.isIOS=Browser.isIos||Browser.isIos7;this.isZoomed=this.performedUI=this.zooming.enablePan&&this.zooming.enableSelectionZooming;}/**
     * Function that handles the Rectangular zooming.
     * @return {void}
     */_createClass(Zoom,[{key:'renderZooming',value:function renderZooming(e,chart,isTouch){this.calculateZoomAxesRange(chart,chart.axisCollections);if(this.zooming.enableSelectionZooming&&(!isTouch||chart.isDoubleTap&&this.touchStartList.length===1)&&(!this.isPanning||chart.isDoubleTap)){this.isPanning=this.isDevice?true:this.isPanning;this.performedUI=true;this.drawZoomingRectangle(chart);}else if(this.isPanning&&chart.isChartDrag){if(!isTouch||isTouch&&this.touchStartList.length===1){this.pinchTarget=isTouch?e.target:null;this.doPan(chart,chart.axisCollections);}}}},{key:'drawZoomingRectangle',value:function drawZoomingRectangle(chart){var areaBounds=chart.chartAxisLayoutPanel.seriesClipRect;var startLocation=new ChartLocation(chart.previousMouseMoveX,chart.previousMouseMoveY);var endLocation=new ChartLocation(chart.mouseX,chart.mouseY);var rect=this.zoomingRect=getRectLocation(startLocation,endLocation,areaBounds);if(rect.width>0&&rect.height>0){this.isZoomed=true;chart.disableTrackTooltip=true;chart.svgObject.setAttribute('cursor','crosshair');if(this.zooming.mode==='X'){rect.height=areaBounds.height;rect.y=areaBounds.y;}else if(this.zooming.mode==='Y'){rect.width=areaBounds.width;rect.x=areaBounds.x;}chart.svgObject.appendChild(chart.renderer.drawRectangle(new RectOption(this.elementId+'_ZoomArea',chart.themeStyle.selectionRectFill,{color:chart.themeStyle.selectionRectStroke,width:1},1,rect,0,0,'','3')));}}},{key:'doPan',value:function doPan(chart,axes){if(chart.startMove&&chart.crosshair.enable){return null;}var currentScale=void 0;var offset=void 0;this.isZoomed=true;var translateX=void 0;var translateY=void 0;this.offset=!chart.delayRedraw?chart.chartAxisLayoutPanel.seriesClipRect:this.offset;chart.delayRedraw=true;chart.disableTrackTooltip=true;axes.forEach(function(axis){currentScale=Math.max(1/minMax(axis.zoomFactor,0,1),1);if(axis.orientation==='Horizontal'){offset=(chart.previousMouseMoveX-chart.mouseX)/axis.rect.width/currentScale;axis.zoomPosition=minMax(axis.zoomPosition+offset,0,1-axis.zoomFactor);}else{offset=(chart.previousMouseMoveY-chart.mouseY)/axis.rect.height/currentScale;axis.zoomPosition=minMax(axis.zoomPosition-offset,0,1-axis.zoomFactor);}});if(this.zooming.enableDeferredZooming){translateX=chart.mouseX-chart.mouseDownX;translateY=chart.mouseY-chart.mouseDownY;switch(this.zooming.mode){case'X':translateY=0;break;case'Y':translateX=0;break;}this.setTransform(translateX,translateY,null,null,chart,false);this.refreshAxis(chart.chartAxisLayoutPanel,chart,chart.axisCollections);}else{this.performZoomRedraw(chart);}chart.previousMouseMoveX=chart.mouseX;chart.previousMouseMoveY=chart.mouseY;}},{key:'performZoomRedraw',value:function performZoomRedraw(chart){var rect=this.zoomingRect;chart.animateSeries=false;if(this.isZoomed){if(rect.width>0&&rect.height>0){this.performedUI=true;chart.svgObject.setAttribute('cursor','auto');this.doZoom(chart,chart.axisCollections,chart.chartAxisLayoutPanel.seriesClipRect);chart.isDoubleTap=false;}else if(chart.disableTrackTooltip){chart.disableTrackTooltip=false;chart.delayRedraw=false;chart.removeSvg();chart.refreshAxis();chart.refreshBound();}}}},{key:'refreshAxis',value:function refreshAxis(layout,chart,axes){var mode=chart.zoomSettings.mode;layout.measureAxis(new Rect(chart.initialClipRect.x,chart.initialClipRect.y,chart.initialClipRect.width,chart.initialClipRect.height));axes.map(function(axis,index){if(axis.orientation==='Horizontal'&&mode!=='Y'){layout.drawXAxisLabels(axis,index,null,axis.placeNextToAxisLine?axis.updatedRect:axis.rect);}if(axis.orientation==='Vertical'&&mode!=='X'){layout.drawYAxisLabels(axis,index,null,axis.placeNextToAxisLine?axis.updatedRect:axis.rect);}});}},{key:'doZoom',value:function doZoom(chart,axes,bounds){var zoomRect=this.zoomingRect;var mode=this.zooming.mode;var argsData=void 0;var previousZF=void 0;var previousZP=void 0;var currentZF=void 0;var currentZP=void 0;this.isPanning=chart.zoomSettings.enablePan||this.isPanning;axes.forEach(function(axis){previousZF=currentZF=axis.zoomFactor;previousZP=currentZP=axis.zoomPosition;argsData={cancel:false,name:zoomComplete,axis:axis,previousZoomFactor:previousZF,previousZoomPosition:previousZP,currentZoomFactor:currentZF,currentZoomPosition:currentZP};if(axis.orientation==='Horizontal'){if(mode!=='Y'){currentZP+=Math.abs((zoomRect.x-bounds.x)/bounds.width)*axis.zoomFactor;currentZF*=zoomRect.width/bounds.width;argsData.currentZoomPosition=currentZP;argsData.currentZoomFactor=currentZF;chart.trigger(zoomComplete,argsData);}}else{if(mode!=='X'){currentZP+=(1-Math.abs((zoomRect.height+(zoomRect.y-bounds.y))/bounds.height))*axis.zoomFactor;currentZF*=zoomRect.height/bounds.height;argsData.currentZoomFactor=currentZF;argsData.currentZoomPosition=currentZP;chart.trigger(zoomComplete,argsData);}}if(!argsData.cancel){axis.zoomFactor=argsData.currentZoomFactor;axis.zoomPosition=argsData.currentZoomPosition;}});this.zoomingRect=new Rect(0,0,0,0);this.performZoomRedraw(chart);}},{key:'performMouseWheelZooming',value:function performMouseWheelZooming(e,mouseX,mouseY,chart,axes){var direction=this.browserName==='mozilla'&&!this.isPointer?-e.detail/3>0?1:-1:e.wheelDelta/120>0?1:-1;var mode=this.zooming.mode;var origin=0.5;var cumulative=void 0;var zoomFactor=void 0;var zoomPosition=void 0;this.isZoomed=true;this.calculateZoomAxesRange(chart,chart.axisCollections);chart.disableTrackTooltip=true;this.performedUI=true;this.isPanning=chart.zoomSettings.enablePan||this.isPanning;axes.forEach(function(axis){if(axis.orientation==='Vertical'&&mode!=='X'||axis.orientation==='Horizontal'&&mode!=='Y'){cumulative=Math.max(Math.max(1/minMax(axis.zoomFactor,0,1),1)+0.25*direction,1);if(cumulative>=1){origin=axis.orientation==='Horizontal'?mouseX/axis.rect.width:1-mouseY/axis.rect.height;origin=origin>1?1:origin<0?0:origin;zoomFactor=cumulative===1?1:minMax(1/cumulative,0,1);zoomPosition=cumulative===1?0:axis.zoomPosition+(axis.zoomFactor-zoomFactor)*origin;if(axis.zoomPosition!==zoomPosition||axis.zoomFactor!==zoomFactor){zoomFactor=zoomPosition+zoomFactor>1?1-zoomPosition:zoomFactor;}}axis.zoomFactor=zoomFactor;axis.zoomPosition=zoomPosition;}});this.performZoomRedraw(chart);}},{key:'performPinchZooming',value:function performPinchZooming(e,chart){if(this.zoomingRect.width>0&&this.zoomingRect.height>0||chart.startMove&&chart.crosshair.enable){return false;}this.calculateZoomAxesRange(chart,chart.axisCollections);this.isZoomed=true;this.isPanning=true;this.performedUI=true;this.offset=!chart.delayRedraw?chart.chartAxisLayoutPanel.seriesClipRect:this.offset;chart.delayRedraw=true;chart.disableTrackTooltip=true;var elementOffset=chart.element.getBoundingClientRect();var touchDown=this.touchStartList;var touchMove=this.touchMoveList;var touch0StartX=touchDown[0].pageX-elementOffset.left;var touch0StartY=touchDown[0].pageY-elementOffset.top;var touch0EndX=touchMove[0].pageX-elementOffset.left;var touch0EndY=touchMove[0].pageY-elementOffset.top;var touch1StartX=touchDown[1].pageX-elementOffset.left;var touch1StartY=touchDown[1].pageY-elementOffset.top;var touch1EndX=touchMove[1].pageX-elementOffset.left;var touch1EndY=touchMove[1].pageY-elementOffset.top;var scaleX=void 0;var scaleY=void 0;var translateXValue=void 0;var translateYValue=void 0;var pinchRect=void 0;var clipX=void 0;var clipY=void 0;scaleX=Math.abs(touch0EndX-touch1EndX)/Math.abs(touch0StartX-touch1StartX);scaleY=Math.abs(touch0EndY-touch1EndY)/Math.abs(touch0StartY-touch1StartY);clipX=(this.offset.x-touch0EndX)/scaleX+touch0StartX;clipY=(this.offset.y-touch0EndY)/scaleY+touch0StartY;pinchRect=new Rect(clipX,clipY,this.offset.width/scaleX,this.offset.height/scaleY);translateXValue=touch0EndX-scaleX*touch0StartX;translateYValue=touch0EndY-scaleY*touch0StartY;if(!isNaN(scaleX-scaleX)&&!isNaN(scaleY-scaleY)){switch(this.zooming.mode){case'XY':this.setTransform(translateXValue,translateYValue,scaleX,scaleY,chart,true);break;case'X':this.setTransform(translateXValue,0,scaleX,1,chart,true);break;case'Y':this.setTransform(0,translateYValue,1,scaleY,chart,true);break;}}this.calculatePinchZoomFactor(chart,pinchRect);this.refreshAxis(chart.chartAxisLayoutPanel,chart,chart.axisCollections);return true;}},{key:'calculatePinchZoomFactor',value:function calculatePinchZoomFactor(chart,pinchRect){var _this98=this;var mode=this.zooming.mode;var selectionMin=void 0;var selectionMax=void 0;var rangeMin=void 0;var rangeMax=void 0;var value=void 0;var axisTrans=void 0;chart.axisCollections.forEach(function(axis,index){if(axis.orientation==='Horizontal'&&mode!=='Y'||axis.orientation==='Vertical'&&mode!=='X'){if(axis.orientation==='Horizontal'){value=pinchRect.x-_this98.offset.x;axisTrans=axis.rect.width/_this98.zoomAxes[index].delta;rangeMin=value/axisTrans+_this98.zoomAxes[index].min;value=pinchRect.x+pinchRect.width-_this98.offset.x;rangeMax=value/axisTrans+_this98.zoomAxes[index].min;}else{value=pinchRect.y-_this98.offset.y;axisTrans=axis.rect.height/_this98.zoomAxes[index].delta;rangeMin=(value*-1+axis.rect.height)/axisTrans+_this98.zoomAxes[index].min;value=pinchRect.y+pinchRect.height-_this98.offset.y;rangeMax=(value*-1+axis.rect.height)/axisTrans+_this98.zoomAxes[index].min;}selectionMin=Math.min(rangeMin,rangeMax);selectionMax=Math.max(rangeMin,rangeMax);axis.zoomPosition=(selectionMin-_this98.zoomAxes[index].actualMin)/_this98.zoomAxes[index].actualDelta;axis.zoomFactor=(selectionMax-selectionMin)/_this98.zoomAxes[index].actualDelta;axis.zoomPosition=axis.zoomPosition<0?0:axis.zoomPosition;axis.zoomFactor=axis.zoomFactor>1?1:axis.zoomFactor;}});}},{key:'setTransform',value:function setTransform(transX,transY,scaleX,scaleY,chart,isPinch){chart.seriesElements.setAttribute('clip-path','url(#'+this.elementId+'_ChartAreaClipRect_)');if(chart.indicatorElements){chart.indicatorElements.setAttribute('clip-path','url(#'+this.elementId+'_ChartAreaClipRect_)');}var translate=void 0;var xAxisLoc=void 0;var yAxisLoc=void 0;var element=void 0;if(transX!==null&&transY!==null){chart.visibleSeries.forEach(function(value){xAxisLoc=chart.requireInvertedAxis?value.yAxis.rect.x:value.xAxis.rect.x;yAxisLoc=chart.requireInvertedAxis?value.xAxis.rect.y:value.yAxis.rect.y;translate='translate('+(transX+(isPinch?scaleX*xAxisLoc:xAxisLoc))+','+(transY+(isPinch?scaleY*yAxisLoc:yAxisLoc))+')';translate=scaleX||scaleY?translate+' scale('+scaleX+' '+scaleY+')':translate;if(value.category==='Indicator'){value.seriesElement.parentElement.setAttribute('transform',translate);}else{value.seriesElement.setAttribute('transform',translate);}element=getElement(chart.element.id+'_Series_'+value.index+'_DataLabelCollections');if(value.errorBarElement){value.errorBarElement.setAttribute('transform',translate);}if(value.symbolElement){value.symbolElement.setAttribute('transform',translate);}if(value.textElement){value.textElement.setAttribute('visibility','hidden');value.shapeElement.setAttribute('visibility','hidden');}if(element){element.style.visibility='hidden';}});}}},{key:'calculateZoomAxesRange',value:function calculateZoomAxesRange(chart,axes){var _this99=this;var range=void 0;var axisRange=void 0;chart.axisCollections.forEach(function(axis,index){axisRange=axis.visibleRange;if(_this99.zoomAxes[index]){if(!chart.delayRedraw){_this99.zoomAxes[index].min=axisRange.min;_this99.zoomAxes[index].delta=axisRange.delta;}}else{range={actualMin:axis.actualRange.min,actualDelta:axis.actualRange.delta,min:axisRange.min,delta:axisRange.delta};_this99.zoomAxes[index]=range;}});}},{key:'showZoomingToolkit',value:function showZoomingToolkit(chart){var toolboxItems=this.zooming.toolbarItems;var areaBounds=chart.chartAxisLayoutPanel.seriesClipRect;var spacing=5;var render=chart.renderer;var length=this.isDevice?1:toolboxItems.length;var iconSize=this.isDevice?measureText('Reset Zoom',{size:'12px'}).width:16;var height=this.isDevice?measureText('Reset Zoom',{size:'12px'}).height:22;var width=length*iconSize+(length+1)*spacing+(length-1)*spacing;var transX=areaBounds.x+areaBounds.width-width-spacing;var transY=areaBounds.y+spacing;var xPosition=spacing;var outerElement=void 0;var toolkit=this.toolkit;var element=void 0;var shadowElement='<filter id="chart_shadow" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="5"/>';shadowElement+='<feOffset dx="-3" dy="4" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="1"/>';shadowElement+='</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';if(length===0||getElement(this.elementId+'_Zooming_KitCollection')){return false;}var defElement=render.createDefs();toolboxItems=this.isDevice?['Reset']:toolboxItems;defElement.innerHTML=shadowElement;this.toolkitElements=render.createGroup({id:this.elementId+'_Zooming_KitCollection',transform:'translate('+transX+','+transY+')'});this.toolkitElements.appendChild(defElement);this.toolkitElements.appendChild(render.drawRectangle(new RectOption(this.elementId+'_Zooming_Rect','#fafafa',{color:'transparent',width:1},1,new Rect(0,0,width,height+spacing*2),0,0)));outerElement=render.drawRectangle(new RectOption(this.elementId+'_Zooming_Rect','#fafafa',{color:'transparent',width:1},0.1,new Rect(0,0,width,height+spacing*2),0,0));outerElement.setAttribute('filter','url(#chart_shadow)');this.toolkitElements.appendChild(outerElement);var currentItem=void 0;for(var i=1;i<=length;i++){currentItem=toolboxItems[i-1];element=render.createGroup({transform:'translate('+xPosition+','+(this.isDevice?spacing:spacing+3)+')'});// for desktop toolkit hight is 32 and top padding is 8 icon size 16
switch(currentItem){case'Pan':toolkit.createPanButton(element,this.toolkitElements,chart);break;case'Zoom':toolkit.createZoomButton(element,this.toolkitElements,chart);break;case'ZoomIn':toolkit.createZoomInButton(element,this.toolkitElements,chart);break;case'ZoomOut':toolkit.createZoomOutButton(element,this.toolkitElements,chart);break;case'Reset':toolkit.createResetButton(element,this.toolkitElements,chart,this.isDevice);break;}xPosition+=iconSize+spacing*2;}this.toolkitElements.setAttribute('opacity',this.isDevice?'1':''+this.zoomkitOpacity);this.toolkitElements.setAttribute('cursor','auto');chart.svgObject.appendChild(this.toolkitElements);if(!this.isDevice){EventHandler.add(this.toolkitElements,'mousemove touchstart',this.zoomToolkitMove,this);EventHandler.add(this.toolkitElements,'mouseleave touchend',this.zoomToolkitLeave,this);if(this.isPanning){toolkit.pan();}}return true;}},{key:'applyZoomToolkit',value:function applyZoomToolkit(chart,axes){var showToolkit=this.isAxisZoomed(axes);if(showToolkit){this.showZoomingToolkit(chart);this.isZoomed=true;}else{this.toolkit.removeTooltip();this.isPanning=false;this.isZoomed=false;chart.svgObject.setAttribute('cursor','auto');}}},{key:'isAxisZoomed',value:function isAxisZoomed(axes){var showToolkit=false;axes.forEach(function(axis){showToolkit=showToolkit||axis.zoomFactor!==1||axis.zoomPosition!==0;});return showToolkit;}},{key:'zoomToolkitMove',value:function zoomToolkitMove(e){var element=this.toolkitElements;var opacity=+element.getAttribute('opacity');this.zoomkitOpacity=1;element.setAttribute('opacity',''+this.zoomkitOpacity);return false;}},{key:'zoomToolkitLeave',value:function zoomToolkitLeave(e){var element=this.toolkitElements;this.zoomkitOpacity=0.3;element.setAttribute('opacity',''+this.zoomkitOpacity);return false;}},{key:'addEventListener',value:function addEventListener(){if(this.chart.isDestroyed){return;}EventHandler.add(this.chart.element,this.wheelEvent,this.chartMouseWheel,this);this.chart.on(Browser.touchMoveEvent,this.mouseMoveHandler,this);this.chart.on(Browser.touchStartEvent,this.mouseDownHandler,this);this.chart.on(Browser.touchEndEvent,this.mouseUpHandler,this);this.chart.on(this.cancelEvent,this.mouseCancelHandler,this);}},{key:'removeEventListener',value:function removeEventListener(){if(this.chart.isDestroyed){return;}EventHandler.remove(this.chart.element,this.wheelEvent,this.chartMouseWheel);this.chart.off(Browser.touchMoveEvent,this.mouseMoveHandler);this.chart.off(Browser.touchStartEvent,this.mouseDownHandler);this.chart.off(Browser.touchEndEvent,this.mouseUpHandler);this.chart.off(this.cancelEvent,this.mouseCancelHandler);}},{key:'chartMouseWheel',value:function chartMouseWheel(e){var chart=this.chart;var offset=chart.element.getBoundingClientRect();var svgRect=getElement(chart.element.id+'_svg').getBoundingClientRect();var mouseX=e.clientX-offset.left-Math.max(svgRect.left-offset.left,0);var mouseY=e.clientY-offset.top-Math.max(svgRect.top-offset.top,0);if(this.zooming.enableMouseWheelZooming&&withInBounds(mouseX,mouseY,chart.chartAxisLayoutPanel.seriesClipRect)){e.preventDefault();this.performMouseWheelZooming(e,mouseX,mouseY,chart,chart.axisCollections);}return false;}},{key:'mouseMoveHandler',value:function mouseMoveHandler(e){//Zooming for chart
var chart=this.chart;var touches=null;if(e.type==='touchmove'){if(e.preventDefault&&this.isIOS&&(this.isPanning||chart.isDoubleTap||this.zooming.enablePinchZooming&&this.touchStartList.length>1)){e.preventDefault();}touches=e.touches;}if(chart.isChartDrag){if(chart.isTouch){this.touchMoveList=this.addTouchPointer(this.touchMoveList,e,touches);if(this.zooming.enablePinchZooming&&this.touchMoveList.length>1&&this.touchStartList.length>1){this.performPinchZooming(e,chart);}}this.renderZooming(e,chart,chart.isTouch);}}},{key:'mouseDownHandler',value:function mouseDownHandler(e){//Zooming for chart
var chart=this.chart;var touches=null;var target=void 0;if(e.type==='touchstart'){touches=e.touches;target=e.target;}else{target=e.target;}if(target.id.indexOf(chart.element.id+'_Zooming_')===-1&&withInBounds(chart.previousMouseMoveX,chart.previousMouseMoveY,chart.chartAxisLayoutPanel.seriesClipRect)){chart.isChartDrag=true;}if(chart.isTouch){this.touchStartList=this.addTouchPointer(this.touchStartList,e,touches);}}},{key:'mouseUpHandler',value:function mouseUpHandler(e){var chart=this.chart;var performZoomRedraw=e.target.id.indexOf(chart.element.id+'_ZoomOut_')===-1||e.target.id.indexOf(chart.element.id+'_ZoomIn_')===-1;if(chart.isChartDrag||performZoomRedraw){this.performZoomRedraw(chart);}if(chart.isTouch){if(chart.isDoubleTap&&withInBounds(chart.mouseX,chart.mouseY,chart.chartAxisLayoutPanel.seriesClipRect)&&this.touchStartList.length===1&&this.isZoomed){this.toolkit.reset();}this.touchStartList=[];chart.isDoubleTap=false;}}},{key:'mouseCancelHandler',value:function mouseCancelHandler(e){if(this.isZoomed){this.performZoomRedraw(this.chart);}this.pinchTarget=null;this.touchStartList=[];this.touchMoveList=[];}},{key:'addTouchPointer',value:function addTouchPointer(touchList,e,touches){if(touches){touchList=[];for(var i=0,length=touches.length;i<length;i++){touchList.push({pageX:touches[i].clientX,pageY:touches[i].clientY,pointerId:null});}}else{touchList=touchList?touchList:[];if(touchList.length===0){touchList.push({pageX:e.clientX,pageY:e.clientY,pointerId:e.pointerId});}else{for(var _i13=0,_length=touchList.length;_i13<_length;_i13++){if(touchList[_i13].pointerId===e.pointerId){touchList[_i13]={pageX:e.clientX,pageY:e.clientY,pointerId:e.pointerId};}else{touchList.push({pageX:e.clientX,pageY:e.clientY,pointerId:e.pointerId});}}}}return touchList;}},{key:'getModuleName',value:function getModuleName(){// Returns te module name
return'Zoom';}},{key:'destroy',value:function destroy(chart){// Destroy method performed here
this.removeEventListener();}}]);return Zoom;}());BaseSelection=function(){function BaseSelection(control){_classCallCheck(this,BaseSelection);this.control=control;}/**
     * To create selection styles for series
     */_createClass(BaseSelection,[{key:'seriesStyles',value:function seriesStyles(){var seriesclass=void 0;var style=document.getElementById(this.styleId);if(isNullOrUndefined(style)){style=document.createElement('style');style.setAttribute('id',this.styleId);var _iteratorNormalCompletion86=true;var _didIteratorError86=false;var _iteratorError86=undefined;try{for(var _iterator86=this.control.visibleSeries[Symbol.iterator](),_step86;!(_iteratorNormalCompletion86=(_step86=_iterator86.next()).done);_iteratorNormalCompletion86=true){var series=_step86.value;seriesclass=series.selectionStyle||this.styleId+'_series_'+series.index;style.innerHTML+=series.selectionStyle?'':'.'+seriesclass+' { } ';}}catch(err){_didIteratorError86=true;_iteratorError86=err;}finally{try{if(!_iteratorNormalCompletion86&&_iterator86.return){_iterator86.return();}}finally{if(_didIteratorError86){throw _iteratorError86;}}}style.innerHTML+='.'+this.unselected+' { opacity:'+0.3+';} ';document.body.appendChild(style);}}},{key:'concatIndexes',value:function concatIndexes(userIndexes,localIndexes){return userIndexes.concat(localIndexes);}},{key:'checkVisibility',value:function checkVisibility(selectedIndexes){var visible=false;var uniqueSeries=[];var _iteratorNormalCompletion87=true;var _didIteratorError87=false;var _iteratorError87=undefined;try{for(var _iterator87=selectedIndexes[Symbol.iterator](),_step87;!(_iteratorNormalCompletion87=(_step87=_iterator87.next()).done);_iteratorNormalCompletion87=true){var index=_step87.value;if(uniqueSeries.indexOf(index.series)===-1){uniqueSeries.push(index.series);}}}catch(err){_didIteratorError87=true;_iteratorError87=err;}finally{try{if(!_iteratorNormalCompletion87&&_iterator87.return){_iterator87.return();}}finally{if(_didIteratorError87){throw _iteratorError87;}}}var _iteratorNormalCompletion88=true;var _didIteratorError88=false;var _iteratorError88=undefined;try{for(var _iterator88=uniqueSeries[Symbol.iterator](),_step88;!(_iteratorNormalCompletion88=(_step88=_iterator88.next()).done);_iteratorNormalCompletion88=true){var _index3=_step88.value;if(this.control.series[_index3].visible){visible=true;break;}}}catch(err){_didIteratorError88=true;_iteratorError88=err;}finally{try{if(!_iteratorNormalCompletion88&&_iterator88.return){_iterator88.return();}}finally{if(_didIteratorError88){throw _iteratorError88;}}}return visible;}},{key:'addSvgClass',value:function addSvgClass(element,className){var elementClassName=element.getAttribute('class')||'';elementClassName+=elementClassName!==''?' ':'';if(elementClassName.indexOf(className)===-1){element.setAttribute('class',elementClassName+className);}}},{key:'removeSvgClass',value:function removeSvgClass(element,className){var elementClassName=element.getAttribute('class')||'';if(elementClassName.indexOf(className)>-1){element.setAttribute('class',elementClassName.replace(className,''));}}},{key:'getChildren',value:function getChildren(parent){var children=[];for(var i=0;i<parent.childNodes.length;i++){if(parent.childNodes[i].tagName!=='defs'){children.push(parent.childNodes[i]);}}return children;}}]);return BaseSelection;}();_export2('Selection',Selection=function(_BaseSelection){_inherits(Selection,_BaseSelection);/**
     * Constructor for selection module.
     * @private.
     */function Selection(chart){_classCallCheck(this,Selection);var _this100=_possibleConstructorReturn(this,(Selection.__proto__||Object.getPrototypeOf(Selection)).call(this,chart));_this100.chart=chart;_this100.renderer=chart.renderer;_this100.addEventListener();return _this100;}/**
     * Binding events for selection module.
     */_createClass(Selection,[{key:'addEventListener',value:function addEventListener(){if(this.chart.isDestroyed){return;}var cancelEvent=Browser.isPointer?'pointerleave':'mouseleave';this.chart.on(Browser.touchMoveEvent,this.mouseMove,this);this.chart.on(cancelEvent,this.completeSelection,this);this.chart.on('click',this.calculateSelectedElements,this);this.chart.on(Browser.touchStartEvent,this.mousedown,this);this.chart.on(Browser.touchEndEvent,this.completeSelection,this);}},{key:'mousedown',value:function mousedown(e){var chart=this.chart;if(chart.selectionMode==='None'||chart.isChartDrag){return;}if(chart.isDoubleTap||!chart.isTouch||this.rectPoints){this.dragStart(chart,chart.chartAxisLayoutPanel.seriesClipRect,chart.mouseDownX,chart.mouseDownY,e);}}},{key:'removeEventListener',value:function removeEventListener(){if(this.chart.isDestroyed){return;}this.chart.off(Browser.touchMoveEvent,this.mouseMove);this.chart.off('pointerleave'||'mouseleave',this.completeSelection);this.chart.off('click',this.calculateSelectedElements);this.chart.off(Browser.touchStartEvent,this.mousedown);this.chart.off(Browser.touchEndEvent,this.completeSelection);}},{key:'initPrivateVariables',value:function initPrivateVariables(chart){this.styleId=chart.element.id+'_ej2_chart_selection';this.unselected=chart.element.id+'_ej2_deselected';this.closeIconId=chart.element.id+'_ej2_drag_close';this.draggedRectGroup=chart.element.id+'_ej2_drag_group';this.draggedRect=chart.element.id+'_ej2_drag_rect';this.selectedDataIndexes=[];this.rectPoints=null;this.isSeriesMode=chart.selectionMode==='Series';}},{key:'invokeSelection',value:function invokeSelection(chart){this.initPrivateVariables(chart);this.series=extend({},chart.visibleSeries,null,true);this.seriesStyles();if(!(chart.selectionMode.indexOf('Drag')>-1)){this.selectDataIndex(chart,this.concatIndexes(chart.selectedDataIndexes,this.selectedDataIndexes));}}},{key:'generateStyle',value:function generateStyle(series){if(series){return series.selectionStyle||this.styleId+'_series_'+series.index;}return'undefined';}},{key:'selectDataIndex',value:function selectDataIndex(chart,indexes){var _iteratorNormalCompletion89=true;var _didIteratorError89=false;var _iteratorError89=undefined;try{for(var _iterator89=indexes[Symbol.iterator](),_step89;!(_iteratorNormalCompletion89=(_step89=_iterator89.next()).done);_iteratorNormalCompletion89=true){var index=_step89.value;this.performSelection(index,chart,this.getElementByIndex(chart,index)[0]);}}catch(err){_didIteratorError89=true;_iteratorError89=err;}finally{try{if(!_iteratorNormalCompletion89&&_iterator89.return){_iterator89.return();}}finally{if(_didIteratorError89){throw _iteratorError89;}}}}},{key:'getElementByIndex',value:function getElementByIndex(chart,index){var suffix=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';var elementId=chart.element.id+'_Series_'+index.series+'_Point'+'_'+index.point;var series=chart.series[index.series];elementId=!series.isRectSeries&&series.type!=='Scatter'&&series.type!=='Bubble'&&series.marker.visible?elementId+'_Symbol'+suffix:elementId;return[getElement(elementId),series.type==='RangeArea'&&series.marker.visible?getElement(elementId+'1'):null];}},{key:'getClusterElements',value:function getClusterElements(chart,index){var clusters=[];var _iteratorNormalCompletion90=true;var _didIteratorError90=false;var _iteratorError90=undefined;try{for(var _iterator90=chart.visibleSeries[Symbol.iterator](),_step90;!(_iteratorNormalCompletion90=(_step90=_iterator90.next()).done);_iteratorNormalCompletion90=true){var series=_step90.value;index=new Index(series.index,index.point);clusters.push(this.getElementByIndex(chart,index)[0]);}}catch(err){_didIteratorError90=true;_iteratorError90=err;}finally{try{if(!_iteratorNormalCompletion90&&_iterator90.return){_iterator90.return();}}finally{if(_didIteratorError90){throw _iteratorError90;}}}return clusters;}},{key:'findElements',value:function findElements(chart,series,index){var suffix=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'';if(this.isSeriesMode){return this.getSeriesElements(series);}else if(chart.selectionMode==='Cluster'){return this.getClusterElements(chart,index);}else{return this.getElementByIndex(chart,index,suffix);}}},{key:'calculateSelectedElements',value:function calculateSelectedElements(event){if(this.chart.selectionMode==='None'||event.target.id.indexOf(this.chart.element.id+'_')===-1){return;}if(event.target.id.indexOf('_Series_')>-1){this.performSelection(this.indexFinder(event.target.id),this.chart,event.target);}}},{key:'performSelection',value:function performSelection(index,chart,element){this.isSeriesMode=chart.selectionMode==='Series';if(chart.series[index.series].type==='BoxAndWhisker'&&element.id===chart.element.id+'_Series_'+index.series+'_Point_'+index.point+'_BoxPath'){element=element.parentElement;}switch(chart.selectionMode){case'Series':this.selection(chart,index,this.getSeriesElements(chart.series[index.series]));this.blurEffect(chart.element.id,chart.visibleSeries);break;case'Point':if(!isNaN(index.point)){this.selection(chart,index,[element]);this.blurEffect(chart.element.id,chart.visibleSeries);}break;case'Cluster':if(!isNaN(index.point)){this.clusterSelection(chart,chart.series,index);this.blurEffect(chart.element.id,chart.visibleSeries);}break;}}},{key:'selection',value:function selection(chart,index,selectedElements){if(!chart.isMultiSelect&&chart.selectionMode.indexOf('Drag')===-1){this.removeMultiSelectEelments(chart,this.selectedDataIndexes,index,chart.series);}var className=selectedElements[0]&&(selectedElements[0].getAttribute('class')||'');if(selectedElements[0]&&className.indexOf(this.getSelectionClass(selectedElements[0].id))>-1){this.removeStyles(selectedElements);this.addOrRemoveIndex(this.selectedDataIndexes,index);}else{this.applyStyles(selectedElements);this.addOrRemoveIndex(this.selectedDataIndexes,index,true);}}},{key:'clusterSelection',value:function clusterSelection(chart,series,index){this.selection(chart,index,this.getClusterElements(chart,new Index(index.series,index.point)));}},{key:'removeMultiSelectEelments',value:function removeMultiSelectEelments(chart,index,currentIndex,seriesCollection){var series=void 0;for(var i=0;i<index.length;i++){series=seriesCollection[index[i].series];if(this.isSeriesMode&&!this.toEquals(index[i],currentIndex,this.isSeriesMode)||this.control.selectionMode==='Cluster'&&!this.toEquals(index[i],currentIndex,false)||!this.isSeriesMode&&this.toEquals(index[i],currentIndex,true)&&!this.toEquals(index[i],currentIndex,false)){this.removeStyles(this.findElements(chart,series,index[i]));index.splice(i,1);i--;}}}},{key:'blurEffect',value:function blurEffect(chartId,visibleSeries){var visibility=this.checkVisibility(this.selectedDataIndexes);// legend click scenario
var _iteratorNormalCompletion91=true;var _didIteratorError91=false;var _iteratorError91=undefined;try{for(var _iterator91=visibleSeries[Symbol.iterator](),_step91;!(_iteratorNormalCompletion91=(_step91=_iterator91.next()).done);_iteratorNormalCompletion91=true){var series=_step91.value;if(series.visible){this.checkSelectionElements(getElement(chartId+'SeriesGroup'+series.index),this.generateStyle(series),visibility);if(!isNullOrUndefined(getElement(chartId+'SymbolGroup'+series.index))){this.checkSelectionElements(getElement(chartId+'SymbolGroup'+series.index),this.generateStyle(series),visibility);}}}}catch(err){_didIteratorError91=true;_iteratorError91=err;}finally{try{if(!_iteratorNormalCompletion91&&_iterator91.return){_iterator91.return();}}finally{if(_didIteratorError91){throw _iteratorError91;}}}}},{key:'checkSelectionElements',value:function checkSelectionElements(element,className,visibility){var children=this.isSeriesMode?[element]:element.childNodes;var elementClassName=void 0;var parentClassName=void 0;var legendShape=void 0;var selectElement=element;for(var i=0;i<children.length;i++){elementClassName=children[i].getAttribute('class')||'';parentClassName=children[i].parentNode.getAttribute('class')||'';if(elementClassName.indexOf(className)===-1&&parentClassName.indexOf(className)===-1&&visibility){this.addSvgClass(children[i],this.unselected);}else{selectElement=children[i];this.removeSvgClass(children[i],this.unselected);}}if(this.control.legendModule&&this.control.legendSettings.visible){legendShape=document.getElementById(this.control.element.id+'_chart_legend_shape_'+className.split('_series_')[1]);if(legendShape){elementClassName=selectElement.getAttribute('class')||'';parentClassName=selectElement.parentNode.getAttribute('class')||'';if(elementClassName.indexOf(className)===-1&&parentClassName.indexOf(className)===-1&&visibility){this.addSvgClass(legendShape,this.unselected);}else{this.removeSvgClass(legendShape,this.unselected);}}}}},{key:'applyStyles',value:function applyStyles(elements){var _iteratorNormalCompletion92=true;var _didIteratorError92=false;var _iteratorError92=undefined;try{for(var _iterator92=elements[Symbol.iterator](),_step92;!(_iteratorNormalCompletion92=(_step92=_iterator92.next()).done);_iteratorNormalCompletion92=true){var element=_step92.value;if(element){this.removeSvgClass(element.parentNode,this.unselected);this.removeSvgClass(element,this.unselected);this.addSvgClass(element,this.getSelectionClass(element.id));}}}catch(err){_didIteratorError92=true;_iteratorError92=err;}finally{try{if(!_iteratorNormalCompletion92&&_iterator92.return){_iterator92.return();}}finally{if(_didIteratorError92){throw _iteratorError92;}}}}},{key:'getSelectionClass',value:function getSelectionClass(id){return this.generateStyle(this.control.series[this.indexFinder(id).series]);}},{key:'removeStyles',value:function removeStyles(elements){var _iteratorNormalCompletion93=true;var _didIteratorError93=false;var _iteratorError93=undefined;try{for(var _iterator93=elements[Symbol.iterator](),_step93;!(_iteratorNormalCompletion93=(_step93=_iterator93.next()).done);_iteratorNormalCompletion93=true){var element=_step93.value;if(element){this.removeSvgClass(element,this.getSelectionClass(element.id));}}}catch(err){_didIteratorError93=true;_iteratorError93=err;}finally{try{if(!_iteratorNormalCompletion93&&_iterator93.return){_iterator93.return();}}finally{if(_didIteratorError93){throw _iteratorError93;}}}}},{key:'addOrRemoveIndex',value:function addOrRemoveIndex(indexes,index,add){for(var i=0;i<indexes.length;i++){if(this.toEquals(indexes[i],index,this.isSeriesMode)){indexes.splice(i,1);i--;}}if(add){indexes.push(index);}}},{key:'toEquals',value:function toEquals(first,second,checkSeriesOnly){return(first.series===second.series||this.control.selectionMode==='Cluster'&&!checkSeriesOnly)&&(checkSeriesOnly||first.point===second.point);}},{key:'redrawSelection',value:function redrawSelection(chart,oldMode){this.isSeriesMode=oldMode==='Series';var selectedDataIndexes=extend([],this.selectedDataIndexes,null,true);this.removeSelectedElements(chart,this.selectedDataIndexes,chart.series);this.blurEffect(chart.element.id,chart.visibleSeries);this.selectDataIndex(chart,selectedDataIndexes);}},{key:'legendSelection',value:function legendSelection(chart,series){var seriesStyle=this.generateStyle(chart.visibleSeries[series]);var selectedElements=document.getElementsByClassName(seriesStyle);this.isSeriesMode=chart.selectionMode==='Series';var isBlurEffectNeeded=true;if(selectedElements.length>0){var elements=[];for(var i=0;i<selectedElements.length;i++){elements.push(selectedElements[i]);}this.removeStyles(elements);this.isSeriesMode=true;this.addOrRemoveIndex(this.selectedDataIndexes,new Index(series,NaN));var _iteratorNormalCompletion94=true;var _didIteratorError94=false;var _iteratorError94=undefined;try{for(var _iterator94=chart.visibleSeries[Symbol.iterator](),_step94;!(_iteratorNormalCompletion94=(_step94=_iterator94.next()).done);_iteratorNormalCompletion94=true){var _series2=_step94.value;seriesStyle=this.generateStyle(_series2);if(document.getElementsByClassName(seriesStyle).length>0){var _iteratorNormalCompletion95=true;var _didIteratorError95=false;var _iteratorError95=undefined;try{for(var _iterator95=elements[Symbol.iterator](),_step95;!(_iteratorNormalCompletion95=(_step95=_iterator95.next()).done);_iteratorNormalCompletion95=true){var element=_step95.value;this.checkSelectionElements(element,seriesStyle,true);}}catch(err){_didIteratorError95=true;_iteratorError95=err;}finally{try{if(!_iteratorNormalCompletion95&&_iterator95.return){_iterator95.return();}}finally{if(_didIteratorError95){throw _iteratorError95;}}}isBlurEffectNeeded=false;break;}}}catch(err){_didIteratorError94=true;_iteratorError94=err;}finally{try{if(!_iteratorNormalCompletion94&&_iterator94.return){_iterator94.return();}}finally{if(_didIteratorError94){throw _iteratorError94;}}}if(isBlurEffectNeeded){this.isSeriesMode=chart.selectionMode==='Series';this.blurEffect(chart.element.id,chart.visibleSeries);}}else{var seriesElements=this.getSeriesElements(chart.visibleSeries[series]);var _iteratorNormalCompletion96=true;var _didIteratorError96=false;var _iteratorError96=undefined;try{for(var _iterator96=seriesElements[Symbol.iterator](),_step96;!(_iteratorNormalCompletion96=(_step96=_iterator96.next()).done);_iteratorNormalCompletion96=true){var seriesElement=_step96.value;this.checkSelectionElements(seriesElement,seriesStyle,false);}}catch(err){_didIteratorError96=true;_iteratorError96=err;}finally{try{if(!_iteratorNormalCompletion96&&_iterator96.return){_iterator96.return();}}finally{if(_didIteratorError96){throw _iteratorError96;}}}this.isSeriesMode=true;this.selection(chart,new Index(series,NaN),seriesElements);this.isSeriesMode=chart.selectionMode==='Series';this.blurEffect(chart.element.id,chart.visibleSeries);}}},{key:'getSeriesElements',value:function getSeriesElements(series){var seriesElements=[series.seriesElement];if(series.marker.visible&&series.type!=='Scatter'&&series.type!=='Bubble'&&!series.isRectSeries){seriesElements.push(series.symbolElement);}return seriesElements;}},{key:'indexFinder',value:function indexFinder(id){var ids=['NaN','NaN'];if(id.indexOf('SeriesGroup')>-1){ids=id.split('SeriesGroup');ids[0]=ids[1];}else if(id.indexOf('SymbolGroup')>-1){ids=id.split('SymbolGroup');ids[0]=ids[1];}else if(id.indexOf('_Point_')>-1){ids=id.split('_Series_')[1].split('_Point_');}else if(id.indexOf('_Series_')>-1){ids[0]=id.split('_Series_')[1];}return new Index(parseInt(ids[0],10),parseInt(ids[1],10));}},{key:'calculateDragSelectedElements',value:function calculateDragSelectedElements(chart,dragRect){var _this101=this;this.removeSelectedElements(chart,this.selectedDataIndexes,chart.series);var rect=new Rect(dragRect.x,dragRect.y,dragRect.width,dragRect.height);var axisOffset=new ChartLocation(chart.chartAxisLayoutPanel.seriesClipRect.x,chart.chartAxisLayoutPanel.seriesClipRect.y);this.removeOffset(rect,axisOffset);var points=void 0;var index=void 0;var selectedPointValues=[];var selectedSeriesValues=[];this.isSeriesMode=false;var _iteratorNormalCompletion97=true;var _didIteratorError97=false;var _iteratorError97=undefined;try{for(var _iterator97=chart.visibleSeries[Symbol.iterator](),_step97;!(_iteratorNormalCompletion97=(_step97=_iterator97.next()).done);_iteratorNormalCompletion97=true){var series=_step97.value;if(series.visible){(function(){points=series.points;selectedPointValues=[];var xAxisOffset=void 0;var yAxisOffset=void 0;if((chart.isTransposed||series.type.indexOf('Bar')!==-1)&&!(chart.isTransposed&&series.type.indexOf('Bar')!==-1)){xAxisOffset=series.xAxis.rect.y-axisOffset.y;yAxisOffset=series.yAxis.rect.x-axisOffset.x;}else{xAxisOffset=series.xAxis.rect.x-axisOffset.x;yAxisOffset=series.yAxis.rect.y-axisOffset.y;}for(var j=0;j<points.length;j++){var yValue=series.type!=='RangeArea'?points[j].yValue:points[j].regions[0].y;var isCurrentPoint=void 0;if(series.type==='BoxAndWhisker'){isCurrentPoint=points[j].regions.some(function(region){return withInBounds(region.x+xAxisOffset,region.y+yAxisOffset,rect);});}else{isCurrentPoint=points[j].symbolLocations.some(function(location){return location&&withInBounds(location.x+xAxisOffset,location.y+yAxisOffset,rect);});}if(isCurrentPoint&&series.category!=='Indicator'){index=new Index(series.index,points[j].index);_this101.selection(chart,index,_this101.findElements(chart,series,index));selectedPointValues.push({x:points[j].xValue.toString(),y:yValue});}if(isCurrentPoint&&series.type==='RangeArea'){selectedPointValues.push({x:points[j].xValue.toString(),y:points[j].regions[0].y});}}selectedSeriesValues.push(selectedPointValues);})();}}}catch(err){_didIteratorError97=true;_iteratorError97=err;}finally{try{if(!_iteratorNormalCompletion97&&_iterator97.return){_iterator97.return();}}finally{if(_didIteratorError97){throw _iteratorError97;}}}this.blurEffect(chart.element.id,chart.visibleSeries);this.rectPoints=new Rect(dragRect.x,dragRect.y,dragRect.width,dragRect.height);this.createCloseButton(dragRect.x+dragRect.width,dragRect.y);var args={name:dragComplete,selectedDataValues:selectedSeriesValues,cancel:false};chart.trigger(dragComplete,args);}},{key:'removeOffset',value:function removeOffset(rect,clip){rect.x-=clip.x;rect.y-=clip.y;}},{key:'drawDraggingRect',value:function drawDraggingRect(chart,dragRect){var cartesianLayout=chart.chartAxisLayoutPanel.seriesClipRect;switch(chart.selectionMode){case'DragX':dragRect.y=cartesianLayout.y;dragRect.height=cartesianLayout.height;break;case'DragY':dragRect.x=cartesianLayout.x;dragRect.width=cartesianLayout.width;break;}if(dragRect.width<5||dragRect.height<5){return null;}var element=getElement(this.draggedRect);if(this.closeIcon){removeElement(this.closeIconId);}if(element){this.setAttributes(element,dragRect);}else{var dragGroup=chart.renderer.createGroup({id:this.draggedRectGroup});chart.svgObject.appendChild(dragGroup);element=chart.renderer.drawRectangle(new RectOption(this.draggedRect,chart.themeStyle.selectionRectFill,{color:chart.themeStyle.selectionRectStroke,width:1},1,dragRect));element.setAttribute('style','cursor:move;');dragGroup.appendChild(element);}}},{key:'createCloseButton',value:function createCloseButton(x,y){var closeIcon=this.chart.renderer.createGroup({id:this.closeIconId,style:'cursor:pointer; visibility: visible;'});closeIcon.appendChild(this.chart.renderer.drawCircle(new CircleOption(this.closeIconId+'_circle','#FFFFFF',{color:this.chart.themeStyle.selectionCircleStroke,width:1},1,x,y,10)));var direction='M '+(x-4)+' '+(y-4)+' L '+(x+4)+' '+(y+4)+' M '+(x-4)+' '+(y+4)+' L '+(x+4)+' '+(y-4);closeIcon.appendChild(this.chart.renderer.drawPath({id:this.closeIconId+'_cross',d:direction,stroke:this.chart.themeStyle.selectionCircleStroke,'stroke-width':2,fill:this.chart.themeStyle.selectionCircleStroke}));this.closeIcon=closeIcon;getElement(this.draggedRectGroup).appendChild(closeIcon);}},{key:'removeDraggedElements',value:function removeDraggedElements(chart,event){if(event.target.id.indexOf(this.closeIconId)>-1&&event.type.indexOf('move')===-1){this.removeSelectedElements(chart,this.selectedDataIndexes,chart.series);this.blurEffect(chart.element.id,chart.visibleSeries);remove(getElement(this.draggedRectGroup));this.changeCursorStyle(false,chart.svgObject,'auto');this.rectPoints=null;}}},{key:'resizingSelectionRect',value:function resizingSelectionRect(chart,location,tapped){var rect=new Rect(this.rectPoints.x,this.rectPoints.y,this.rectPoints.width,this.rectPoints.height);var resize=this.findResizeMode(chart.svgObject,rect,location);if(this.resizing){rect=getDraggedRectLocation(rect.x,rect.y,rect.x+rect.width,rect.y+rect.height,chart.chartAxisLayoutPanel.seriesClipRect);this.drawDraggingRect(chart,rect);this.dragRect=rect;}if(tapped){this.resizing=resize;}}},{key:'findResizeMode',value:function findResizeMode(chartSvgObject,rect,location){var cursorStyle='se-resize';var resize=false;if(!this.resizing){var resizeEdges=[new Rect(rect.x,rect.y-10,rect.width-5,20),new Rect(rect.x-10,rect.y,20,rect.height),new Rect(rect.x,rect.y+rect.height-10,rect.width-10,20),new Rect(rect.x+rect.width-10,rect.y+5,20,rect.height-15),new Rect(rect.x+rect.width-10,rect.y+rect.height-10,20,20)];//corner
for(var i=0;i<resizeEdges.length;i++){if(withInBounds(location.x,location.y,resizeEdges[i])){cursorStyle=i===4?cursorStyle:i%2===0?'ns-resize':'ew-resize';resize=true;this.resizeMode=i;break;}}}else{var x=rect.x;var y=rect.y;var width=location.x-x;var height=location.y-y;switch(this.resizeMode){case 0:height=Math.abs(rect.height+rect.y-location.y);rect.y=Math.min(rect.height+rect.y,location.y);rect.height=height;break;case 1:width=Math.abs(rect.width+rect.x-location.x);rect.x=Math.min(rect.width+rect.x,location.x);rect.width=width;break;case 2:rect.height=Math.abs(height);rect.y=Math.min(location.y,y);break;case 3:rect.width=Math.abs(width);rect.x=Math.min(location.x,x);break;case 4:rect.width=Math.abs(width);rect.height=Math.abs(height);rect.x=Math.min(location.x,x);rect.y=Math.min(location.y,y);break;}}this.changeCursorStyle(resize,getElement(this.draggedRect),cursorStyle);this.changeCursorStyle(resize,chartSvgObject,cursorStyle);return resize;}},{key:'changeCursorStyle',value:function changeCursorStyle(isResize,rectelement,cursorStyle){cursorStyle=isResize?cursorStyle:this.control.svgObject===rectelement?'auto':'move';rectelement.setAttribute('style','cursor:'+cursorStyle+';');}},{key:'removeSelectedElements',value:function removeSelectedElements(chart,index,seriesCollection){index.splice(0,index.length);var seriesElements=void 0;var _iteratorNormalCompletion98=true;var _didIteratorError98=false;var _iteratorError98=undefined;try{for(var _iterator98=seriesCollection[Symbol.iterator](),_step98;!(_iteratorNormalCompletion98=(_step98=_iterator98.next()).done);_iteratorNormalCompletion98=true){var series=_step98.value;seriesElements=this.getSeriesElements(series);this.removeStyles(seriesElements);var _iteratorNormalCompletion99=true;var _didIteratorError99=false;var _iteratorError99=undefined;try{for(var _iterator99=seriesElements[Symbol.iterator](),_step99;!(_iteratorNormalCompletion99=(_step99=_iterator99.next()).done);_iteratorNormalCompletion99=true){var seriesElement=_step99.value;this.removeStyles(this.getChildren(seriesElement));}}catch(err){_didIteratorError99=true;_iteratorError99=err;}finally{try{if(!_iteratorNormalCompletion99&&_iterator99.return){_iterator99.return();}}finally{if(_didIteratorError99){throw _iteratorError99;}}}}}catch(err){_didIteratorError98=true;_iteratorError98=err;}finally{try{if(!_iteratorNormalCompletion98&&_iterator98.return){_iterator98.return();}}finally{if(_didIteratorError98){throw _iteratorError98;}}}}},{key:'setAttributes',value:function setAttributes(ele,object){var keys=Object.keys(object);var _iteratorNormalCompletion100=true;var _didIteratorError100=false;var _iteratorError100=undefined;try{for(var _iterator100=keys[Symbol.iterator](),_step100;!(_iteratorNormalCompletion100=(_step100=_iterator100.next()).done);_iteratorNormalCompletion100=true){var key=_step100.value;ele.setAttribute(key,object[key]);}}catch(err){_didIteratorError100=true;_iteratorError100=err;}finally{try{if(!_iteratorNormalCompletion100&&_iterator100.return){_iterator100.return();}}finally{if(_didIteratorError100){throw _iteratorError100;}}}}},{key:'draggedRectMoved',value:function draggedRectMoved(chart,grabbedPoint,doDrawing){var rect=new Rect(this.rectPoints.x,this.rectPoints.y,this.rectPoints.width,this.rectPoints.height);rect.x-=grabbedPoint.x-chart.mouseX;rect.y-=grabbedPoint.y-chart.mouseY;rect=getDraggedRectLocation(rect.x,rect.y,rect.x+rect.width,rect.height+rect.y,chart.chartAxisLayoutPanel.seriesClipRect);if(doDrawing){this.drawDraggingRect(chart,rect);}else{this.calculateDragSelectedElements(chart,rect);}}},{key:'completeSelection',value:function completeSelection(e){var chart=this.chart;if(chart.selectionMode==='None'){return;}if((this.dragging||this.resizing)&&this.dragRect.width>5&&this.dragRect.height>5){this.calculateDragSelectedElements(chart,this.dragRect);}else if(this.rectGrabbing&&this.rectPoints.width&&this.rectPoints.height){this.draggedRectMoved(chart,this.dragRect);}this.dragging=false;this.rectGrabbing=false;this.resizing=false;this.removeDraggedElements(chart,e);}},{key:'getDragRect',value:function getDragRect(chart,seriesClipRect){return getDraggedRectLocation(chart.mouseDownX,chart.mouseDownY,chart.mouseX,chart.mouseY,seriesClipRect);}},{key:'dragStart',value:function dragStart(chart,seriesClipRect,mouseDownX,mouseDownY,event){this.dragging=chart.selectionMode.indexOf('Drag')>-1&&(chart.isDoubleTap||!chart.isTouch)&&chart.chartAreaType!=='PolarRadar';if(this.dragging){this.dragRect=new Rect(chart.mouseDownX,chart.mouseDownY,0,0);if(chart.mouseDownX<seriesClipRect.x||chart.mouseDownX>seriesClipRect.x+seriesClipRect.width||chart.mouseDownY<seriesClipRect.y||chart.mouseDownY>seriesClipRect.y+seriesClipRect.height){this.dragging=false;}}if(this.rectPoints){this.dragRect=new Rect(chart.mouseDownX,chart.mouseDownY,0,0);this.resizingSelectionRect(chart,new ChartLocation(mouseDownX,mouseDownY),true);this.rectGrabbing=withInBounds(mouseDownX,mouseDownY,this.rectPoints);}}},{key:'mouseMove',value:function mouseMove(event){var chart=this.chart;if(chart.selectionMode==='None'){return;}if(event.type==='touchmove'&&(Browser.isIos||Browser.isIos7)&&this.dragging&&event.preventDefault){event.preventDefault();}var insideMoving=withInBounds(chart.mouseX,chart.mouseY,chart.chartAxisLayoutPanel.seriesClipRect);if(insideMoving){if(this.rectGrabbing&&!this.resizing){this.draggedRectMoved(chart,this.dragRect,true);}else if(this.dragging&&!this.resizing){this.dragRect=this.getDragRect(chart,chart.chartAxisLayoutPanel.seriesClipRect);this.drawDraggingRect(chart,this.dragRect);}if(this.rectPoints){this.resizingSelectionRect(chart,new ChartLocation(chart.mouseX,chart.mouseY));}}else{this.completeSelection(event);}}},{key:'getModuleName',value:function getModuleName(){return'Selection';}},{key:'destroy',value:function destroy(chart){this.removeEventListener();// Destroy method performed here
}}]);return Selection;}(BaseSelection));_export2('DataLabel',DataLabel=function(){/**
     * Constructor for the data label module.
     * @private
     */function DataLabel(chart){_classCallCheck(this,DataLabel);this.errorHeight=0;this.chart=chart;}_createClass(DataLabel,[{key:'initPrivateVariables',value:function initPrivateVariables(series,marker){var transform=void 0;var render=series.chart.renderer;transform=series.chart.chartAreaType==='Cartesian'?'translate('+series.clipRect.x+','+series.clipRect.y+')':'';if(marker.dataLabel.visible){series.shapeElement=render.createGroup({'id':this.chart.element.id+'ShapeGroup'+series.index,'transform':transform,'clip-path':'url(#'+this.chart.element.id+'_ChartSeriesClipRect_'+series.index+')'});series.textElement=render.createGroup({'id':this.chart.element.id+'TextGroup'+series.index,'transform':transform,'clip-path':'url(#'+this.chart.element.id+'_ChartSeriesClipRect_'+series.index+')'});}this.markerHeight=(series.type==='Scatter'||marker.visible)&&!this.isRectSeries(series)?marker.height/2:0;this.commonId=this.chart.element.id+'_Series_'+series.index+'_Point_';this.calculateErrorHeight(series,series.marker.dataLabel.position);this.chartBackground=this.chart.chartArea.background==='trasparent'?this.chart.background||this.chart.themeStyle.background:this.chart.chartArea.background;}},{key:'calculateErrorHeight',value:function calculateErrorHeight(series,position){if(!series.errorBar.visible){return null;}else if(series.errorBar.visible&&this.chart.chartAreaType!=='PolarRadar'){var direction=series.errorBar.direction;var positiveHeight=this.chart.errorBarModule.positiveHeight;var negativeHeight=this.chart.errorBarModule.negativeHeight;if(this.isRectSeries(series)){if(position==='Top'||position==='Auto'){if(direction==='Both'||direction==='Minus'){this.errorHeight=negativeHeight;}else{this.errorHeight=0;}}if(position==='Outer'||position==='Auto'){if(direction==='Both'||direction==='Plus'){this.errorHeight=positiveHeight;}else{this.errorHeight=0;}}}else{if(position==='Top'||position==='Outer'||position==='Auto'){if((direction==='Both'||direction==='Plus')&&!series.chart.isTransposed){this.errorHeight=positiveHeight;}else{this.errorHeight=0;}}if(position==='Bottom'||position==='Auto'){if(direction==='Both'||direction==='Minus'){this.errorHeight=negativeHeight;}else{this.errorHeight=0;}}}}else{this.errorHeight=0;}}},{key:'isRectSeries',value:function isRectSeries(series){return series.isRectSeries||series.type==='RangeArea';}},{key:'render',value:function render(series,chart,dataLabel){var _this102=this;// initialize the private variable
this.initPrivateVariables(series,series.marker);var rect=void 0;var rgbValue=void 0;var contrast=void 0;var argsData=void 0;var border=void 0;var textSize=void 0;this.inverted=chart.requireInvertedAxis;this.yAxisInversed=series.yAxis.isInversed;var element=createElement('div',{id:chart.element.id+'_Series_'+series.index+'_DataLabelCollections'});// Data label point iteration started
series.points.map(function(point,index){_this102.margin=dataLabel.margin;var labelText=[];var labelLength=void 0;var clip=series.clipRect;border={width:dataLabel.border.width,color:dataLabel.border.color};if(point.symbolLocations.length&&point.symbolLocations[0]||series.type==='BoxAndWhisker'&&point.regions.length){labelText=getLabelText(point,series,chart);labelLength=labelText.length;for(var i=0;i<labelLength;i++){argsData={cancel:false,name:textRender,series:series,point:point,text:labelText[i],border:border,color:dataLabel.fill,template:dataLabel.template};chart.trigger(textRender,argsData);if(!argsData.cancel){_this102.fontBackground=argsData.color;_this102.isDataLabelShape(argsData);_this102.markerHeight=series.type==='Bubble'?point.regions[0].height/2:_this102.markerHeight;if(argsData.template!==null){_this102.createDataLabelTemplate(element,series,dataLabel,point,argsData,i);}else{textSize=measureText(argsData.text,dataLabel.font);rect=_this102.calculateTextPosition(point,series,textSize,dataLabel,i);if(!isCollide(rect,chart.dataLabelCollections,clip)){chart.dataLabelCollections.push(new Rect(rect.x+clip.x,rect.y+clip.y,rect.width,rect.height));if(_this102.isShape){series.shapeElement.appendChild(chart.renderer.drawRectangle(new RectOption(_this102.commonId+index+'_TextShape_'+i,argsData.color,argsData.border,dataLabel.opacity,rect,dataLabel.rx,dataLabel.ry)));}// Checking the font color
rgbValue=convertHexToColor(colorNameToHex(_this102.fontBackground));contrast=Math.round((rgbValue.r*299+rgbValue.g*587+rgbValue.b*114)/1000);textElement(new TextOption(_this102.commonId+index+'_Text_'+i,rect.x+_this102.margin.left+textSize.width/2,rect.y+_this102.margin.top+textSize.height*3/4,'middle',argsData.text,'rotate(0,'+rect.x+','+rect.y+')','auto'),dataLabel.font,dataLabel.font.color||(contrast>=128||series.type==='Hilo'?'black':'white'),series.textElement);}}}}}});if(element.childElementCount){getElement(chart.element.id+'_Secondary_Element').appendChild(element);}}},{key:'createDataLabelTemplate',value:function createDataLabelTemplate(parentElement,series,dataLabel,point,data,labelIndex){this.margin={left:0,right:0,bottom:0,top:0};var clip=series.clipRect;var childElement=createTemplate(createElement('div',{id:this.chart.element.id+'_Series_'+series.index+'_DataLabel_'+point.index+(labelIndex?'_'+labelIndex:''),styles:'position: absolute;background-color:'+data.color+';'+getFontStyle(dataLabel.font)+';border:'+data.border.width+'px solid '+data.border.color+';'}),point.index,data.template,this.chart,point,series);var elementRect=measureElementRect(childElement);var rect=this.calculateTextPosition(point,series,{width:elementRect.width,height:elementRect.height},dataLabel,labelIndex);childElement.style.left=(this.chart.chartAreaType==='PolarRadar'?0:series.clipRect.x)+rect.x+'px';childElement.style.top=(this.chart.chartAreaType==='PolarRadar'?0:series.clipRect.y)+rect.y+'px';var rgbValue=convertHexToColor(colorNameToHex(this.fontBackground));var vAxis=series.chart.requireInvertedAxis?series.xAxis:series.yAxis;var hAxis=series.chart.requireInvertedAxis?series.yAxis:series.xAxis;childElement.style.color=dataLabel.font.color||(Math.round((rgbValue.r*299+rgbValue.g*587+rgbValue.b*114)/1000)>=128?'black':'white');if(childElement.childElementCount&&!isCollide(rect,this.chart.dataLabelCollections,clip)&&(series.seriesType!=='XY'||point.yValue===undefined||withIn(point.yValue,series.yAxis.visibleRange)||series.type.indexOf('100')>-1&&withIn(series.stackedValues.endValues[point.index],series.yAxis.visibleRange))&&withIn(point.xValue,series.xAxis.visibleRange)&&parseFloat(childElement.style.top)>=vAxis.rect.y&&parseFloat(childElement.style.left)>=hAxis.rect.x&&parseFloat(childElement.style.top)<=vAxis.rect.y+vAxis.rect.height&&parseFloat(childElement.style.left)<=hAxis.rect.x+hAxis.rect.width){this.chart.dataLabelCollections.push(new Rect(rect.x+clip.x,rect.y+clip.y,rect.width,rect.height));parentElement.appendChild(childElement);if(series.animation.enable&&this.chart.animateSeries){this.doDataLabelAnimation(series,childElement);}}}},{key:'calculateTextPosition',value:function calculateTextPosition(point,series,textSize,dataLabel,labelIndex){var labelRegion=labelIndex>1?series.type==='Candle'?point.regions[1]:point.regions[0]:point.regions[0];if(labelIndex>1&&series.type==='HiloOpenClose'){labelRegion=labelIndex===2?point.regions[1]:point.regions[2];}var location=void 0;location=this.getLabelLocation(point,series,textSize,labelIndex);var padding=5;var clipRect=series.clipRect;var rect=void 0;// calculating alignment
if(!this.chart.requireInvertedAxis||!this.isRectSeries(series)||series.type==='BoxAndWhisker'){this.locationX=location.x;var alignmentValue=textSize.height+this.borderWidth*2+this.markerHeight+this.margin.bottom+this.margin.top+padding;location.y=dataLabel.position==='Auto'?location.y:this.calculateAlignment(alignmentValue,location.y,dataLabel.alignment,this.isRectSeries(series)?point.yValue<0:false);// calculating position
location.y=!this.isRectSeries(series)||series.type==='BoxAndWhisker'?this.calculatePathPosition(location.y,dataLabel.position,series,point,textSize,labelIndex):this.calculateRectPosition(location.y,labelRegion,point.yValue<0!==this.yAxisInversed,dataLabel.position,series,textSize,labelIndex,point);if(this.isRectSeries(series)&&this.chart.chartAreaType==='PolarRadar'){location=this.calculatePolarRectPosition(location,dataLabel.position,series,point,textSize,labelIndex);}}else{this.locationY=location.y;var _alignmentValue=textSize.width+this.borderWidth+this.margin.left+this.margin.right-padding;location.x=dataLabel.position==='Auto'?location.x:this.calculateAlignment(_alignmentValue,location.x,dataLabel.alignment,point.yValue<0);location.x=this.calculateRectPosition(location.x,labelRegion,point.yValue<0!==this.yAxisInversed,dataLabel.position,series,textSize,labelIndex,point);}rect=calculateRect(location,textSize,this.margin);// Checking the condition whether data Label has been exist the clip rect
if(!(rect.y>clipRect.height||rect.x>clipRect.width||rect.x+rect.width<0||rect.y+rect.height<0)){rect.x=rect.x<0?padding:rect.x;rect.y=rect.y<0?padding:rect.y;rect.x-=rect.x+rect.width>clipRect.width?rect.x+rect.width-clipRect.width+padding:0;rect.y-=rect.y+rect.height>clipRect.height?rect.y+rect.height-clipRect.height+padding:0;this.fontBackground=this.fontBackground==='transparent'?this.chartBackground:this.fontBackground;}return rect;}},{key:'calculatePolarRectPosition',value:function calculatePolarRectPosition(location,position,series,point,size,labelIndex){var padding=5;var columnRadius=void 0;var angle=point.regionData.startAngle-0.5*Math.PI+(point.regionData.endAngle-point.regionData.startAngle)/2;if(labelIndex===0){columnRadius=point.regionData.radius<point.regionData.innerRadius?point.regionData.innerRadius:point.regionData.radius;}else{columnRadius=point.regionData.radius>point.regionData.innerRadius?point.regionData.innerRadius:point.regionData.radius;}this.fontBackground=this.fontBackground==='transparent'?this.chartBackground:this.fontBackground;if(series.drawType.indexOf('Stacking')>-1){position=position==='Outer'?'Top':position;}else if(series.drawType.indexOf('Range')>-1){position=position==='Outer'||position==='Top'?position:'Auto';}if(position==='Outer'){columnRadius=labelIndex===0?columnRadius+2*padding:columnRadius-2*padding;}else if(position==='Middle'){columnRadius=columnRadius/2+padding;}else if(position==='Top'){columnRadius=labelIndex===0?columnRadius-2*padding:columnRadius+2*padding;}else if(position==='Bottom'){columnRadius=padding;}else{if(labelIndex===0){columnRadius=columnRadius>=series.chart.radius?columnRadius-padding:series.drawType==='StackingColumn'?columnRadius-2*padding:columnRadius+2*padding;}else{columnRadius=columnRadius>=series.chart.radius?columnRadius+padding:columnRadius-2*padding;}}location.x=series.clipRect.width/2+series.clipRect.x+columnRadius*Math.cos(angle);location.y=series.clipRect.height/2+series.clipRect.y+columnRadius*Math.sin(angle);return location;}},{key:'getLabelLocation',value:function getLabelLocation(point,series,textSize,labelIndex){var location=new ChartLocation(0,0);var labelRegion=series.type==='Candle'&&labelIndex>1?point.regions[1]:point.regions[0];if(series.type==='HiloOpenClose'){labelRegion=labelIndex===2?point.regions[1]:point.regions[2];}var xAxis=series.xAxis;var yAxis=series.yAxis;var isInverted=series.chart.requireInvertedAxis;if(series.type==='BoxAndWhisker'){this.markerHeight=0;switch(labelIndex){case 0:location=getPoint(point.xValue,point.median,xAxis,yAxis,isInverted);break;case 1:location=getPoint(point.xValue,point.maximum,xAxis,yAxis,isInverted);break;case 2:location=getPoint(point.xValue,point.minimum,xAxis,yAxis,isInverted);break;case 3:location=getPoint(point.xValue,point.upperQuartile,xAxis,yAxis,isInverted);break;case 4:location=getPoint(point.xValue,point.lowerQuartile,xAxis,yAxis,isInverted);break;default:{location=getPoint(point.xValue,point.outliers[labelIndex-5],xAxis,yAxis,isInverted);this.markerHeight=series.marker.height/2;break;}}}else if(labelIndex===0||labelIndex===1){location=new ChartLocation(point.symbolLocations[0].x,point.symbolLocations[0].y);}else if((labelIndex===2||labelIndex===3)&&series.type==='Candle'){location=new ChartLocation(point.symbolLocations[1].x,point.symbolLocations[1].y);}else if(isInverted){location={x:labelRegion.x+labelRegion.width/2,y:labelRegion.y};}else{location={x:labelRegion.x+labelRegion.width,y:labelRegion.y+labelRegion.height/2};}//Aligning the label at the beginning of the tick, when tick size is less than text size
if(labelIndex>1&&series.type==='HiloOpenClose'){if(series.chart.requireInvertedAxis){var height=labelRegion.height;location.y=labelRegion.y+height/2+2*(labelIndex===2?1:-1);}else{var width=labelRegion.width;location.x=labelRegion.x+width/2+2*(labelIndex===2?1:-1);}}return location;}},{key:'calculateRectPosition',value:function calculateRectPosition(labelLocation,rect,isMinus,position,series,textSize,labelIndex,point){if(series.chart.chartAreaType==='PolarRadar'){return null;}var padding=5;var margin=this.margin;var textLength=!this.inverted?textSize.height:textSize.width;var extraSpace=this.borderWidth+textLength/2+padding;if(series.type.indexOf('Stacking')>-1){position=position==='Outer'?'Top':position;}else if(series.type.indexOf('Range')>-1){position=position==='Outer'||position==='Top'?position:'Auto';}else if(series.type==='Waterfall'){position=position==='Auto'?'Middle':position;}switch(position){case'Bottom':labelLocation=!this.inverted?isMinus?labelLocation-rect.height+extraSpace+margin.top:labelLocation+rect.height-extraSpace-margin.bottom:isMinus?labelLocation+rect.width-extraSpace-margin.left:labelLocation-rect.width+extraSpace+margin.right;break;case'Middle':labelLocation=labelLocation=!this.inverted?isMinus?labelLocation-rect.height/2:labelLocation+rect.height/2:isMinus?labelLocation+rect.width/2:labelLocation-rect.width/2;break;case'Auto':labelLocation=this.calculateRectActualPosition(labelLocation,rect,isMinus,series,textSize,labelIndex,point);break;default:extraSpace+=this.errorHeight;labelLocation=this.calculateTopAndOuterPosition(labelLocation,rect,position,series,labelIndex,extraSpace,isMinus);break;}var check=!this.inverted?labelLocation<rect.y||labelLocation>rect.y+rect.height:labelLocation<rect.x||labelLocation>rect.x+rect.width;this.fontBackground=check?this.fontBackground==='transparent'?this.chartBackground:this.fontBackground:this.fontBackground==='transparent'?point.color||series.interior:this.fontBackground;return labelLocation;}},{key:'calculatePathPosition',value:function calculatePathPosition(labelLocation,position,series,point,size,labelIndex){var padding=5;if(series.type.indexOf('Area')>-1&&series.type!=='RangeArea'&&this.yAxisInversed&&series.marker.dataLabel.position!=='Auto'){position=position==='Top'?'Bottom':position==='Bottom'?'Top':position;}this.fontBackground=this.fontBackground==='transparent'?this.chartBackground:this.fontBackground;switch(position){case'Top':case'Outer':labelLocation=labelLocation-this.markerHeight-this.borderWidth-size.height/2-this.margin.bottom-padding-this.errorHeight;break;case'Bottom':labelLocation=labelLocation+this.markerHeight+this.borderWidth+size.height/2+this.margin.top+padding+this.errorHeight;break;case'Auto':labelLocation=this.calculatePathActualPosition(labelLocation,this.markerHeight,series,point,size,labelIndex);break;}return labelLocation;}},{key:'isDataLabelShape',value:function isDataLabelShape(style){this.isShape=style.color!=='transparent'||style.border.width>0;this.borderWidth=style.border.width;if(!this.isShape){this.margin={left:0,right:0,bottom:0,top:0};}}},{key:'calculateRectActualPosition',value:function calculateRectActualPosition(labelLocation,rect,isMinus,series,size,labelIndex,point){var location=void 0;var labelRect=void 0;var isOverLap=true;var position=0;var collection=this.chart.dataLabelCollections;var finalPosition=series.type.indexOf('Range')!==-1||series.type==='Hilo'?2:4;while(isOverLap&&position<finalPosition){location=this.calculateRectPosition(labelLocation,rect,isMinus,this.getPosition(position),series,size,labelIndex,point);if(!this.inverted){labelRect=calculateRect(new ChartLocation(this.locationX,location),size,this.margin);isOverLap=labelRect.y<0||isCollide(labelRect,collection,series.clipRect)||labelRect.y>series.clipRect.height;}else{labelRect=calculateRect(new ChartLocation(location,this.locationY),size,this.margin);isOverLap=labelRect.x<0||isCollide(labelRect,collection,series.clipRect)||labelRect.x+labelRect.width>series.clipRect.width;}position++;}return location;}},{key:'calculateAlignment',value:function calculateAlignment(value,labelLocation,alignment,isMinus){switch(alignment){case'Far':labelLocation=!this.inverted?isMinus?labelLocation+value:labelLocation-value:isMinus?labelLocation-value:labelLocation+value;break;case'Near':labelLocation=!this.inverted?isMinus?labelLocation-value:labelLocation+value:isMinus?labelLocation+value:labelLocation-value;break;case'Center':labelLocation=labelLocation;break;}return labelLocation;}},{key:'calculateTopAndOuterPosition',value:function calculateTopAndOuterPosition(location,rect,position,series,index,extraSpace,isMinus){var margin=this.margin;var top=void 0;switch(series.type){case'RangeColumn':case'RangeArea':case'Hilo':top=index===0&&!this.yAxisInversed||index===1&&this.yAxisInversed;location=this.updateLabelLocation(position,location,extraSpace,margin,rect,top);break;case'Candle':top=(index===0||index===2)&&!this.yAxisInversed||(index===1||index===3)&&this.yAxisInversed;location=this.updateLabelLocation(position,location,extraSpace,margin,rect,top,index>1);break;case'HiloOpenClose':if(index<=1){top=index===0&&!this.yAxisInversed||index===1&&this.yAxisInversed;location=this.updateLabelLocation(position,location,extraSpace,margin,rect,top);}else{if(this.yAxisInversed){location=!this.inverted?location+extraSpace+margin.top:location-extraSpace-margin.right;}else{location=!this.inverted?location-extraSpace-margin.bottom:location+extraSpace+margin.left;}}break;default:if(isMinus&&position==='Top'||!isMinus&&position==='Outer'){location=!this.inverted?location-extraSpace-margin.bottom:location+extraSpace+margin.left;}else{location=!this.inverted?location+extraSpace+margin.top:location-extraSpace-margin.right;}break;}return location;}},{key:'updateLabelLocation',value:function updateLabelLocation(position,location,extraSpace,margin,rect,top){var inside$$1=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;if(!this.inverted){if(top){location=position==='Outer'&&!inside$$1?location-extraSpace-margin.bottom:location+extraSpace+margin.top;}else{location=position==='Outer'&&!inside$$1?location+rect.height+extraSpace+margin.top:location+rect.height-extraSpace-margin.bottom;}}else{if(top){location=position==='Outer'&&!inside$$1?location+extraSpace+margin.left:location-extraSpace-margin.right;}else{location=position==='Outer'&&!inside$$1?location-rect.width-extraSpace-margin.right:location-rect.width+extraSpace+margin.left;}}return location;}},{key:'calculatePathActualPosition',value:function calculatePathActualPosition(y,markerSize,series,point,size,labelIndex){var points=series.points;var index=point.index;var yValue=points[index].yValue;var position=void 0;var nextPoint=points.length-1>index?points[index+1]:null;var previousPoint=index>0?points[index-1]:null;var yLocation=void 0;var isOverLap=true;var labelRect=void 0;var isBottom=void 0;var positionIndex=void 0;var collection=this.chart.dataLabelCollections;if(series.type==='Bubble'){position='Top';}else if(series.type.indexOf('Step')>-1){position='Top';if(index){position=!previousPoint||!previousPoint.visible||yValue>previousPoint.yValue!==this.yAxisInversed||yValue===previousPoint.yValue?'Top':'Bottom';}}else if(series.type==='BoxAndWhisker'){if(labelIndex===1||labelIndex===3||labelIndex>4){position=series.yAxis.isInversed?'Bottom':'Top';}else if(labelIndex===2||labelIndex===4){position=series.yAxis.isInversed?'Top':'Bottom';}else{isOverLap=false;position='Middle';yLocation=this.calculatePathPosition(y,position,series,point,size,labelIndex);}}else{if(index===0){position=!nextPoint||!nextPoint.visible||yValue>nextPoint.yValue||yValue<nextPoint.yValue&&this.yAxisInversed?'Top':'Bottom';}else if(index===points.length-1){position=!previousPoint||!previousPoint.visible||yValue>previousPoint.yValue||yValue<previousPoint.yValue&&this.yAxisInversed?'Top':'Bottom';}else{if(!nextPoint.visible&&!(previousPoint&&previousPoint.visible)){position='Top';}else if(!nextPoint.visible||!previousPoint){position=nextPoint.yValue>yValue||previousPoint&&previousPoint.yValue>yValue?'Bottom':'Top';}else{var slope=(nextPoint.yValue-previousPoint.yValue)/2;var intersectY=slope*index+(nextPoint.yValue-slope*(index+1));position=!this.yAxisInversed?intersectY<yValue?'Top':'Bottom':intersectY<yValue?'Bottom':'Top';}}}isBottom=position==='Bottom';positionIndex=['Outer','Top','Bottom','Middle','Auto'].indexOf(position);while(isOverLap&&positionIndex<4){yLocation=this.calculatePathPosition(y,this.getPosition(positionIndex),series,point,size,labelIndex);labelRect=calculateRect(new ChartLocation(this.locationX,yLocation),size,this.margin);isOverLap=labelRect.y<0||isCollide(labelRect,collection,series.clipRect)||labelRect.y+labelRect.height>series.clipRect.height;positionIndex=isBottom?positionIndex-1:positionIndex+1;isBottom=false;}return yLocation;}},{key:'doDataLabelAnimation',value:function doDataLabelAnimation(series,element){var shapeElements=series.shapeElement.childNodes;var textNode=series.textElement.childNodes;var delay=series.animation.delay+series.animation.duration;var location=void 0;var length=element?1:textNode.length;for(var i=0;i<length;i++){if(element){element.style.visibility='hidden';templateAnimate(element,delay,200,'ZoomIn');}else{location=new ChartLocation(+textNode[i].getAttribute('x')+ +textNode[i].getAttribute('width')/2,+textNode[i].getAttribute('y')+ +textNode[i].getAttribute('height')/2);markerAnimate(textNode[i],delay,200,series,null,location,true);if(shapeElements[i]){location=new ChartLocation(+shapeElements[i].getAttribute('x')+ +shapeElements[i].getAttribute('width')/2,+shapeElements[i].getAttribute('y')+ +shapeElements[i].getAttribute('height')/2);markerAnimate(shapeElements[i],delay,200,series,null,location,true);}}}}},{key:'getPosition',value:function getPosition(index){return['Outer','Top','Bottom','Middle','Auto'][index];}},{key:'getModuleName',value:function getModuleName(){// Returns the module name
return'DataLabel';}},{key:'destroy',value:function destroy(chart){// Destroy method performed here
}}]);return DataLabel;}());_export2('ErrorBar',ErrorBar=function(){/**
     * Constructor for the error bar module.
     * @private
     */function ErrorBar(chart){_classCallCheck(this,ErrorBar);this.chart=chart;}/**
     * Render the error bar for series.
     * @return {void}
     */_createClass(ErrorBar,[{key:'render',value:function render(series){if(this.chart.chartAreaType==='PolarRadar'){return null;}this.createElement(series);this.renderErrorBar(series);}},{key:'renderErrorBar',value:function renderErrorBar(series){var seriesIndex=series.index;var symbolId=void 0;var capId=void 0;var errorbar=series.errorBar;var errorBarCap=series.errorBar.errorBarCap;var border=series.border;var errorDirection=['',''];var _iteratorNormalCompletion101=true;var _didIteratorError101=false;var _iteratorError101=undefined;try{for(var _iterator101=series.points[Symbol.iterator](),_step101;!(_iteratorNormalCompletion101=(_step101=_iterator101.next()).done);_iteratorNormalCompletion101=true){var point=_step101.value;if(point.visible&&point.symbolLocations[0]){var errorX=0;var errorY=0;switch(errorbar.mode){case'Vertical':errorY=errorbar.verticalError;break;case'Horizontal':errorX=errorbar.horizontalError;break;case'Both':errorX=errorbar.horizontalError;errorY=errorbar.verticalError;break;}errorDirection=this['calculate'+errorbar.type+'Value'](point,series,this.chart.requireInvertedAxis,errorX,errorY);symbolId=this.chart.element.id+'_Series_'+'_ErrorBarGroup_'+seriesIndex+'_Point_'+point.index;capId=this.chart.element.id+'_Series_'+'_ErrorBarCap_'+seriesIndex+'_Point_'+point.index;var shapeOption=new PathOption(symbolId,'',errorbar.width,errorbar.color||this.chart.themeStyle.errorBar,null,'',errorDirection[0]);var path=this.chart.renderer.drawPath(shapeOption);series.errorBarElement.appendChild(path);var capOption=new PathOption(capId,'',errorBarCap.width,errorBarCap.color||this.chart.themeStyle.errorBar,null,'',errorDirection[1]);var capPath=this.chart.renderer.drawPath(capOption);series.errorBarElement.appendChild(capPath);}}}catch(err){_didIteratorError101=true;_iteratorError101=err;}finally{try{if(!_iteratorNormalCompletion101&&_iterator101.return){_iterator101.return();}}finally{if(_didIteratorError101){throw _iteratorError101;}}}}},{key:'findLocation',value:function findLocation(point,series,isInverted,x1,y1){var errorbar=series.errorBar;var direction=errorbar.direction;var location=[];var stackedValue=series.stackedValues;var yValue=series.type.indexOf('Stacking')>-1?series.stackedValues.endValues[point.index]:series.seriesType==='HighLow'||series.seriesType==='HighLowOpenClose'?series.points[point.index].high:point.yValue;var startPoint=getPoint(point.xValue+(direction==='Plus'||direction==='Both'?errorbar.type==='Custom'&&(errorbar.mode==='Horizontal'||errorbar.mode==='Both')?x1=errorbar.horizontalPositiveError:x1:0),yValue+(direction==='Plus'||direction==='Both'?errorbar.type==='Custom'&&(errorbar.mode==='Vertical'||errorbar.mode==='Both')?y1=errorbar.verticalPositiveError:y1:0),series.xAxis,series.yAxis,isInverted);location.push(startPoint);if(series.isRectSeries){var midPoint=point.symbolLocations[0];location.push(midPoint);}else{var _midPoint=getPoint(point.xValue,point.yValue,series.xAxis,series.yAxis,isInverted);location.push(_midPoint);}var endPoint=getPoint(point.xValue-(direction==='Minus'||direction==='Both'?errorbar.type==='Custom'&&(errorbar.mode==='Horizontal'||errorbar.mode==='Both')?x1=errorbar.horizontalNegativeError:x1:0),yValue-(direction==='Minus'||direction==='Both'?errorbar.type==='Custom'&&(errorbar.mode==='Vertical'||errorbar.mode==='Both')?y1=errorbar.verticalNegativeError:y1:0),series.xAxis,series.yAxis,isInverted);location.push(endPoint);// calculate error height for datalabel position alignment
point.error=errorbar.mode==='Vertical'?errorbar.verticalError:errorbar.horizontalError;this.negativeHeight=errorbar.mode==='Vertical'||errorbar.mode==='Both'?isInverted?location[1].x-location[2].x:location[2].y-location[1].y:0;this.positiveHeight=errorbar.mode==='Vertical'||errorbar.mode==='Both'?isInverted?location[0].x-location[1].x:location[1].y-location[0].y:0;return this.getErrorDirection(location[0],location[1],location[2],series,isInverted);}},{key:'calculateFixedValue',value:function calculateFixedValue(point,series,isInverted,errorX,errorY,xAxis,yAxis){var errorbar=series.errorBar;return this.findLocation(point,series,isInverted,errorX,errorY);}},{key:'calculatePercentageValue',value:function calculatePercentageValue(point,series,isInverted,errorX,errorY,xAxis,yAxis){errorX=errorX/100*point.xValue;errorY=errorY/100*point.yValue;return this.findLocation(point,series,isInverted,errorX,errorY);}},{key:'calculateStandardDeviationValue',value:function calculateStandardDeviationValue(point,series,isInverted,errorX,errorY,xAxis,yAxis){var getMean=this.meanCalculation(series,series.errorBar.mode);errorX=errorX*(getMean.horizontalSquareRoot+getMean.horizontalMean);errorY=errorY*(getMean.verticalSquareRoot+getMean.verticalMean);return this.findLocation(point,series,isInverted,errorX,errorY);}},{key:'calculateStandardErrorValue',value:function calculateStandardErrorValue(point,series,isInverted,errorX,errorY,xAxis,yAxis){var length=series.points.length;var getMean=this.meanCalculation(series,series.errorBar.mode);errorX=errorX*getMean.horizontalSquareRoot/Math.sqrt(length);errorY=errorY*getMean.verticalSquareRoot/Math.sqrt(length);return this.findLocation(point,series,isInverted,errorX,errorY);}},{key:'calculateCustomValue',value:function calculateCustomValue(point,series,isInverted,errorX,errorY,xAxis,yAxis){var errorbar=series.errorBar;return this.findLocation(point,series,isInverted,errorX,errorY);}},{key:'getHorizontalDirection',value:function getHorizontalDirection(start,mid,end,direction,errorMode,capLength){var path='';var capDirection='';path+=' M '+start.x+' '+mid.y+' L '+end.x+' '+mid.y;capDirection+=direction==='Plus'||direction==='Both'?' M '+start.x+' '+(mid.y-capLength)+' L '+start.x+' '+(mid.y+capLength):'';capDirection+=direction==='Minus'||direction==='Both'?' M '+end.x+' '+(mid.y-capLength)+' L '+end.x+' '+(mid.y+capLength):' ';return[path,capDirection];}},{key:'getVerticalDirection',value:function getVerticalDirection(start,mid,end,direction,errorMode,capLength){var path='';var capDirection='';path+=' M '+mid.x+' '+start.y+' L '+mid.x+' '+end.y;capDirection+=direction==='Plus'||direction==='Both'?' M '+(mid.x-capLength)+' '+start.y+' L '+(mid.x+capLength)+' '+start.y:'';capDirection+=direction==='Minus'||direction==='Both'?' M '+(mid.x-capLength)+' '+end.y+' L '+(mid.x+capLength)+' '+end.y:'';return[path,capDirection];}},{key:'getBothDirection',value:function getBothDirection(start,mid,end,direction,errorMode,capLength){var capDirection='';var path='';var pathH=this.getHorizontalDirection(start,mid,end,direction,errorMode,capLength);var pathV=this.getVerticalDirection(start,mid,end,direction,errorMode,capLength);path=pathH[0].concat(pathV[0]);capDirection=pathH[1].concat(pathV[1]);return[path,capDirection];}},{key:'getErrorDirection',value:function getErrorDirection(start,mid,end,series,isInverted){var direction=series.errorBar.direction;var mode=series.errorBar.mode;var capLength=series.errorBar.errorBarCap.length;var paths=void 0;var errorMode=mode;switch(mode){case'Both':errorMode=mode;break;case'Horizontal':errorMode=isInverted?'Vertical':mode;break;case'Vertical':errorMode=isInverted?'Horizontal':mode;break;}switch(errorMode){case'Horizontal':paths=this.getHorizontalDirection(start,mid,end,direction,errorMode,capLength);break;case'Vertical':paths=this.getVerticalDirection(start,mid,end,direction,errorMode,capLength);break;case'Both':paths=this.getBothDirection(start,mid,end,direction,errorMode,capLength);break;}return[paths[0],paths[1]];}},{key:'meanCalculation',value:function meanCalculation(series,mode){var sumOfX=0;var sumOfY=0;var verticalMean=0;var horizontalMean=0;var verStandardMean=void 0;var horStandardMean=void 0;var verSquareRoot=void 0;var horSquareRoot=void 0;var length=series.points.length;switch(mode){case'Vertical':sumOfY=sum(series.yData);verticalMean=sumOfY/length;break;case'Horizontal':sumOfX=sum(series.xData);horizontalMean=sumOfX/length;break;case'Both':sumOfY=sum(series.yData);verticalMean=sumOfY/length;sumOfX=sum(series.xData);horizontalMean=sumOfX/length;}var _iteratorNormalCompletion102=true;var _didIteratorError102=false;var _iteratorError102=undefined;try{for(var _iterator102=series.points[Symbol.iterator](),_step102;!(_iteratorNormalCompletion102=(_step102=_iterator102.next()).done);_iteratorNormalCompletion102=true){var point=_step102.value;if(mode==='Vertical'){sumOfY=sumOfY+Math.pow(point.yValue-verticalMean,2);}else if(mode==='Horizontal'){sumOfX=sumOfX+Math.pow(point.xValue-horizontalMean,2);}else{sumOfY=sumOfY+Math.pow(point.yValue-verticalMean,2);sumOfX=sumOfX+Math.pow(point.xValue-horizontalMean,2);}}}catch(err){_didIteratorError102=true;_iteratorError102=err;}finally{try{if(!_iteratorNormalCompletion102&&_iterator102.return){_iterator102.return();}}finally{if(_didIteratorError102){throw _iteratorError102;}}}verStandardMean=sumOfY/(length-1);verSquareRoot=Math.sqrt(sumOfY/(length-1));horStandardMean=sumOfX/(length-1);horSquareRoot=Math.sqrt(sumOfX/(length-1));return new Mean(verStandardMean,verSquareRoot,horStandardMean,horSquareRoot,verticalMean,horizontalMean);}},{key:'createElement',value:function createElement(series){var explodeValue=5;var render=series.chart.renderer;var transform=void 0;transform=series.chart.chartAreaType==='Cartesian'?'translate('+series.clipRect.x+','+series.clipRect.y+')':'';var markerHeight=(series.marker.height+explodeValue)/2;var markerWidth=(series.marker.width+explodeValue)/2;if(series.chart.chartAreaType==='Cartesian'){var errorBarClipRect=render.drawClipPath(new RectOption(this.chart.element.id+'_ChartErrorBarClipRect_'+series.index,'transparent',{width:1,color:'Gray'},1,{x:-markerWidth,y:-markerHeight,width:series.clipRect.width+markerWidth*2,height:series.clipRect.height+markerHeight*2}));series.errorBarElement=render.createGroup({'id':this.chart.element.id+'ErrorBarGroup'+series.index,'transform':transform,'clip-path':'url(#'+this.chart.element.id+'_ChartErrorBarClipRect_'+series.index+')'});series.errorBarElement.appendChild(errorBarClipRect);}}},{key:'doErrorBarAnimation',value:function doErrorBarAnimation(series){var errorBarElements=series.errorBarElement.childNodes;if(!errorBarElements){return null;}var delay=series.animation.delay+series.animation.duration;var j=1;while(j<errorBarElements.length){for(var i=0;i<series.points.length;i++){if(!series.points[i].symbolLocations[0]){continue;}errorBarElements[j].style.visibility='hidden';templateAnimate(errorBarElements[j],delay,350,series.chart.requireInvertedAxis?'SlideLeftIn':'SlideBottomIn',false);}j++;}}},{key:'getModuleName',value:function getModuleName(){// Returns the module name
return'ErrorBar';}},{key:'destroy',value:function destroy(chart){// Destroy method performed here
}}]);return ErrorBar;}());_export2('Legend',Legend=function(_BaseLegend){_inherits(Legend,_BaseLegend);function Legend(chart){_classCallCheck(this,Legend);var _this103=_possibleConstructorReturn(this,(Legend.__proto__||Object.getPrototypeOf(Legend)).call(this,chart));_this103.library=_this103;_this103.addEventListener();return _this103;}/**
     * Binding events for legend module.
     */_createClass(Legend,[{key:'addEventListener',value:function addEventListener(){if(this.chart.isDestroyed){return;}this.chart.on(Browser.touchMoveEvent,this.mouseMove,this);this.chart.on('click',this.click,this);this.chart.on(Browser.touchEndEvent,this.mouseEnd,this);}},{key:'removeEventListener',value:function removeEventListener(){if(this.chart.isDestroyed){return;}this.chart.off(Browser.touchMoveEvent,this.mouseMove);this.chart.off('click',this.click);this.chart.off(Browser.touchEndEvent,this.mouseEnd);}},{key:'mouseMove',value:function mouseMove(e){if(this.chart.legendSettings.visible&&!this.chart.isTouch){this.move(e);}}},{key:'mouseEnd',value:function mouseEnd(e){if(this.chart.legendSettings.visible&&this.chart.isTouch){this.move(e);}}},{key:'getLegendOptions',value:function getLegendOptions(visibleSeriesCollection,chart){this.legendCollections=[];var seriesType=void 0;var _iteratorNormalCompletion103=true;var _didIteratorError103=false;var _iteratorError103=undefined;try{for(var _iterator103=visibleSeriesCollection[Symbol.iterator](),_step103;!(_iteratorNormalCompletion103=(_step103=_iterator103.next()).done);_iteratorNormalCompletion103=true){var series=_step103.value;if(series.category!=='Indicator'){seriesType=chart.chartAreaType==='PolarRadar'?series.drawType:series.type;this.legendCollections.push(new LegendOptions(series.name,series.interior,series.legendShape,series.visible,seriesType,series.marker.shape,series.marker.visible));}}}catch(err){_didIteratorError103=true;_iteratorError103=err;}finally{try{if(!_iteratorNormalCompletion103&&_iterator103.return){_iterator103.return();}}finally{if(_didIteratorError103){throw _iteratorError103;}}}}},{key:'getLegendBounds',value:function getLegendBounds(availableSize,legendBounds,legend){var padding=legend.padding;var extraHeight=0;var extraWidth=0;if(!this.isVertical){extraHeight=!legend.height?availableSize.height/100*5:0;}else{extraWidth=!legend.width?availableSize.width/100*5:0;}legendBounds.height+=extraHeight;legendBounds.width+=extraWidth;var shapeHeight=legend.shapeHeight;var shapeWidth=legend.shapeWidth;var shapePadding=legend.shapePadding;var maximumWidth=0;var rowWidth=0;var legendWidth=0;var columnHeight=0;var rowCount=0;var legendEventArgs=void 0;this.maxItemHeight=Math.max(measureText('MeasureText',legend.textStyle).height,legend.shapeHeight);var render=false;var _iteratorNormalCompletion104=true;var _didIteratorError104=false;var _iteratorError104=undefined;try{for(var _iterator104=this.legendCollections[Symbol.iterator](),_step104;!(_iteratorNormalCompletion104=(_step104=_iterator104.next()).done);_iteratorNormalCompletion104=true){var legendOption=_step104.value;legendEventArgs={fill:legendOption.fill,text:legendOption.text,shape:legendOption.shape,markerShape:legendOption.markerShape,name:legendRender,cancel:false};this.chart.trigger(legendRender,legendEventArgs);legendOption.render=!legendEventArgs.cancel;legendOption.text=legendEventArgs.text;legendOption.fill=legendEventArgs.fill;legendOption.shape=legendEventArgs.shape;legendOption.markerShape=legendEventArgs.markerShape;legendOption.textSize=measureText(legendOption.text,legend.textStyle);if(legendOption.render&&legendOption.text!==''){render=true;legendWidth=shapeWidth+shapePadding+legendOption.textSize.width+padding;rowWidth=rowWidth+legendWidth;if(legendBounds.width<padding+rowWidth||this.isVertical){maximumWidth=Math.max(maximumWidth,rowWidth+padding-(this.isVertical?0:legendWidth));if(rowCount===0&&legendWidth!==rowWidth){rowCount=1;}rowWidth=this.isVertical?0:legendWidth;rowCount++;columnHeight=rowCount*(this.maxItemHeight+padding)+padding;}}}}catch(err){_didIteratorError104=true;_iteratorError104=err;}finally{try{if(!_iteratorNormalCompletion104&&_iterator104.return){_iterator104.return();}}finally{if(_didIteratorError104){throw _iteratorError104;}}}columnHeight=Math.max(columnHeight,this.maxItemHeight+padding+padding);this.isPaging=legendBounds.height<columnHeight;this.totalPages=rowCount;if(render){this.setBounds(Math.max(rowWidth+padding,maximumWidth),columnHeight,legend,legendBounds);}else{this.setBounds(0,0,legend,legendBounds);}}},{key:'getRenderPoint',value:function getRenderPoint(legendOption,start,textPadding,prevLegend,rect,count,firstLegend){var padding=this.legend.padding;var previousBound=prevLegend.location.x+textPadding+prevLegend.textSize.width;if(previousBound+(legendOption.textSize.width+textPadding)>rect.x+rect.width+this.legend.shapeWidth/2||this.isVertical){legendOption.location.x=start.x;legendOption.location.y=count===firstLegend?prevLegend.location.y:prevLegend.location.y+this.maxItemHeight+padding;}else{legendOption.location.x=count===firstLegend?prevLegend.location.x:previousBound;legendOption.location.y=prevLegend.location.y;}var availwidth=this.legendBounds.x+this.legendBounds.width-(legendOption.location.x+textPadding-this.legend.shapeWidth/2);legendOption.text=textTrim(+availwidth.toFixed(4),legendOption.text,this.legend.textStyle);}},{key:'LegendClick',value:function LegendClick(seriesIndex){var chart=this.chart;var series=chart.visibleSeries[seriesIndex];var legend=this.legendCollections[seriesIndex];var selectedDataIndexes=[];if(chart.selectionModule){selectedDataIndexes=extend([],chart.selectionModule.selectedDataIndexes,null,true);}if(chart.legendSettings.toggleVisibility){if(!series.visible){series.visible=true;}else{series.visible=false;}legend.visible=series.visible;if(chart.svgObject.childNodes.length>0){while(chart.svgObject.lastChild){chart.svgObject.removeChild(chart.svgObject.lastChild);}remove(chart.svgObject);}chart.animateSeries=false;chart.removeSvg();chart.refreshAxis();series.refreshAxisLabel();this.refreshSeries(chart.visibleSeries);chart.refreshBound();if(selectedDataIndexes.length>0){chart.selectionModule.selectedDataIndexes=selectedDataIndexes;chart.selectionModule.redrawSelection(chart,chart.selectionMode);}}else if(chart.selectionModule){chart.selectionModule.legendSelection(chart,seriesIndex);}}},{key:'refreshSeries',value:function refreshSeries(seriesCollection){var _iteratorNormalCompletion105=true;var _didIteratorError105=false;var _iteratorError105=undefined;try{for(var _iterator105=seriesCollection[Symbol.iterator](),_step105;!(_iteratorNormalCompletion105=(_step105=_iterator105.next()).done);_iteratorNormalCompletion105=true){var series=_step105.value;series.position=undefined;}}catch(err){_didIteratorError105=true;_iteratorError105=err;}finally{try{if(!_iteratorNormalCompletion105&&_iterator105.return){_iterator105.return();}}finally{if(_didIteratorError105){throw _iteratorError105;}}}}},{key:'click',value:function click(event){if(!this.chart.legendSettings.visible){return;}var targetId=event.target.id;var legendItemsId=[this.legendID+'_text_',this.legendID+'_shape_marker_',this.legendID+'_shape_'];var seriesIndex=void 0;var _iteratorNormalCompletion106=true;var _didIteratorError106=false;var _iteratorError106=undefined;try{for(var _iterator106=legendItemsId[Symbol.iterator](),_step106;!(_iteratorNormalCompletion106=(_step106=_iterator106.next()).done);_iteratorNormalCompletion106=true){var id=_step106.value;if(targetId.indexOf(id)>-1){seriesIndex=parseInt(targetId.split(id)[1],10);this.LegendClick(seriesIndex);}}}catch(err){_didIteratorError106=true;_iteratorError106=err;}finally{try{if(!_iteratorNormalCompletion106&&_iterator106.return){_iterator106.return();}}finally{if(_didIteratorError106){throw _iteratorError106;}}}if(targetId.indexOf(this.legendID+'_pageup')>-1){this.changePage(event,true);}else if(targetId.indexOf(this.legendID+'_pagedown')>-1){this.changePage(event,false);}}},{key:'getModuleName',value:function getModuleName(){return'Legend';}},{key:'destroy',value:function destroy(chart){this.removeEventListener();}}]);return Legend;}(BaseLegend));AnnotationBase=function(){/**
     * Constructor for chart and accumulation annotation
     * @param control
     */function AnnotationBase(control){_classCallCheck(this,AnnotationBase);this.control=control;}/**
     * Method to render the annotation for chart and accumulation series.
     * @private
     * @param annotation
     * @param index
     */_createClass(AnnotationBase,[{key:'render',value:function render(annotation,index){this.isChart=this.control.getModuleName()==='chart';this.annotation=annotation;var childElement=createTemplate(createElement('div',{id:this.control.element.id+'_Annotation_'+index,styles:'position: absolute;'}),index,annotation.content,this.control);return childElement;}},{key:'setAnnotationPixelValue',value:function setAnnotationPixelValue(location){var rect=void 0;rect=this.annotation.region==='Chart'?new Rect(0,0,this.control.availableSize.width,this.control.availableSize.height):this.isChart?this.control.chartAxisLayoutPanel.seriesClipRect:this.control.series[0].accumulationBound;location.x=(typeof this.annotation.x!=='string'?typeof this.annotation.x==='number'?this.annotation.x:0:stringToNumber(this.annotation.x,rect.width))+rect.x;location.y=(typeof this.annotation.y==='number'?this.annotation.y:stringToNumber(this.annotation.y,rect.height))+rect.y;return true;}},{key:'setAnnotationPointValue',value:function setAnnotationPointValue(location){var symbolLocation=new ChartLocation(0,0);if(this.isChart){var xAxis=void 0;var yAxis=void 0;var chart=this.control;var annotation=this.annotation;var xValue=void 0;var isLog=false;var xAxisName=annotation.xAxisName;var yAxisName=annotation.yAxisName;var isInverted=chart.requireInvertedAxis;var _iteratorNormalCompletion107=true;var _didIteratorError107=false;var _iteratorError107=undefined;try{for(var _iterator107=chart.axisCollections[Symbol.iterator](),_step107;!(_iteratorNormalCompletion107=(_step107=_iterator107.next()).done);_iteratorNormalCompletion107=true){var axis=_step107.value;if(xAxisName===axis.name||xAxisName==null&&axis.name==='primaryXAxis'){xAxis=axis;if(xAxis.valueType.indexOf('Category')>-1){var xAnnotation=xAxis.valueType==='DateTimeCategory'?annotation.x.getTime().toString():annotation.x;if(xAxis.labels.indexOf(xAnnotation)<0){return false;}else{xValue=xAxis.labels.indexOf(xAnnotation);}}else if(xAxis.valueType==='DateTime'){var option={skeleton:'full',type:'dateTime'};xValue=_typeof(this.annotation.x)==='object'?Date.parse(chart.intl.getDateParser(option)(chart.intl.getDateFormat(option)(new Date(DataUtil.parse.parseJson({val:annotation.x}).val)))):0;}else{xValue=+annotation.x;}}else if(yAxisName===axis.name||yAxisName==null&&axis.name==='primaryYAxis'){yAxis=axis;isLog=yAxis.valueType==='Logarithmic';}}}catch(err){_didIteratorError107=true;_iteratorError107=err;}finally{try{if(!_iteratorNormalCompletion107&&_iterator107.return){_iterator107.return();}}finally{if(_didIteratorError107){throw _iteratorError107;}}}if(xAxis&&yAxis&&withIn(xAxis.valueType==='Logarithmic'?logBase(xValue,xAxis.logBase):xValue,xAxis.visibleRange)){symbolLocation=getPoint(xValue,withIn(isLog?logBase(+this.annotation.y,yAxis.logBase):+this.annotation.y,yAxis.visibleRange)?+annotation.y:isLog?Math.pow(yAxis.logBase,yAxis.visibleRange.max):+annotation.y>yAxis.visibleRange.max?yAxis.visibleRange.max:yAxis.visibleRange.min,xAxis,yAxis,isInverted);location.x=symbolLocation.x+(isInverted?yAxis.rect.x:xAxis.rect.x);location.y=symbolLocation.y+(isInverted?xAxis.rect.y:yAxis.rect.y);}else{return false;}return true;}else{return this.setAccumulationPointValue(location);}}},{key:'processAnnotation',value:function processAnnotation(annotation,index,parentElement){var annotationElement=void 0;var location=void 0;location=new ChartLocation(0,0);annotationElement=this.render(annotation,index);if(this['setAnnotation'+annotation.coordinateUnits+'Value'](location)){this.setElementStyle(location,annotationElement,parentElement);}}},{key:'setAccumulationPointValue',value:function setAccumulationPointValue(location){var accumulation=this.control;var point=void 0;var _iteratorNormalCompletion108=true;var _didIteratorError108=false;var _iteratorError108=undefined;try{for(var _iterator108=accumulation.visibleSeries[0].points[Symbol.iterator](),_step108;!(_iteratorNormalCompletion108=(_step108=_iterator108.next()).done);_iteratorNormalCompletion108=true){var accPoint=_step108.value;if(_typeof(accPoint.x)==='object'){if(Date.parse(accPoint.x)===Date.parse(this.annotation.x)&&accPoint.y===this.annotation.y){point=accPoint;break;}}else{if(accPoint.x===this.annotation.x&&accPoint.y===this.annotation.y){point=accPoint;break;}}}}catch(err){_didIteratorError108=true;_iteratorError108=err;}finally{try{if(!_iteratorNormalCompletion108&&_iterator108.return){_iterator108.return();}}finally{if(_didIteratorError108){throw _iteratorError108;}}}if(point&&point.visible){location.x=point.symbolLocation.x;location.y=point.symbolLocation.y;return true;}else{return false;}}},{key:'setElementStyle',value:function setElementStyle(location,element,parentElement){var elementRect=measureElementRect(element);var argsData={cancel:false,name:annotationRender,content:element,location:location};this.control.trigger(annotationRender,argsData);if(!argsData.cancel){argsData.content.style.left=this.setAlignmentValue(this.annotation.horizontalAlignment,elementRect.width,argsData.location.x)+'px';argsData.content.style.top=this.setAlignmentValue(this.annotation.verticalAlignment,elementRect.height,argsData.location.y)+'px';argsData.content.setAttribute('aria-label',this.annotation.description||'Annotation');appendElement(argsData.content,parentElement);}}},{key:'setAlignmentValue',value:function setAlignmentValue(alignment,size,value){switch(alignment){case'Top':case'Near':value-=size;break;case'Bottom':case'Far':value+=0;break;case'Middle':case'Center':value-=size/2;break;}return value;}}]);return AnnotationBase;}();_export2('ChartAnnotation',ChartAnnotation=function(_AnnotationBase){_inherits(ChartAnnotation,_AnnotationBase);/**
     * Constructor for chart annotation.
     * @private.
     */function ChartAnnotation(control,annotations){_classCallCheck(this,ChartAnnotation);var _this104=_possibleConstructorReturn(this,(ChartAnnotation.__proto__||Object.getPrototypeOf(ChartAnnotation)).call(this,control));_this104.chart=control;_this104.annotations=annotations;return _this104;}/**
     * Method to render the annotation for chart
     * @param element
     * @private
     */_createClass(ChartAnnotation,[{key:'renderAnnotations',value:function renderAnnotations(element){var _this105=this;this.parentElement=createElement('div',{id:this.chart.element.id+'_Annotation_Collections'});this.annotations.map(function(annotation,index){_this105.processAnnotation(annotation,index,_this105.parentElement);});appendElement(this.parentElement,element);}},{key:'destroy',value:function destroy(control){}// Destroy method performed here
/**
     * Get module name.
     */},{key:'getModuleName',value:function getModuleName(){// Returns te module name
return'Annotation';}}]);return ChartAnnotation;}(AnnotationBase));_export2('BoxAndWhiskerSeries',BoxAndWhiskerSeries=function(_ColumnBase10){_inherits(BoxAndWhiskerSeries,_ColumnBase10);function BoxAndWhiskerSeries(){_classCallCheck(this,BoxAndWhiskerSeries);return _possibleConstructorReturn(this,(BoxAndWhiskerSeries.__proto__||Object.getPrototypeOf(BoxAndWhiskerSeries)).apply(this,arguments));}_createClass(BoxAndWhiskerSeries,[{key:'render',value:function render(series,xAxis,yAxis,isInverted){var sideBySideInfo=this.getSideBySideInfo(series);var argsData=void 0;var borderWidth=series.border.width||1;var _iteratorNormalCompletion109=true;var _didIteratorError109=false;var _iteratorError109=undefined;try{for(var _iterator109=series.points[Symbol.iterator](),_step109;!(_iteratorNormalCompletion109=(_step109=_iterator109.next()).done);_iteratorNormalCompletion109=true){var point=_step109.value;point.symbolLocations=[];point.regions=[];var centerRegion=void 0;if(point.visible&&withInRange(series.points[point.index-1],point,series.points[point.index+1],series)){this.findBoxPlotValues(point.y,point,series.boxPlotMode);//region to cover the top and bottom ticks
this.updateTipRegion(series,point,sideBySideInfo);//get middle rect
centerRegion=this.getRectangle(point.xValue+sideBySideInfo.start,point.upperQuartile,point.xValue+sideBySideInfo.end,point.lowerQuartile,series);point.regions.push(centerRegion);argsData=this.triggerEvent(series,point,series.interior,{color:!isNullOrUndefined(series.border.color)&&series.border.color!=='transparent'?series.border.color:getSaturationColor(series.interior,-0.6),width:series.border.width?series.border.width:1});if(!argsData.cancel){this.renderBoxAndWhisker(series,point,centerRegion,argsData,this.getPathString(point,series,getPoint(point.xValue,point.median,xAxis,yAxis,isInverted),getPoint(point.xValue,point.average,xAxis,yAxis,isInverted)));}}}}catch(err){_didIteratorError109=true;_iteratorError109=err;}finally{try{if(!_iteratorNormalCompletion109&&_iterator109.return){_iterator109.return();}}finally{if(_didIteratorError109){throw _iteratorError109;}}}if(series.marker.visible){series.chart.markerRender.render(series);}}},{key:'updateTipRegion',value:function updateTipRegion(series,point,sideBySideInfo){var tipRegion=this.getRectangle(point.xValue+sideBySideInfo.median,point.maximum,point.xValue+sideBySideInfo.median,point.minimum,series);this.updateTipSize(series,point,tipRegion,series.chart.requireInvertedAxis);}},{key:'updateTipSize',value:function updateTipSize(series,point,region,isInverted){var borderWidth=series.border.width||1;if(!isInverted){region.x-=borderWidth/2;region.width=region.width||borderWidth;}else{region.y-=borderWidth/2;region.height=region.height||borderWidth;}point.regions.push(region);}},{key:'getPathString',value:function getPathString(point,series,median,average){var topRect=point.regions[0];var midRect=point.regions[1];var direction='';var width=series.chart.requireInvertedAxis?topRect.height:topRect.width;var center=series.chart.requireInvertedAxis?topRect.y+topRect.height/2:topRect.x+topRect.width/2;var midWidth=midRect.x+midRect.width;var midHeight=midRect.y+midRect.height;var topWidth=topRect.x+topRect.width;var topHeight=topRect.y+topRect.height;if(!series.chart.requireInvertedAxis){this.updateTipSize(series,point,{x:midRect.x,y:topRect.y,width:midWidth-midRect.x,height:0},true);this.updateTipSize(series,point,{x:midRect.x,y:topHeight,width:midWidth-midRect.x,height:0},true);direction+='M '+midRect.x+' '+topRect.y+' '+' L '+midWidth+' '+topRect.y;direction+=' M '+center+' '+topRect.y+' '+' L '+center+' '+midRect.y;direction+=' M '+midRect.x+' '+midRect.y+' '+' L '+midWidth+' '+midRect.y+' L '+midWidth+' '+midHeight+' L '+midRect.x+' '+midHeight+' Z';direction+=' M '+center+' '+midHeight+' L '+center+' '+topHeight;direction+=' M '+midRect.x+' '+topHeight+' L '+midWidth+' '+topHeight;direction+=' M '+midRect.x+' '+median.y+' L '+midWidth+' '+median.y;direction+=series.showMean?' M '+(average.x-5)+' '+(average.y-5)+' L '+(average.x+5)+' '+(average.y+5)+' M '+(average.x+5)+' '+(average.y-5)+' L '+(average.x-5)+' '+(average.y+5):'';}else{this.updateTipSize(series,point,{x:topRect.x,y:midRect.y,width:0,height:midHeight-midRect.y},false);this.updateTipSize(series,point,{x:topWidth,y:midRect.y,width:0,height:midHeight-midRect.y},true);direction+='M '+topRect.x+' '+midRect.y+' L '+topRect.x+' '+midHeight;direction+='M '+topRect.x+' '+center+' '+' L '+midRect.x+' '+center;direction+=' M '+midRect.x+' '+midRect.y+' '+' L '+midWidth+' '+midRect.y+' L '+midWidth+' '+midHeight+' L '+midRect.x+' '+midHeight+' Z';direction+=' M '+midWidth+' '+center+' L '+topWidth+' '+center;direction+=' M '+topWidth+' '+midRect.y+' L '+topWidth+' '+midHeight;direction+=' M '+median.x+' '+midRect.y+' '+' L '+median.x+' '+midHeight;direction+=series.showMean?'M '+(average.x+5)+' '+(average.y-5)+' L '+(average.x-5)+' '+(average.y+5)+'M '+(average.x-5)+' '+(average.y-5)+' L '+(average.x+5)+' '+(average.y+5):'';}return direction;}},{key:'renderBoxAndWhisker',value:function renderBoxAndWhisker(series,point,rect,argsData,direction){var location=void 0;var size=void 0;var symbolId=series.chart.element.id+'_Series_'+series.index+'_Point_'+point.index;var element=series.chart.renderer.drawPath(new PathOption(symbolId+'_BoxPath',argsData.fill,argsData.border.width,argsData.border.color,series.opacity,series.dashArray,direction));element.setAttribute('aria-label',point.x.toString()+':'+point.maximum.toString()+':'+point.minimum.toString()+':'+point.lowerQuartile.toString()+':'+point.upperQuartile.toString());var parentElement=series.chart.renderer.createGroup({'id':symbolId});parentElement.appendChild(element);for(var i=0;i<point.outliers.length;i++){location=getPoint(point.xValue,point.outliers[i],series.xAxis,series.yAxis,series.chart.requireInvertedAxis);size=new Size(series.marker.width,series.marker.height);point.symbolLocations.push(location);this.updateTipSize(series,point,{x:location.x-size.width/2,y:location.y-size.height/2,width:size.width,height:size.height},true);}series.seriesElement.appendChild(parentElement);}},{key:'findBoxPlotValues',value:function findBoxPlotValues(yValues,point,mode){var yCount=yValues.length;var quartile={average:sum(yValues)/yCount,lowerQuartile:0,upperQuartile:0,maximum:0,minimum:0,median:0,outliers:[]};if(mode==='Exclusive'){quartile.lowerQuartile=this.getExclusiveQuartileValue(yValues,yCount,0.25);quartile.upperQuartile=this.getExclusiveQuartileValue(yValues,yCount,0.75);quartile.median=this.getExclusiveQuartileValue(yValues,yCount,0.5);}else if(mode==='Inclusive'){quartile.lowerQuartile=this.getInclusiveQuartileValue(yValues,yCount,0.25);quartile.upperQuartile=this.getInclusiveQuartileValue(yValues,yCount,0.75);quartile.median=this.getInclusiveQuartileValue(yValues,yCount,0.5);}else{quartile.median=getMedian(yValues);this.getQuartileValues(yValues,yCount,quartile);}this.getMinMaxOutlier(yValues,yCount,quartile);point.minimum=quartile.minimum;point.maximum=quartile.maximum;point.lowerQuartile=quartile.lowerQuartile;point.upperQuartile=quartile.upperQuartile;point.median=quartile.median;point.outliers=quartile.outliers;point.average=quartile.average;}},{key:'getExclusiveQuartileValue',value:function getExclusiveQuartileValue(yValues,count,percentile){if(count===0){return 0;}else if(count===1){return yValues[0];}var value=0;var rank=percentile*(count+1);var integerRank=Math.floor(Math.abs(rank));var fractionRank=rank-integerRank;if(integerRank===0){value=yValues[0];}else if(integerRank>count-1){value=yValues[count-1];}else{value=fractionRank*(yValues[integerRank]-yValues[integerRank-1])+yValues[integerRank-1];}return value;}},{key:'getInclusiveQuartileValue',value:function getInclusiveQuartileValue(yValues,count,percentile){if(count===0){return 0;}else if(count===1){return yValues[0];}var value=0;var rank=percentile*(count-1);var integerRank=Math.floor(Math.abs(rank));var fractionRank=rank-integerRank;value=fractionRank*(yValues[integerRank+1]-yValues[integerRank])+yValues[integerRank];return value;}},{key:'getQuartileValues',value:function getQuartileValues(yValues,count,quartile){if(count===1){quartile.lowerQuartile=yValues[0];quartile.upperQuartile=yValues[0];return null;}var isEvenList=count%2===0;var halfLength=count/2;var lowerQuartileArray=yValues.slice(0,halfLength);var upperQuartileArray=yValues.slice(isEvenList?halfLength:halfLength+1,count);quartile.lowerQuartile=getMedian(lowerQuartileArray);quartile.upperQuartile=getMedian(upperQuartileArray);}},{key:'getMinMaxOutlier',value:function getMinMaxOutlier(yValues,count,quartile){var interquartile=quartile.upperQuartile-quartile.lowerQuartile;var rangeIQR=1.5*interquartile;for(var i=0;i<count;i++){if(yValues[i]<quartile.lowerQuartile-rangeIQR){quartile.outliers.push(yValues[i]);}else{quartile.minimum=yValues[i];break;}}for(var _i14=count-1;_i14>=0;_i14--){if(yValues[_i14]>quartile.upperQuartile+rangeIQR){quartile.outliers.push(yValues[_i14]);}else{quartile.maximum=yValues[_i14];break;}}}},{key:'doAnimation',value:function doAnimation(series){this.animate(series);}},{key:'getModuleName',value:function getModuleName(){return'BoxAndWhiskerSeries';/**
         * return the module name
         */}},{key:'destroy',value:function destroy(chart){/**
         * Destroys the candle series.
         */}}]);return BoxAndWhiskerSeries;}(ColumnBase));_export2('MultiColoredAreaSeries',MultiColoredAreaSeries=function(_MultiColoredSeries2){_inherits(MultiColoredAreaSeries,_MultiColoredSeries2);function MultiColoredAreaSeries(){_classCallCheck(this,MultiColoredAreaSeries);return _possibleConstructorReturn(this,(MultiColoredAreaSeries.__proto__||Object.getPrototypeOf(MultiColoredAreaSeries)).apply(this,arguments));}_createClass(MultiColoredAreaSeries,[{key:'render',value:function render(series,xAxis,yAxis,isInverted){var _this108=this;var firstPoint=void 0;var startPoint=null;var direction='';var origin=Math.max(series.yAxis.visibleRange.min,0);var options=[];var startRegion=void 0;var previous=void 0;var rendered=void 0;var segments=this.sortSegments(series,series.segments);series.points.map(function(point,i,seriesPoints){point.symbolLocations=[];point.regions=[];rendered=false;if(point.visible&&withInRange(seriesPoints[i-1],point,seriesPoints[i+1],series)){direction+=_this108.getAreaPathDirection(point.xValue,origin,series,isInverted,getPoint,startPoint,'M');startPoint=startPoint||new ChartLocation(point.xValue,origin);firstPoint=getPoint(point.xValue,point.yValue,xAxis,yAxis,isInverted,series);if(previous&&_this108.setPointColor(point,previous,series,series.segmentAxis==='X',segments)){rendered=true;startRegion=getPoint(startPoint.x,origin,xAxis,yAxis,isInverted,series);direction+='L'+' '+firstPoint.x+' '+firstPoint.y+' ';direction+='L'+' '+firstPoint.x+' '+startRegion.y+' ';_this108.generatePathOption(options,series,previous,direction,'_Point_'+previous.index);direction='M'+' '+firstPoint.x+' '+startRegion.y+' '+'L'+' '+firstPoint.x+' '+firstPoint.y+' ';}else{direction+='L'+' '+firstPoint.x+' '+firstPoint.y+' ';_this108.setPointColor(point,null,series,series.segmentAxis==='X',segments);}if(seriesPoints[i+1]&&!seriesPoints[i+1].visible&&series.emptyPointSettings.mode!=='Drop'){direction+=_this108.getAreaEmptyDirection({'x':point.xValue,'y':origin},startPoint,series,isInverted,getPoint);startPoint=null;}previous=point;_this108.storePointLocation(point,series,isInverted,getPoint);}});if(!rendered){direction=series.points.length>1?direction+this.getAreaPathDirection(previous.xValue,origin,series,isInverted,getPoint,null,'L'):'';this.generatePathOption(options,series,previous,direction,'');}this.applySegmentAxis(series,options,segments);this.renderMarker(series);}},{key:'generatePathOption',value:function generatePathOption(options,series,point,direction,id){options.push(new PathOption(series.chart.element.id+'_Series_'+series.index+id,series.setPointColor(point,series.interior),series.border.width,series.border.color,series.opacity,series.dashArray,direction));}},{key:'destroy',value:function destroy(chart){}/**
         * Destroy method calling here
         *//**
     * Get module name
     */},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the series
         */return'MultiColoredAreaSeries';}},{key:'doAnimation',value:function doAnimation(series){this.doLinearAnimation(series,series.animation);}}]);return MultiColoredAreaSeries;}(MultiColoredSeries));_export2('MultiColoredLineSeries',MultiColoredLineSeries=function(_MultiColoredSeries3){_inherits(MultiColoredLineSeries,_MultiColoredSeries3);function MultiColoredLineSeries(){_classCallCheck(this,MultiColoredLineSeries);return _possibleConstructorReturn(this,(MultiColoredLineSeries.__proto__||Object.getPrototypeOf(MultiColoredLineSeries)).apply(this,arguments));}_createClass(MultiColoredLineSeries,[{key:'render',value:function render(series,xAxis,yAxis,isInverted){var previous=null;var startPoint='M';var visiblePoints=this.improveChartPerformance(series);var options=[];var direction='';var segments=this.sortSegments(series,series.segments);var _iteratorNormalCompletion110=true;var _didIteratorError110=false;var _iteratorError110=undefined;try{for(var _iterator110=visiblePoints[Symbol.iterator](),_step110;!(_iteratorNormalCompletion110=(_step110=_iterator110.next()).done);_iteratorNormalCompletion110=true){var point=_step110.value;point.regions=[];if(point.visible&&withInRange(visiblePoints[point.index-1],point,visiblePoints[point.index+1],series)){direction+=this.getLineDirection(previous,point,series,isInverted,getPoint,startPoint);if(previous!=null){if(this.setPointColor(point,previous,series,series.segmentAxis==='X',segments)){options.push(new PathOption(series.chart.element.id+'_Series_'+series.index+'_Point_'+previous.index,'none',series.width,series.setPointColor(previous,series.interior),series.opacity,series.dashArray,direction));startPoint='M';direction='';}else{startPoint='L';}}else{this.setPointColor(point,null,series,series.segmentAxis==='X',segments);}previous=point;this.storePointLocation(point,series,isInverted,getPoint);}else{previous=series.emptyPointSettings.mode==='Drop'?previous:null;startPoint=series.emptyPointSettings.mode==='Drop'?startPoint:'M';point.symbolLocations=[];}}}catch(err){_didIteratorError110=true;_iteratorError110=err;}finally{try{if(!_iteratorNormalCompletion110&&_iterator110.return){_iterator110.return();}}finally{if(_didIteratorError110){throw _iteratorError110;}}}if(direction!==''){options.push(new PathOption(series.chart.element.id+'_Series_'+series.index,'none',series.width,series.setPointColor(visiblePoints[visiblePoints.length-1],series.interior),series.opacity,series.dashArray,direction));}this.applySegmentAxis(series,options,segments);this.renderMarker(series);}},{key:'doAnimation',value:function doAnimation(series){this.doLinearAnimation(series,series.animation);}},{key:'getModuleName',value:function getModuleName(){/**
         * Returns the module name of the series
         */return'MultiColoredLineSeries';}},{key:'destroy',value:function destroy(chart){/**
         * Destroy method performed here
         */}}]);return MultiColoredLineSeries;}(MultiColoredSeries));_export2('MultiLevelLabel',MultiLevelLabel=function(){/**
     * Constructor for the logerithmic module.
     * @private
     */function MultiLevelLabel(chart){_classCallCheck(this,MultiLevelLabel);/** @private */this.xAxisPrevHeight=[];/** @private */this.xAxisMultiLabelHeight=[];/** @private */this.yAxisPrevHeight=[];/** @private */this.yAxisMultiLabelHeight=[];this.chart=chart;}/**
     * Finds multilevel label height
     * @return {void}
     */_createClass(MultiLevelLabel,[{key:'getMultilevelLabelsHeight',value:function getMultilevelLabelsHeight(axis){var value=0;var multiLevelLabelsHeight=[];var prevHeight=[];var isVertical=axis.orientation==='Vertical';var axisValue=isVertical?axis.rect.height:axis.rect.width;var labelSize=void 0;var height=void 0;var padding=10;var gap=void 0;axis.multiLevelLabels.map(function(multiLevel,index){multiLevel.categories.map(function(categoryLabel){if(categoryLabel.text!==''&&categoryLabel.start!==null&&categoryLabel.end!==null){labelSize=measureText(categoryLabel.text,multiLevel.textStyle);height=isVertical?labelSize.width:labelSize.height;height+=2*multiLevel.border.width+(multiLevel.border.type==='CurlyBrace'?padding:0);gap=categoryLabel.maximumTextWidth!==null?categoryLabel.maximumTextWidth:valueToCoefficient(typeof categoryLabel.end==='string'?Number(new Date(categoryLabel.end)):categoryLabel.end,axis)*axisValue-valueToCoefficient(typeof categoryLabel.start==='string'?Number(new Date(categoryLabel.start)):categoryLabel.start,axis)*axisValue;if(labelSize.width>gap-padding&&gap>0&&multiLevel.overflow==='Wrap'&&!isVertical){height=height*textWrap(categoryLabel.text,gap-padding,multiLevel.textStyle).length;}multiLevelLabelsHeight[index]=!multiLevelLabelsHeight[index]?height:multiLevelLabelsHeight[index]<height?height:multiLevelLabelsHeight[index];}});prevHeight[index]=value;value+=multiLevelLabelsHeight[index]?multiLevelLabelsHeight[index]+padding:0;});axis.multiLevelLabelHeight=value+(axis.title!==''||this.chart.legendModule&&this.chart.legendSettings.visible?padding/2:0);if(isVertical){this.yAxisMultiLabelHeight=multiLevelLabelsHeight;this.yAxisPrevHeight=prevHeight;}else{this.xAxisMultiLabelHeight=multiLevelLabelsHeight;this.xAxisPrevHeight=prevHeight;}}},{key:'renderXAxisMultiLevelLabels',value:function renderXAxisMultiLevelLabels(axis,index,parent,axisRect){var _this110=this;var x=void 0;var y=void 0;var padding=10;var startX=void 0;var startY=(axis.labelPosition===axis.tickPosition?axis.majorTickLines.height:0)+axis.maxLabelSize.height+padding;var endX=void 0;var pathRect='';var start=void 0;var end=void 0;var labelSize=void 0;var clipY=void 0;var isOutside=axis.labelPosition==='Outside';var gap=void 0;var anchor=void 0;var isInversed=axis.isInversed;var argsData=void 0;var labelElement=void 0;var opposedPosition=axis.opposedPosition;clipY=opposedPosition&&!isOutside||!opposedPosition&&isOutside?axisRect.y+startY-axis.majorTickLines.width:axisRect.y-startY-axis.multiLevelLabelHeight;this.createClipRect(axisRect.x-axis.majorTickLines.width,clipY,axis.multiLevelLabelHeight+padding,axisRect.width+2*axis.majorTickLines.width,this.chart.element.id+'_XAxis_Clippath_'+index,this.chart.element.id+'XAxisMultiLevelLabel'+index);axis.multiLevelLabels.map(function(multiLevel,level){pathRect='';multiLevel.categories.map(function(categoryLabel,i){labelElement=_this110.chart.renderer.createGroup({id:_this110.chart.element.id+index+'_MultiLevelLabel'+level});start=typeof categoryLabel.start==='string'?Number(new Date(categoryLabel.start)):categoryLabel.start;end=typeof categoryLabel.end==='string'?Number(new Date(categoryLabel.end)):categoryLabel.end;if(start>=axis.visibleRange.min&&start<=axis.visibleRange.max||end>=axis.visibleRange.min&&end<=axis.visibleRange.max){argsData=_this110.triggerMultiLabelRender(axis,categoryLabel.text,axis.multiLevelLabels[level].textStyle,axis.multiLevelLabels[level].alignment);if(!argsData.cancel){startX=valueToCoefficient(start,axis)*axisRect.width;endX=valueToCoefficient(end,axis)*axisRect.width;endX=isInversed?[startX,startX=endX][0]:endX;labelSize=measureText(argsData.text,argsData.textStyle);gap=(categoryLabel.maximumTextWidth===null?endX-startX:categoryLabel.maximumTextWidth)-padding;x=startX+axisRect.x+padding;y=opposedPosition&&!isOutside||!opposedPosition&&isOutside?startY+axisRect.y+labelSize.height/2+padding+_this110.xAxisPrevHeight[level]:axisRect.y-startY+labelSize.height/2-_this110.xAxisMultiLabelHeight[level]-_this110.xAxisPrevHeight[level];if(argsData.alignment==='Center'){x+=(endX-startX-padding)/2;anchor='middle';}else if(argsData.alignment==='Far'){x=x+(endX-startX-padding)-multiLevel.border.width/2;anchor='end';}else{anchor='start';x+=multiLevel.border.width/2;}y=multiLevel.border.type==='CurlyBrace'?!opposedPosition&&isOutside||opposedPosition&&!isOutside?y+padding:y-padding/2:y;var options=new TextOption(_this110.chart.element.id+index+'_Axis_MultiLevelLabel_Level_'+level+'_Text_'+i,x,y,anchor,argsData.text);if(multiLevel.overflow!=='None'){options.text=multiLevel.overflow==='Wrap'?textWrap(argsData.text,gap,argsData.textStyle):textTrim(gap,argsData.text,argsData.textStyle);options.x=options.x-padding/2;}textElement(options,argsData.textStyle,argsData.textStyle.color||_this110.chart.themeStyle.axisLabel,labelElement);if(multiLevel.border.width>0&&multiLevel.border.type!=='WithoutBorder'){pathRect=_this110.renderXAxisLabelBorder(level,endX-startX-padding,axis,startX,startY,labelSize,options,axisRect,argsData.alignment,pathRect,isOutside,opposedPosition);}_this110.multiElements.appendChild(labelElement);}}});if(pathRect!==''){_this110.createBorderElement(level,index,axis,pathRect);}});parent.appendChild(this.multiElements);}},{key:'renderXAxisLabelBorder',value:function renderXAxisLabelBorder(labelIndex,gap,axis,startX,startY,labelSize,textOptions,axisRect,alignment,path,isOutside,opposedPosition){var padding=10;var padding1=void 0;var padding2=void 0;var value=void 0;var value1=void 0;var groupLabel=axis.multiLevelLabels[labelIndex];var width=gap+padding;var height=this.xAxisMultiLabelHeight[labelIndex]+padding;var x=startX+axisRect.x;var y=!opposedPosition&&isOutside||opposedPosition&&!isOutside?startY+axisRect.y+this.xAxisPrevHeight[labelIndex]:axisRect.y-startY-this.xAxisPrevHeight[labelIndex];switch(groupLabel.border.type){case'WithoutTopandBottomBorder':case'Rectangle':case'WithoutTopBorder':height=!opposedPosition&&isOutside||opposedPosition&&!isOutside?height:-height;path+='M'+x+' '+y+'L'+x+' '+(y+height)+'M'+(x+width)+' '+y+'L'+(x+width)+' '+(y+height);path+=groupLabel.border.type!=='WithoutTopandBottomBorder'?'L'+' '+x+' '+(y+height)+' ':' ';path+=groupLabel.border.type==='Rectangle'?'M'+x+' '+y+'L'+(x+width)+' '+y:' ';break;case'Brace':if(alignment==='Near'){value=textOptions.x;value1=textOptions.x+labelSize.width+2;}else if(alignment==='Center'){value=textOptions.x-labelSize.width/2-2;value1=textOptions.x+labelSize.width/2+2;}else{value=textOptions.x-labelSize.width-2;value1=textOptions.x;}height=!opposedPosition&&isOutside||opposedPosition&&!isOutside?height:-height;path+='M'+x+' '+y+'L'+x+' '+(y+height/2)+'M'+x+' '+(y+height/2)+'L'+(value-2)+' '+(y+height/2)+'M'+value1+' '+(y+height/2)+'L'+(x+width)+' '+(y+height/2)+'M'+(x+width)+' '+(y+height/2)+'L'+(x+width)+' '+y;break;case'CurlyBrace':if(!opposedPosition&&isOutside||opposedPosition&&!isOutside){padding=10;padding1=15;padding2=5;}else{padding=-10;padding1=-15;padding2=-5;}if(alignment==='Center'){path+='M'+x+' '+y+' C '+x+' '+y+' '+(x+5)+' '+(y+padding)+' '+(x+10)+' '+(y+padding)+'L'+(x+width/2-5)+' '+(y+padding)+'L'+(x+width/2)+' '+(y+padding1)+'L'+(x+width/2+5)+' '+(y+padding)+'L'+(x+width-10)+' '+(y+padding)+' C '+(x+width-10)+' '+(y+padding)+' '+(x+width)+' '+(y+padding2)+' '+(x+width)+' '+y;}else if(alignment==='Near'){path+='M'+x+' '+y+' C '+x+' '+y+' '+(x+5)+' '+(y+padding)+' '+(x+10)+' '+(y+padding)+'L'+(x+15)+' '+(y+padding1)+'L'+(x+20)+' '+(y+padding)+'L'+(x+width-10)+' '+(y+padding)+' C '+(x+width-10)+' '+(y+padding)+' '+(x+width)+' '+(y+padding2)+' '+(x+width)+' '+y;}else{path+='M'+x+' '+y+' C '+x+' '+y+' '+(x+5)+' '+(y+padding)+' '+(x+10)+' '+(y+padding)+'L'+(x+width-20)+' '+(y+padding)+'L'+(x+width-15)+' '+(y+padding1)+'L'+(x+width-10)+' '+(y+padding)+'L'+(x+width-10)+' '+(y+padding)+' C '+(x+width-10)+' '+(y+padding)+' '+(x+width)+' '+(y+padding2)+' '+(x+width)+' '+y;}break;}return path;}},{key:'renderYAxisMultiLevelLabels',value:function renderYAxisMultiLevelLabels(axis,index,parent,rect){var _this111=this;var labelSize=void 0;var clipX=void 0;var isOutside=axis.labelPosition==='Outside';var x=void 0;var y=void 0;var padding=10;var startX=(axis.tickPosition===axis.labelPosition?axis.majorTickLines.height:0)+axis.maxLabelSize.width+padding;var startY=void 0;var path='';var labelElement=void 0;var endY=void 0;var argsData=void 0;var isInversed=axis.isInversed;var start=void 0;var end=void 0;var gap=void 0;var anchor='middle';var opposedPosition=axis.opposedPosition;clipX=opposedPosition&&!isOutside||!opposedPosition&&isOutside?rect.x-axis.multiLevelLabelHeight-startX-padding:rect.x+startX;this.createClipRect(clipX,rect.y-axis.majorTickLines.width,rect.height+2*axis.majorTickLines.width,axis.multiLevelLabelHeight+padding,this.chart.element.id+'_YAxis_Clippath_'+index,this.chart.element.id+'YAxisMultiLevelLabel'+index);axis.multiLevelLabels.map(function(multiLevel,level){path='';multiLevel.categories.map(function(categoryLabel,i){labelElement=_this111.chart.renderer.createGroup({id:_this111.chart.element.id+index+'_MultiLevelLabel'+level});end=typeof categoryLabel.end==='string'?Number(new Date(categoryLabel.end)):categoryLabel.end;start=typeof categoryLabel.start==='string'?Number(new Date(categoryLabel.start)):categoryLabel.start;if(start>=axis.visibleRange.min&&start<=axis.visibleRange.max||end>=axis.visibleRange.min&&end<=axis.visibleRange.max){startY=valueToCoefficient(start,axis)*rect.height;endY=valueToCoefficient(end,axis)*rect.height;endY=isInversed?[startY,startY=endY][0]:endY;argsData=_this111.triggerMultiLabelRender(axis,categoryLabel.text,multiLevel.textStyle,multiLevel.alignment);if(!argsData.cancel){labelSize=measureText(argsData.text,argsData.textStyle);gap=endY-startY;x=rect.x-startX-_this111.yAxisPrevHeight[level]-_this111.yAxisMultiLabelHeight[level]/2-padding/2;y=rect.height+rect.y-startY-gap/2;if(opposedPosition){x=isOutside?rect.x+startX+padding/2+_this111.yAxisMultiLabelHeight[level]/2+_this111.yAxisPrevHeight[level]:rect.x-startX-_this111.yAxisMultiLabelHeight[level]/2-_this111.yAxisPrevHeight[level]-padding/2;}else{x=isOutside?x:rect.x+startX+padding/2+_this111.yAxisMultiLabelHeight[level]/2+_this111.yAxisPrevHeight[level];}if(argsData.alignment==='Center'){y+=labelSize.height/4;}else if(argsData.alignment==='Far'){y+=gap/2-labelSize.height/2;}else{y=y-gap/2+labelSize.height;}x=multiLevel.border.type==='CurlyBrace'?!opposedPosition&&isOutside||opposedPosition&&!isOutside?x-padding:x+padding:x;var options=new TextOption(_this111.chart.element.id+index+'_Axis_MultiLevelLabel_Level_'+level+'_Text_'+i,x,y,anchor,argsData.text);options.text=multiLevel.overflow==='Trim'?textTrim(categoryLabel.maximumTextWidth===null?_this111.yAxisMultiLabelHeight[level]:categoryLabel.maximumTextWidth,argsData.text,argsData.textStyle):options.text;textElement(options,argsData.textStyle,argsData.textStyle.color||_this111.chart.themeStyle.axisLabel,labelElement);if(multiLevel.border.width>0&&multiLevel.border.type!=='WithoutBorder'){path=_this111.renderYAxisLabelBorder(level,gap,axis,endY,startX,startY,labelSize,options,rect,argsData.alignment,path,isOutside,opposedPosition);}_this111.multiElements.appendChild(labelElement);}}});if(path!==''){_this111.createBorderElement(level,index,axis,path);}});parent.appendChild(this.multiElements);}},{key:'renderYAxisLabelBorder',value:function renderYAxisLabelBorder(labelIndex,gap,axis,endY,startX,startY,labelSize,textOptions,rect,alignment,path,isOutside,opposedPosition){var height=endY-startY;var padding=10;var padding1=void 0;var padding2=void 0;var groupLabel=axis.multiLevelLabels[labelIndex];var y=rect.y+rect.height-endY;var width=this.yAxisMultiLabelHeight[labelIndex]+padding;var x=!opposedPosition&&isOutside||opposedPosition&&!isOutside?rect.x-startX-this.yAxisPrevHeight[labelIndex]:rect.x+startX+this.yAxisPrevHeight[labelIndex];switch(groupLabel.border.type){case'WithoutTopandBottomBorder':case'Rectangle':case'WithoutTopBorder':width=!opposedPosition&&isOutside||opposedPosition&&!isOutside?-width:width;path+='M'+x+' '+y+'L'+(x+width)+' '+y+'M'+x+' '+(y+height)+'L'+(x+width)+' '+(y+height);path+=groupLabel.border.type!=='WithoutTopandBottomBorder'?'L'+' '+(x+width)+' '+y+' ':' ';path+=groupLabel.border.type==='Rectangle'?'M'+x+' '+(y+height)+'L'+' '+x+' '+y+' ':' ';break;case'Brace':width=!opposedPosition&&isOutside||opposedPosition&&!isOutside?width:-width;path+='M '+x+' '+y+' L '+(x-width/2)+' '+y+' L '+(x-width/2)+' '+(textOptions.y-labelSize.height/2-4)+' M '+(x-width/2)+' '+(textOptions.y+labelSize.height/4+2)+' L '+(x-width/2)+' '+(y+height)+' L '+x+' '+(y+height);break;case'CurlyBrace':if(!opposedPosition&&isOutside||opposedPosition&&!isOutside){padding=-10;padding1=-15;padding2=-5;}else{padding=10;padding1=15;padding2=5;}if(alignment==='Center'){path+='M '+x+' '+y+' C '+x+' '+y+' '+(x+padding)+' '+y+' '+(x+padding)+' '+(y+10)+' L '+(x+padding)+' '+(y+(height-10)/2)+' L '+(x+padding1)+' '+(y+(height-10)/2+5)+' L '+(x+padding)+' '+(y+(height-10)/2+10)+' L '+(x+padding)+' '+(y+(height-10))+' C '+(x+padding)+' '+(y+(height-10))+' '+(x+padding2)+' '+(y+height)+' '+x+' '+(y+height);}else if(alignment==='Far'){path+='M '+x+' '+y+' C '+x+' '+y+' '+(x+padding)+' '+y+' '+(x+padding)+' '+(y+10)+' L '+(x+padding)+' '+(y+height-20)+' '+' L '+(x+padding1)+' '+(y+(height-15))+' L '+(x+padding)+' '+(y+(height-10))+' L '+(x+padding)+' '+(y+(height-10))+' C'+(x+padding)+' '+(y+(height-10))+' '+(x+padding)+' '+(y+height)+' '+x+' '+(y+height);}else{path+='M '+x+' '+y+' C '+x+' '+y+' '+(x+padding)+' '+y+' '+(x+padding)+' '+(y+10)+' L '+(x+padding1)+' '+(y+15)+' L '+(x+padding)+' '+(y+20)+' L '+(x+padding)+' '+(y+(height-10))+' C'+(x+padding)+' '+(y+(height-10))+' '+(x+padding2)+' '+(y+height)+' '+x+' '+(y+height);}break;}return path;}},{key:'createClipRect',value:function createClipRect(x,y,height,width,clipId,axisId){this.multiElements=this.chart.renderer.createGroup({'id':axisId,'clip-path':'url(#'+clipId+')'});this.multiElements.appendChild(this.chart.renderer.drawClipPath({'id':clipId,'x':x,'y':y,'width':width,'height':height,'fill':'white','stroke-width':1,'stroke':'Gray'}));}},{key:'createBorderElement',value:function createBorderElement(borderIndex,axisIndex,axis,path){var borderElement=this.chart.renderer.drawPath(new PathOption(this.chart.element.id+axisIndex+'_Axis_MultiLevelLabel_Rect_'+borderIndex,'Transparent',axis.multiLevelLabels[borderIndex].border.width,axis.multiLevelLabels[borderIndex].border.color||this.chart.themeStyle.axisLine,1,'',path));borderElement.setAttribute('style','pointer-events: none');this.multiElements.appendChild(borderElement);}},{key:'triggerMultiLabelRender',value:function triggerMultiLabelRender(axis,text,textStyle,textAlignment){var argsData=void 0;argsData={cancel:false,name:axisMultiLabelRender,axis:axis,text:text,textStyle:textStyle,alignment:textAlignment};this.chart.trigger(axisMultiLabelRender,argsData);return argsData;}},{key:'getModuleName',value:function getModuleName(){return'MultiLevelLabel';}},{key:'destroy',value:function destroy(){// destroy peform here
}}]);return MultiLevelLabel;}());__decorate$8=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==='undefined'?'undefined':_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};_export2('AccumulationAnnotationSettings',AccumulationAnnotationSettings=function(_ChildProperty36){_inherits(AccumulationAnnotationSettings,_ChildProperty36);function AccumulationAnnotationSettings(){_classCallCheck(this,AccumulationAnnotationSettings);return _possibleConstructorReturn(this,(AccumulationAnnotationSettings.__proto__||Object.getPrototypeOf(AccumulationAnnotationSettings)).apply(this,arguments));}return AccumulationAnnotationSettings;}(ChildProperty));__decorate$8([Property(null)],AccumulationAnnotationSettings.prototype,"content",void 0);__decorate$8([Property('0')],AccumulationAnnotationSettings.prototype,"x",void 0);__decorate$8([Property('0')],AccumulationAnnotationSettings.prototype,"y",void 0);__decorate$8([Property('Pixel')],AccumulationAnnotationSettings.prototype,"coordinateUnits",void 0);__decorate$8([Property('Chart')],AccumulationAnnotationSettings.prototype,"region",void 0);__decorate$8([Property('Middle')],AccumulationAnnotationSettings.prototype,"verticalAlignment",void 0);__decorate$8([Property('Center')],AccumulationAnnotationSettings.prototype,"horizontalAlignment",void 0);__decorate$8([Property(null)],AccumulationAnnotationSettings.prototype,"description",void 0);/**
 * Configures the dataLabel in accumulation chart.
 */_export2('AccumulationDataLabelSettings',AccumulationDataLabelSettings=function(_ChildProperty37){_inherits(AccumulationDataLabelSettings,_ChildProperty37);function AccumulationDataLabelSettings(){_classCallCheck(this,AccumulationDataLabelSettings);return _possibleConstructorReturn(this,(AccumulationDataLabelSettings.__proto__||Object.getPrototypeOf(AccumulationDataLabelSettings)).apply(this,arguments));}return AccumulationDataLabelSettings;}(ChildProperty));__decorate$8([Property(false)],AccumulationDataLabelSettings.prototype,"visible",void 0);__decorate$8([Property(null)],AccumulationDataLabelSettings.prototype,"name",void 0);__decorate$8([Property('transparent')],AccumulationDataLabelSettings.prototype,"fill",void 0);__decorate$8([Property('Inside')],AccumulationDataLabelSettings.prototype,"position",void 0);__decorate$8([Property(5)],AccumulationDataLabelSettings.prototype,"rx",void 0);__decorate$8([Property(5)],AccumulationDataLabelSettings.prototype,"ry",void 0);__decorate$8([Complex({width:null,color:null},Border)],AccumulationDataLabelSettings.prototype,"border",void 0);__decorate$8([Complex({size:'11px',color:null},Font)],AccumulationDataLabelSettings.prototype,"font",void 0);__decorate$8([Complex({},Connector)],AccumulationDataLabelSettings.prototype,"connectorStyle",void 0);__decorate$8([Property(null)],AccumulationDataLabelSettings.prototype,"template",void 0);/**
 * Points model for the series.
 */_export2('AccPoints',AccPoints=function AccPoints(){_classCallCheck(this,AccPoints);this.visible=true;this.symbolLocation=null;/** @private */this.region=null;/** @private */this.labelRegion=null;/** @private */this.labelVisible=true;this.regions=null;});_export2('AccumulationSeries',AccumulationSeries=function(_ChildProperty38){_inherits(AccumulationSeries,_ChildProperty38);function AccumulationSeries(){_classCallCheck(this,AccumulationSeries);var _this114=_possibleConstructorReturn(this,(AccumulationSeries.__proto__||Object.getPrototypeOf(AccumulationSeries)).apply(this,arguments));/** @private */_this114.points=[];/** @private */_this114.sumOfPoints=0;/** @private */_this114.isRectSeries=true;/** @private */_this114.clipRect=new Rect(0,0,0,0);return _this114;}/** @private To refresh the Datamanager for series */_createClass(AccumulationSeries,[{key:'refreshDataManager',value:function refreshDataManager(accumulation){var _this115=this;if(isNullOrUndefined(this.query)){this.dataManagerSuccess({result:this.dataSource,count:this.dataSource.length},accumulation);return;}var dataManager=this.dataModule.getData(this.dataModule.generateQuery().requiresCount());dataManager.then(function(e){return _this115.dataManagerSuccess(e,accumulation);});}},{key:'dataManagerSuccess',value:function dataManagerSuccess(e,accumulation){var argsData={name:seriesRender,series:this,data:e.result};accumulation.trigger(seriesRender,argsData);this.resultData=e.result;this.getPoints(e.result,accumulation);if(++accumulation.seriesCounts===accumulation.visibleSeries.length){accumulation.refreshChart();}}},{key:'getPoints',value:function getPoints(result,accumulation){var length=Object.keys(result).length;this.sumOfPoints=0;if(length===0){return null;}this.findSumOfPoints(result);this.points=[];this.sumOfClub=0;var point=void 0;var colors=this.palettes.length?this.palettes:getSeriesColor(accumulation.theme);var clubValue=stringToNumber(this.groupTo,this.sumOfPoints);for(var i=0;i<length;i++){point=this.setPoints(result,i,colors);var currentY=point.y;if(!this.isClub(point,clubValue)){if(isNullOrUndefined(point.y)){point.visible=false;}this.pushPoints(point,colors);}}this.lastGroupTo=this.groupTo;if(this.sumOfClub>0){var clubPoint=new AccPoints();clubPoint.x='Others';clubPoint.y=this.sumOfClub;clubPoint.text=clubPoint.originalText=clubPoint.x+': '+this.sumOfClub;this.pushPoints(clubPoint,colors);}}},{key:'pushPoints',value:function pushPoints(point,colors){point.index=this.points.length;point.color=point.color||colors[point.index%colors.length];this.points.push(point);}},{key:'isClub',value:function isClub(point,clubValue){if(Math.abs(point.y)<=clubValue&&!isNullOrUndefined(clubValue)){this.sumOfClub+=Math.abs(point.y);return true;}return false;}},{key:'findSumOfPoints',value:function findSumOfPoints(result){var length=Object.keys(result).length;for(var i=0;i<length;i++){if(!isNullOrUndefined(result[i][this.yName])){this.sumOfPoints+=Math.abs(result[i][this.yName]);}}}},{key:'setPoints',value:function setPoints(data,i,colors){var point=new AccPoints();point.x=getValue(this.xName,data[i]);point.y=getValue(this.yName,data[i]);point.color=getValue(this.pointColorMapping,data[i]);point.text=point.originalText=getValue(this.dataLabel.name||'',data[i]);this.setAccEmptyPoint(point,i,data,colors);return point;}},{key:'renderSeries',value:function renderSeries(accumulation){var seriesGroup=accumulation.renderer.createGroup({id:accumulation.element.id+'_Series_'+this.index});this.renderPoints(accumulation,seriesGroup);var datalabelGroup=void 0;if(accumulation.accumulationDataLabelModule&&this.dataLabel.visible){datalabelGroup=accumulation.renderer.createGroup({id:accumulation.element.id+'_datalabel_Series_'+this.index});datalabelGroup.style.visibility=this.animation.enable&&accumulation.animateSeries&&this.type==='Pie'?'hidden':'visible';this.renderDataLabel(accumulation,datalabelGroup);}if(this.type==='Pie'){this.findMaxBounds(this.labelBound,this.accumulationBound);accumulation.pieSeriesModule.animateSeries(accumulation,this.animation,this,seriesGroup);}if(accumulation.accumulationLegendModule){this.labelBound.x-=accumulation.explodeDistance;this.labelBound.y-=accumulation.explodeDistance;this.labelBound.height+=accumulation.explodeDistance-this.labelBound.y;this.labelBound.width+=accumulation.explodeDistance-this.labelBound.x;}}},{key:'renderPoints',value:function renderPoints(accumulation,seriesGroup){var pointId=accumulation.element.id+'_Series_'+this.index+'_Point_';var option=void 0;var _iteratorNormalCompletion111=true;var _didIteratorError111=false;var _iteratorError111=undefined;try{for(var _iterator111=this.points[Symbol.iterator](),_step111;!(_iteratorNormalCompletion111=(_step111=_iterator111.next()).done);_iteratorNormalCompletion111=true){var point=_step111.value;var argsData={cancel:false,name:pointRender,series:this,point:point,fill:point.color,border:this.isEmpty(point)?{width:this.emptyPointSettings.border.width,color:this.emptyPointSettings.border.color}:{width:this.border.width,color:this.border.color}};accumulation.trigger(pointRender,argsData);point.color=argsData.fill;if(point.visible){option=new PathOption(pointId+point.index,point.color,argsData.border.width||1,argsData.border.color||point.color,1,'','');accumulation[firstToLowerCase(this.type)+'SeriesModule'].renderPoint(point,this,accumulation,option);seriesGroup.appendChild(accumulation.renderer.drawPath(option));}}}catch(err){_didIteratorError111=true;_iteratorError111=err;}finally{try{if(!_iteratorNormalCompletion111&&_iterator111.return){_iterator111.return();}}finally{if(_didIteratorError111){throw _iteratorError111;}}}accumulation.getSeriesElement().appendChild(seriesGroup);}},{key:'renderDataLabel',value:function renderDataLabel(accumulation,datalabelGroup){accumulation.accumulationDataLabelModule.findAreaRect();var element=createElement('div',{id:accumulation.element.id+'_Series_0'+'_DataLabelCollections'});var _iteratorNormalCompletion112=true;var _didIteratorError112=false;var _iteratorError112=undefined;try{for(var _iterator112=this.points[Symbol.iterator](),_step112;!(_iteratorNormalCompletion112=(_step112=_iterator112.next()).done);_iteratorNormalCompletion112=true){var point=_step112.value;if(point.visible){accumulation.accumulationDataLabelModule.renderDataLabel(point,this.dataLabel,datalabelGroup,this.points,this.index,element);}}}catch(err){_didIteratorError112=true;_iteratorError112=err;}finally{try{if(!_iteratorNormalCompletion112&&_iterator112.return){_iterator112.return();}}finally{if(_didIteratorError112){throw _iteratorError112;}}}if(this.dataLabel.template!==null&&element.childElementCount){getElement(accumulation.element.id+'_Secondary_Element').appendChild(element);}accumulation.getSeriesElement().appendChild(datalabelGroup);}},{key:'findMaxBounds',value:function findMaxBounds(totalbound,bound){totalbound.x=bound.x<totalbound.x?bound.x:totalbound.x;totalbound.y=bound.y<totalbound.y?bound.y:totalbound.y;totalbound.height=bound.y+bound.height>totalbound.height?bound.y+bound.height:totalbound.height;totalbound.width=bound.x+bound.width>totalbound.width?bound.x+bound.width:totalbound.width;}},{key:'setAccEmptyPoint',value:function setAccEmptyPoint(point,i,data,colors){if(!isNullOrUndefined(point.y)){return null;}point.color=this.emptyPointSettings.fill||point.color;switch(this.emptyPointSettings.mode){case'Zero':point.y=0;point.visible=true;break;case'Average':var previous=data[i-1]?data[i-1][this.yName]||0:0;var next=data[i+1]?data[i+1][this.yName]||0:0;point.y=(Math.abs(previous)+Math.abs(next))/2;this.sumOfPoints+=point.y;point.visible=true;break;case'Drop':point.visible=false;break;}}},{key:'isEmpty',value:function isEmpty(point){return point.color===this.emptyPointSettings.fill;}}]);return AccumulationSeries;}(ChildProperty));__decorate$8([Property('')],AccumulationSeries.prototype,"dataSource",void 0);__decorate$8([Property()],AccumulationSeries.prototype,"query",void 0);__decorate$8([Property('')],AccumulationSeries.prototype,"xName",void 0);__decorate$8([Property('')],AccumulationSeries.prototype,"name",void 0);__decorate$8([Property('')],AccumulationSeries.prototype,"yName",void 0);__decorate$8([Property(true)],AccumulationSeries.prototype,"visible",void 0);__decorate$8([Complex({color:null,width:0},Border)],AccumulationSeries.prototype,"border",void 0);__decorate$8([Complex(null,Animation$1)],AccumulationSeries.prototype,"animation",void 0);__decorate$8([Property('SeriesType')],AccumulationSeries.prototype,"legendShape",void 0);__decorate$8([Property('')],AccumulationSeries.prototype,"pointColorMapping",void 0);__decorate$8([Property(null)],AccumulationSeries.prototype,"selectionStyle",void 0);__decorate$8([Property(null)],AccumulationSeries.prototype,"groupTo",void 0);__decorate$8([Complex({},AccumulationDataLabelSettings)],AccumulationSeries.prototype,"dataLabel",void 0);__decorate$8([Property([])],AccumulationSeries.prototype,"palettes",void 0);__decorate$8([Property(0)],AccumulationSeries.prototype,"startAngle",void 0);__decorate$8([Property(360)],AccumulationSeries.prototype,"endAngle",void 0);__decorate$8([Property('80%')],AccumulationSeries.prototype,"radius",void 0);__decorate$8([Property('0')],AccumulationSeries.prototype,"innerRadius",void 0);__decorate$8([Property('Pie')],AccumulationSeries.prototype,"type",void 0);__decorate$8([Property(true)],AccumulationSeries.prototype,"enableTooltip",void 0);__decorate$8([Property(false)],AccumulationSeries.prototype,"explode",void 0);__decorate$8([Property('30%')],AccumulationSeries.prototype,"explodeOffset",void 0);__decorate$8([Property(false)],AccumulationSeries.prototype,"explodeAll",void 0);__decorate$8([Property(null)],AccumulationSeries.prototype,"explodeIndex",void 0);__decorate$8([Complex({mode:'Drop'},EmptyPointSettings)],AccumulationSeries.prototype,"emptyPointSettings",void 0);__decorate$8([Property(0)],AccumulationSeries.prototype,"gapRatio",void 0);__decorate$8([Property('80%')],AccumulationSeries.prototype,"width",void 0);__decorate$8([Property('80%')],AccumulationSeries.prototype,"height",void 0);__decorate$8([Property('20%')],AccumulationSeries.prototype,"neckWidth",void 0);__decorate$8([Property('20%')],AccumulationSeries.prototype,"neckHeight",void 0);__decorate$8([Property('Linear')],AccumulationSeries.prototype,"pyramidMode",void 0);__decorate$8([Property(1)],AccumulationSeries.prototype,"opacity",void 0);AccumulationBase=function(){/** @private */function AccumulationBase(accumulation){_classCallCheck(this,AccumulationBase);this.accumulation=accumulation;}/**
     * Gets the center of the pie
     * @private
     */_createClass(AccumulationBase,[{key:'isCircular',value:function isCircular(){return this.accumulation.type==='Pie';}},{key:'processExplode',value:function processExplode(event){if(event.target.id.indexOf('_Series_')>-1||event.target.id.indexOf('_datalabel_')>-1){var pointIndex=indexFinder(event.target.id).point;if(isNaN(pointIndex)||event.target.id.indexOf('_datalabel_')>-1&&this.accumulation.visibleSeries[0].points[pointIndex].labelPosition==='Outside'){return null;}this.explodePoints(pointIndex,this.accumulation);this.deExplodeAll(pointIndex);}}},{key:'invokeExplode',value:function invokeExplode(){if(this.accumulation.visibleSeries[0].explodeAll){var _iteratorNormalCompletion115=true;var _didIteratorError115=false;var _iteratorError115=undefined;try{for(var _iterator115=this.accumulation.visibleSeries[0].points[Symbol.iterator](),_step115;!(_iteratorNormalCompletion115=(_step115=_iterator115.next()).done);_iteratorNormalCompletion115=true){var point=_step115.value;this.explodePoints(point.index,this.accumulation);}}catch(err){_didIteratorError115=true;_iteratorError115=err;}finally{try{if(!_iteratorNormalCompletion115&&_iterator115.return){_iterator115.return();}}finally{if(_didIteratorError115){throw _iteratorError115;}}}}else if(!isNullOrUndefined(this.accumulation.visibleSeries[0].explodeIndex)){this.explodePoints(this.accumulation.visibleSeries[0].explodeIndex,this.accumulation);}if(this.accumulation.accumulationSelectionModule&&this.accumulation.selectionMode!=='None'&&this.accumulation.accumulationSelectionModule.selectedDataIndexes.length){var _iteratorNormalCompletion116=true;var _didIteratorError116=false;var _iteratorError116=undefined;try{for(var _iterator116=this.accumulation.accumulationSelectionModule.selectedDataIndexes[Symbol.iterator](),_step116;!(_iteratorNormalCompletion116=(_step116=_iterator116.next()).done);_iteratorNormalCompletion116=true){var index=_step116.value;this.explodePoints(index.point,this.accumulation,true);this.deExplodeAll(index.point);}}catch(err){_didIteratorError116=true;_iteratorError116=err;}finally{try{if(!_iteratorNormalCompletion116&&_iterator116.return){_iterator116.return();}}finally{if(_didIteratorError116){throw _iteratorError116;}}}}}},{key:'deExplodeAll',value:function deExplodeAll(index){var pointId=this.accumulation.element.id+'_Series_0_Point_';var points=this.accumulation.visibleSeries[0].points;var _iteratorNormalCompletion117=true;var _didIteratorError117=false;var _iteratorError117=undefined;try{for(var _iterator117=points[Symbol.iterator](),_step117;!(_iteratorNormalCompletion117=(_step117=_iterator117.next()).done);_iteratorNormalCompletion117=true){var currentPoint=_step117.value;if(index!==currentPoint.index){this.deExplodeSlice(currentPoint.index,pointId,this.center);}}}catch(err){_didIteratorError117=true;_iteratorError117=err;}finally{try{if(!_iteratorNormalCompletion117&&_iterator117.return){_iterator117.return();}}finally{if(_didIteratorError117){throw _iteratorError117;}}}}},{key:'explodePoints',value:function explodePoints(index,chart){var explode=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var pointId=this.accumulation.element.id+'_Series_0_Point_';var translate=void 0;var points=this.accumulation.visibleSeries[0].points;var point=pointByIndex(index,this.accumulation.visibleSeries[0].points);if(isNullOrUndefined(point)){return null;}if(!this.isCircular()){translate={x:chart.explodeDistance,y:0};}else{translate=degreeToLocation(point.midAngle,chart.explodeDistance,this.center);}if(this.isExplode(pointId+index)||explode){this.explodeSlice(index,translate,pointId,this.center||{x:0,y:0});}else{this.deExplodeSlice(index,pointId,this.center);}}},{key:'isExplode',value:function isExplode(id){var element=getElement(id);if(element&&(element.getAttribute('transform')==='translate(0, 0)'||element.getAttribute('transform')===null||element.getAttribute('transform')==='translate(0)')){return true;}else{return false;}}},{key:'deExplodeSlice',value:function deExplodeSlice(index,sliceId,center){var position='translate(0, 0)';this.setTranslate(index,sliceId,position);}},{key:'setTranslate',value:function setTranslate(index,sliceId,position){this.setElementTransform(sliceId+index,position);if(this.accumulation.visibleSeries[0].dataLabel.visible){sliceId=this.accumulation.element.id+'_datalabel_Series_0_';this.setElementTransform(sliceId+'shape_'+index,position);this.setElementTransform(sliceId+'text_'+index,position);this.setElementTransform(sliceId+'connector_'+index,position);}}},{key:'setElementTransform',value:function setElementTransform(id,position){var element=getElement(id);if(element){element.setAttribute('transform',position);}}},{key:'explodeSlice',value:function explodeSlice(index,translate,sliceId,center){var position='translate('+(translate.x-center.x)+', '+(translate.y-center.y)+')';this.setTranslate(index,sliceId,position);}},{key:'center',get:function get(){return this.pieCenter||(this.accumulation.visibleSeries[0].type==='Pie'?this.accumulation.pieSeriesModule.center:null);},set:function set(value){this.pieCenter=value;}},{key:'radius',get:function get(){return this.pieRadius!==undefined?this.pieRadius:this.accumulation.pieSeriesModule.radius;},set:function set(value){this.pieRadius=value;}},{key:'labelRadius',get:function get(){return this.pieLabelRadius!==undefined?this.pieLabelRadius:this.accumulation.pieSeriesModule.labelRadius;},set:function set(value){this.pieLabelRadius=value;}}]);return AccumulationBase;}();PieBase=function(_AccumulationBase){_inherits(PieBase,_AccumulationBase);function PieBase(){_classCallCheck(this,PieBase);return _possibleConstructorReturn(this,(PieBase.__proto__||Object.getPrototypeOf(PieBase)).apply(this,arguments));}_createClass(PieBase,[{key:'initProperties',value:function initProperties(chart,series){this.accumulation=chart;var size=Math.min(chart.initialClipRect.width,chart.initialClipRect.height);this.initAngles(series);this.radius=stringToNumber(series.radius,size/2);this.innerRadius=stringToNumber(series.innerRadius,this.radius);this.labelRadius=series.dataLabel.position==='Inside'?(this.radius-this.innerRadius)/2+this.innerRadius:this.radius+stringToNumber(series.dataLabel.connectorStyle.length||'4%',size/2);chart.explodeDistance=series.explode?stringToNumber(series.explodeOffset,this.radius):0;this.findCenter(chart,series);this.defaultLabelBound(series,series.dataLabel.visible,series.dataLabel.position);this.totalAngle-=0.001;}},{key:'findCenter',value:function findCenter(accumulation,series){this.accumulation=accumulation;this.center={x:stringToNumber('50%',accumulation.initialClipRect.width)+accumulation.initialClipRect.x,y:stringToNumber('50%',accumulation.initialClipRect.height)+accumulation.initialClipRect.y};var accumulationRect=this.getSeriesBound(series);var accumulationRectCenter=new ChartLocation(accumulationRect.x+accumulationRect.width/2,accumulationRect.y+accumulationRect.height/2);this.center.x+=this.center.x-accumulationRectCenter.x;this.center.y+=this.center.y-accumulationRectCenter.y;this.accumulation.center=this.center;}},{key:'initAngles',value:function initAngles(series){this.totalAngle=(series.endAngle-series.startAngle)%360;this.startAngle=series.startAngle-90;this.totalAngle=this.totalAngle<=0?360+this.totalAngle:this.totalAngle;this.startAngle=(this.startAngle<0?this.startAngle+360:this.startAngle)%360;}},{key:'defaultLabelBound',value:function defaultLabelBound(series,visible,position){var accumulationBound=this.getSeriesBound(series);series.accumulationBound=accumulationBound;series.labelBound=new Rect(accumulationBound.x,accumulationBound.y,accumulationBound.width+accumulationBound.x,accumulationBound.height+accumulationBound.y);if(visible&&position==='Outside'){series.labelBound=new Rect(Infinity,Infinity,-Infinity,-Infinity);}}},{key:'getSeriesBound',value:function getSeriesBound(series){var rect=new Rect(Infinity,Infinity,-Infinity,-Infinity);this.initAngles(series);var start=this.startAngle;var total=this.totalAngle;var end=(this.startAngle+total)%360;end=end===0?360:end;series.findMaxBounds(rect,this.getRectFromAngle(start));series.findMaxBounds(rect,this.getRectFromAngle(end));series.findMaxBounds(rect,new Rect(this.center.x,this.center.y,0,0));var nextQuandrant=(Math.floor(start/90)*90+90)%360;var lastQuadrant=Math.floor(end/90)*90%360;lastQuadrant=lastQuadrant===0?360:lastQuadrant;if(total>=90||lastQuadrant===nextQuandrant){series.findMaxBounds(rect,this.getRectFromAngle(nextQuandrant));series.findMaxBounds(rect,this.getRectFromAngle(lastQuadrant));}if(start===0||start+total>=360){series.findMaxBounds(rect,this.getRectFromAngle(0));}var length=nextQuandrant===lastQuadrant?0:Math.floor(total/90);for(var i=1;i<length;i++){nextQuandrant=nextQuandrant+90;if(nextQuandrant<lastQuadrant||end<start||total===360){series.findMaxBounds(rect,this.getRectFromAngle(nextQuandrant));}}rect.width-=rect.x;rect.height-=rect.y;return rect;}},{key:'getRectFromAngle',value:function getRectFromAngle(angle){var location=degreeToLocation(angle,this.radius,this.center);return new Rect(location.x,location.y,0,0);}},{key:'getPathArc',value:function getPathArc(center,start,end,radius,innerRadius){var degree=end-start;degree=degree<0?degree+360:degree;var flag=degree<180?0:1;if(!innerRadius&&innerRadius===0){return this.getPiePath(center,degreeToLocation(start,radius,center),degreeToLocation(end,radius,center),radius,flag);}else{return this.getDoughnutPath(center,degreeToLocation(start,radius,center),degreeToLocation(end,radius,center),radius,degreeToLocation(start,innerRadius,center),degreeToLocation(end,innerRadius,center),innerRadius,flag);}}},{key:'getPiePath',value:function getPiePath(center,start,end,radius,clockWise){return'M '+center.x+' '+center.y+' L '+start.x+' '+start.y+' A '+radius+' '+radius+' 0 '+clockWise+' 1 '+end.x+' '+end.y+' Z';}},{key:'getDoughnutPath',value:function getDoughnutPath(center,start,end,radius,innerStart,innerEnd,innerRadius,clockWise){return'M '+start.x+' '+start.y+' A '+radius+' '+radius+' 0 '+clockWise+' 1 '+end.x+' '+end.y+' L '+innerEnd.x+' '+innerEnd.y+' A '+innerRadius+' '+innerRadius+' 0 '+clockWise+',0 '+innerStart.x+' '+innerStart.y+' Z';}},{key:'doAnimation',value:function doAnimation(slice,series){var _this117=this;var startAngle=series.startAngle-85;var value=void 0;var radius=Math.max(this.accumulation.availableSize.height,this.accumulation.availableSize.width)*0.75;radius+=radius*0.414;// formula r + r / 2 * (1.414 -1)
var effect=getAnimationFunction('Linear');// need to check animation type
new Animation({}).animate(slice,{duration:series.animation.duration,delay:series.animation.delay,progress:function progress(args){value=effect(args.timeStamp,startAngle,_this117.totalAngle,args.duration);slice.setAttribute('d',_this117.getPathArc(_this117.center,startAngle,value,radius,0));},end:function end(args){slice.setAttribute('d',_this117.getPathArc(_this117.center,0,359.99999,radius,0));_this117.accumulation.trigger(animationComplete,{series:series,accumulation:_this117.accumulation});var datalabelGroup=getElement(_this117.accumulation.element.id+'_datalabel_Series_'+series.index);datalabelGroup.style.visibility=_this117.accumulation.isDestroyed?'hidden':'visible';}});}}]);return PieBase;}(AccumulationBase);_export2('PieSeries',PieSeries=function(_PieBase){_inherits(PieSeries,_PieBase);function PieSeries(){_classCallCheck(this,PieSeries);return _possibleConstructorReturn(this,(PieSeries.__proto__||Object.getPrototypeOf(PieSeries)).apply(this,arguments));}_createClass(PieSeries,[{key:'renderPoint',value:function renderPoint(point,series,chart,option){var sum$$1=series.sumOfPoints;var degree=Math.abs(point.y)/sum$$1*this.totalAngle;option.d=this.getPathOption(point,degree);point.midAngle=(this.startAngle-degree/2)%360;point.endAngle=this.startAngle%360;point.symbolLocation=degreeToLocation(point.midAngle,(this.radius+this.innerRadius)/2,this.center);return option;}},{key:'getPathOption',value:function getPathOption(point,degree){var path=this.getPathArc(this.center,this.startAngle%360,(this.startAngle+degree)%360,this.radius,this.innerRadius);this.startAngle+=degree;return path;}},{key:'animateSeries',value:function animateSeries(accumulation,option,series,slice){var groupId=accumulation.element.id+'SeriesGroup'+series.index;if(series.animation.enable&&accumulation.animateSeries){var clippath=accumulation.renderer.createClipPath({id:groupId+'_clipPath'});var path=new PathOption(groupId+'_slice','transparent',1,'transparent',1,'','');var clipslice=accumulation.renderer.drawPath(path);clippath.appendChild(clipslice);accumulation.svgObject.appendChild(clippath);slice.setAttribute('style','clip-path:url(#'+clippath.id+')');this.doAnimation(clipslice,series);}}},{key:'getModuleName',value:function getModuleName(){return'PieSeries';}},{key:'destroy',value:function destroy(accumulation){/**
         * Destroy method calling here
         */}}]);return PieSeries;}(PieBase));__decorate$7=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==='undefined'?'undefined':_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};_export2('AccumulationChart',AccumulationChart=function(_Component2){_inherits(AccumulationChart,_Component2);/**
     * Constructor for creating the AccumulationChart widget
     * @private
     */function AccumulationChart(options,element){_classCallCheck(this,AccumulationChart);var _this119=_possibleConstructorReturn(this,(AccumulationChart.__proto__||Object.getPrototypeOf(AccumulationChart)).call(this,options,element));/** @private explode radius internal property */_this119.explodeDistance=0;return _this119;}/** @private */_createClass(AccumulationChart,[{key:'preRender',value:function preRender(){this.unWireEvents();this.setCulture();this.animateSeries=true;calculateSize(this);this.wireEvents();}},{key:'setTheme',value:function setTheme(){/*! Set theme for accumulation chart */this.themeStyle=getThemeColor(this.theme);}},{key:'render',value:function render(){this.trigger(load,{accumulation:this});this.setTheme();this.accBaseModule=new AccumulationBase(this);this.pieSeriesModule=new PieSeries(this);this.calculateVisibleSeries();this.processData();}},{key:'unWireEvents',value:function unWireEvents(){/*! Find the Events type */var isIE11Pointer=Browser.isPointer;var start=Browser.touchStartEvent;var move=Browser.touchMoveEvent;var stop=Browser.touchEndEvent;var cancel=isIE11Pointer?'pointerleave':'mouseleave';/*! UnBind the Event handler */EventHandler.remove(this.element,move,this.accumulationMouseMove);EventHandler.remove(this.element,stop,this.accumulationMouseEnd);EventHandler.remove(this.element,start,this.accumulationMouseStart);EventHandler.remove(this.element,'click',this.accumulationOnMouseClick);EventHandler.remove(this.element,'contextmenu',this.accumulationRightClick);EventHandler.remove(this.element,cancel,this.accumulationMouseLeave);window.removeEventListener(Browser.isTouch&&'orientation'in window&&'onorientationchange'in window?'orientationchange':'resize',this.accumulationResize);}},{key:'wireEvents',value:function wireEvents(){/*! Find the Events type */var isIE11Pointer=Browser.isPointer;var start=Browser.touchStartEvent;var stop=Browser.touchEndEvent;var move=Browser.touchMoveEvent;var cancel=isIE11Pointer?'pointerleave':'mouseleave';/*! Bind the Event handler */EventHandler.add(this.element,move,this.accumulationMouseMove,this);EventHandler.add(this.element,stop,this.accumulationMouseEnd,this);EventHandler.add(this.element,start,this.accumulationMouseStart,this);EventHandler.add(this.element,'click',this.accumulationOnMouseClick,this);EventHandler.add(this.element,'contextmenu',this.accumulationRightClick,this);EventHandler.add(this.element,cancel,this.accumulationMouseLeave,this);window.addEventListener(Browser.isTouch&&'orientation'in window&&'onorientationchange'in window?'orientationchange':'resize',this.accumulationResize.bind(this));new Touch(this.element);// To avoid geasture blocking for browser
/*! Apply the style for chart */this.setStyle(this.element);}},{key:'setMouseXY',value:function setMouseXY(e){var pageX=void 0;var pageY=void 0;if(e.type.indexOf('touch')>-1){this.isTouch=true;var touchArg=e;pageY=touchArg.changedTouches[0].clientY;pageX=touchArg.changedTouches[0].clientX;}else{this.isTouch=e.pointerType==='touch'||e.pointerType==='2';pageX=e.clientX;pageY=e.clientY;}var rect=this.element.getBoundingClientRect();var svgRect=getElement(this.element.id+'_svg').getBoundingClientRect();this.mouseX=pageX-rect.left-Math.max(svgRect.left-rect.left,0);this.mouseY=pageY-rect.top-Math.max(svgRect.top-rect.top,0);}},{key:'accumulationMouseEnd',value:function accumulationMouseEnd(e){this.setMouseXY(e);this.trigger(chartMouseUp,{target:e.target.id,x:this.mouseX,y:this.mouseY});if(this.isTouch){this.titleTooltip(e,this.mouseX,this.mouseY,this.isTouch);if(this.accumulationDataLabelModule&&this.visibleSeries[0].dataLabel.visible){this.accumulationDataLabelModule.move(e,this.mouseX,this.mouseY,this.isTouch);}if(this.accumulationLegendModule&&this.legendSettings.visible){this.accumulationLegendModule.move(e);}}this.notify(Browser.touchEndEvent,e);return false;}},{key:'accumulationMouseStart',value:function accumulationMouseStart(e){this.setMouseXY(e);this.trigger(chartMouseDown,{target:e.target.id,x:this.mouseX,y:this.mouseY});return false;}},{key:'accumulationResize',value:function accumulationResize(e){var _this120=this;this.animateSeries=false;var args={accumulation:this,previousSize:new Size(this.availableSize.width,this.availableSize.height),name:resized,currentSize:new Size(0,0)};if(this.resizeTo){clearTimeout(this.resizeTo);}this.resizeTo=setTimeout(function(){if(_this120.isDestroyed){clearTimeout(_this120.resizeTo);return;}calculateSize(_this120);args.currentSize=_this120.availableSize;_this120.trigger(resized,args);_this120.refreshSeries();_this120.refreshChart();},500);return false;}},{key:'export',value:function _export(type,fileName,orientation){var exportChart=new ExportUtils(this);exportChart.export(type,fileName,orientation);}},{key:'print',value:function print(id){var exportChart=new ExportUtils(this);exportChart.print(id);}},{key:'setStyle',value:function setStyle(element){element.style.touchAction='element';element.style.msTouchAction='element';element.style.msContentZooming='none';element.style.msUserSelect='none';element.style.webkitUserSelect='none';element.style.position='relative';}},{key:'setAnnotationValue',value:function setAnnotationValue(annotationIndex,content){var annotation=this.annotations[annotationIndex];var element=void 0;var parentNode=getElement(this.element.id+'_Annotation_Collections');if(content){annotation.content=content;if(parentNode){element=createElement('div');removeElement(this.element.id+'_Annotation_'+annotationIndex);this.annotationModule.processAnnotation(annotation,annotationIndex,element);parentNode.appendChild(element.children[0]);}else{this.annotationModule.renderAnnotations(getElement(this.element.id+'_Secondary_Element'));}}}},{key:'accumulationMouseMove',value:function accumulationMouseMove(e){this.setMouseXY(e);this.trigger(chartMouseMove,{target:e.target.id,x:this.mouseX,y:this.mouseY});if(this.pointMove){this.triggerPointEvent(pointMove,e.target);}if(this.accumulationLegendModule&&this.legendSettings.visible){this.accumulationLegendModule.move(e);}if(this.accumulationDataLabelModule&&this.visibleSeries[0]&&this.visibleSeries[0].dataLabel.visible){this.accumulationDataLabelModule.move(e,this.mouseX,this.mouseY);}if(!this.isTouch){this.titleTooltip(e,this.mouseX,this.mouseY);}this.notify(Browser.touchMoveEvent,e);return false;}},{key:'titleTooltip',value:function titleTooltip(event,x,y,isTouch){var targetId=event.target.id;if(event.target.textContent.indexOf('...')>-1&&targetId===this.element.id+'_title'){showTooltip(this.title,x,y,this.element.offsetWidth,this.element.id+'_EJ2_Title_Tooltip',getElement(this.element.id+'_Secondary_Element'),isTouch);}else{removeElement(this.element.id+'_EJ2_Title_Tooltip');}}},{key:'accumulationOnMouseClick',value:function accumulationOnMouseClick(e){this.setMouseXY(e);if(this.accumulationLegendModule&&this.legendSettings.visible){this.accumulationLegendModule.click(e);}if(this.selectionMode!=='None'&&this.accumulationSelectionModule){this.accumulationSelectionModule.calculateSelectedElements(this,e);}if(this.visibleSeries[0].explode){this.accBaseModule.processExplode(e);}this.trigger(chartMouseClick,{target:e.target.id,x:this.mouseX,y:this.mouseY});if(this.pointClick){this.triggerPointEvent(pointClick,e.target);}return false;}},{key:'triggerPointEvent',value:function triggerPointEvent(event,element){var indexes=indexFinder(element.id,true);if(indexes.series>=0&&indexes.point>=0){this.trigger(event,{series:this.series[indexes.series],point:this.series[indexes.series].points[indexes.point],seriesIndex:indexes.series,pointIndex:indexes.point,x:this.mouseX,y:this.mouseY});}}},{key:'accumulationRightClick',value:function accumulationRightClick(event){if(event.buttons===2||event.pointerType==='touch'){event.preventDefault();event.stopPropagation();return false;}return true;}},{key:'accumulationMouseLeave',value:function accumulationMouseLeave(e){this.setMouseXY(e);this.trigger(chartMouseLeave,{target:e.target.id,x:this.mouseX,y:this.mouseY});this.notify(Browser.isPointer?'pointerleave':'mouseleave',e);return false;}},{key:'setCulture',value:function setCulture(){this.intl=new Internationalization();}},{key:'createPieSvg',value:function createPieSvg(){this.removeSvg();createSvg(this);}},{key:'removeSvg',value:function removeSvg(){removeElement(this.element.id+'_Secondary_Element');if(this.svgObject){while(this.svgObject.childNodes.length>0){this.svgObject.removeChild(this.svgObject.firstChild);}if(!this.svgObject.hasChildNodes()&&this.svgObject.parentNode){remove(this.svgObject);}}removeElement('EJ2_legend_tooltip');removeElement('EJ2_datalabel_tooltip');}},{key:'createSecondaryElement',value:function createSecondaryElement(){this.element.appendChild(createElement('div',{id:this.element.id+'_Secondary_Element',styles:'position: relative'}));}},{key:'calculateVisibleSeries',value:function calculateVisibleSeries(){this.visibleSeries=[];for(var i=0,length=this.series.length;i<length;i++){this.series[i].index=i;if(this.series[i].type===this.type&&this.visibleSeries.length===0){this.visibleSeries.push(this.series[i]);break;}}}},{key:'processData',value:function processData(){this.seriesCounts=0;var _iteratorNormalCompletion118=true;var _didIteratorError118=false;var _iteratorError118=undefined;try{for(var _iterator118=this.visibleSeries[Symbol.iterator](),_step118;!(_iteratorNormalCompletion118=(_step118=_iterator118.next()).done);_iteratorNormalCompletion118=true){var series=_step118.value;series.dataModule=new Data(series.dataSource,series.query);series.refreshDataManager(this);}}catch(err){_didIteratorError118=true;_iteratorError118=err;}finally{try{if(!_iteratorNormalCompletion118&&_iterator118.return){_iterator118.return();}}finally{if(_didIteratorError118){throw _iteratorError118;}}}}},{key:'refreshChart',value:function refreshChart(){this.doGrouppingProcess();this.createPieSvg();this.calculateBounds();this.renderElements();}},{key:'doGrouppingProcess',value:function doGrouppingProcess(){var series=this.visibleSeries[0];if(!isNullOrUndefined(series.resultData)&&!isNullOrUndefined(series.lastGroupTo)&&series.lastGroupTo!==series.groupTo){series.getPoints(series.resultData,this);}}},{key:'calculateBounds',value:function calculateBounds(){this.initialClipRect=new Rect(this.margin.left,this.margin.top,this.availableSize.width,this.availableSize.height);this.titleCollection=[];this.titleCollection=getTitle(this.title,this.titleStyle,this.initialClipRect.width);subtractRect(this.initialClipRect,new Rect(0,measureText(this.title,this.titleStyle).height*this.titleCollection.length,this.margin.right+this.margin.left,this.margin.bottom+this.margin.top));this.calculateLegendBounds();}},{key:'calculateLegendBounds',value:function calculateLegendBounds(){if(!this.accumulationLegendModule||!this.legendSettings.visible){return null;}this.accumulationLegendModule.getLegendOptions(this,this.visibleSeries);this.accumulationLegendModule.calculateLegendBounds(this.initialClipRect,this.availableSize);}},{key:'renderElements',value:function renderElements(){this.renderBorder();this.renderTitle();this.createSecondaryElement();this.renderSeries();this.renderLegend();this.element.appendChild(this.svgObject);this.processSelection();this.processExplode();this.renderAnnotation();this.setSecondaryElementPosition();this.trigger('loaded',{accumulation:this});this.animateSeries=false;}},{key:'setSecondaryElementPosition',value:function setSecondaryElementPosition(){var tooltipParent=getElement(this.element.id+'_Secondary_Element');if(!tooltipParent){return;}var rect=this.element.getBoundingClientRect();var svgRect=getElement(this.element.id+'_svg').getBoundingClientRect();tooltipParent.style.left=Math.max(svgRect.left-rect.left,0)+'px';tooltipParent.style.top=Math.max(svgRect.top-rect.top,0)+'px';}},{key:'renderAnnotation',value:function renderAnnotation(){if(this.annotationModule){this.annotationModule.renderAnnotations(getElement(this.element.id+'_Secondary_Element'));}}},{key:'processExplode',value:function processExplode(){if(!this.visibleSeries[0].explode){return null;}this.accBaseModule.invokeExplode();}},{key:'renderSeries',value:function renderSeries(){this.svgObject.appendChild(this.renderer.createGroup({id:this.element.id+'_SeriesCollection'}));var _iteratorNormalCompletion119=true;var _didIteratorError119=false;var _iteratorError119=undefined;try{for(var _iterator119=this.visibleSeries[Symbol.iterator](),_step119;!(_iteratorNormalCompletion119=(_step119=_iterator119.next()).done);_iteratorNormalCompletion119=true){var series=_step119.value;if(series.visible&&this[firstToLowerCase(series.type)+'SeriesModule']){this[firstToLowerCase(series.type)+'SeriesModule'].initProperties(this,series);series.renderSeries(this);}}}catch(err){_didIteratorError119=true;_iteratorError119=err;}finally{try{if(!_iteratorNormalCompletion119&&_iterator119.return){_iterator119.return();}}finally{if(_didIteratorError119){throw _iteratorError119;}}}}},{key:'renderBorder',value:function renderBorder(){var padding=this.border.width;this.svgObject.appendChild(this.renderer.drawRectangle(new RectOption(this.element.id+'_border',this.background||this.themeStyle.background,this.border,1,new Rect(padding/2,padding/2,this.availableSize.width-padding,this.availableSize.height-padding))));}},{key:'renderLegend',value:function renderLegend(){if(!this.accumulationLegendModule||!this.legendSettings.visible){return null;}if(this.accumulationLegendModule.legendCollections.length){if(this.visibleSeries[0].type==='Pie'){this.accumulationLegendModule.getSmartLegendLocation(this.visibleSeries[0].labelBound,this.accumulationLegendModule.legendBounds,this.margin);}this.accumulationLegendModule.renderLegend(this,this.legendSettings,this.accumulationLegendModule.legendBounds);}}},{key:'processSelection',value:function processSelection(){if(!this.accumulationSelectionModule||this.selectionMode==='None'){return null;}var selectedDataIndexes=extend([],this.accumulationSelectionModule.selectedDataIndexes,null,true);this.accumulationSelectionModule.invokeSelection(this);if(selectedDataIndexes.length>0){this.accumulationSelectionModule.selectedDataIndexes=selectedDataIndexes;this.accumulationSelectionModule.redrawSelection(this,this.selectionMode);}}},{key:'renderTitle',value:function renderTitle(){if(!this.title){return null;}var titleSize=measureText(this.title,this.titleStyle);var anchor=this.titleStyle.textAlignment==='Near'?'start':this.titleStyle.textAlignment==='Far'?'end':'middle';textElement(new TextOption(this.element.id+'_title',titlePositionX(this.availableSize,this.margin.left,this.margin.left,this.titleStyle),this.margin.top+titleSize.height*3/4,anchor,this.titleCollection,'','auto'),this.titleStyle,this.titleStyle.color||this.themeStyle.chartTitle,this.svgObject);}},{key:'getSeriesElement',value:function getSeriesElement(){return this.svgObject.getElementsByTagName('g')[0];}},{key:'refreshSeries',value:function refreshSeries(){var _iteratorNormalCompletion120=true;var _didIteratorError120=false;var _iteratorError120=undefined;try{for(var _iterator120=this.visibleSeries[Symbol.iterator](),_step120;!(_iteratorNormalCompletion120=(_step120=_iterator120.next()).done);_iteratorNormalCompletion120=true){var series=_step120.value;this.refreshPoints(series.points);}}catch(err){_didIteratorError120=true;_iteratorError120=err;}finally{try{if(!_iteratorNormalCompletion120&&_iterator120.return){_iterator120.return();}}finally{if(_didIteratorError120){throw _iteratorError120;}}}}},{key:'refreshPoints',value:function refreshPoints(points){var _iteratorNormalCompletion121=true;var _didIteratorError121=false;var _iteratorError121=undefined;try{for(var _iterator121=points[Symbol.iterator](),_step121;!(_iteratorNormalCompletion121=(_step121=_iterator121.next()).done);_iteratorNormalCompletion121=true){var point=_step121.value;point.labelPosition=null;point.labelRegion=null;point.labelVisible=true;}}catch(err){_didIteratorError121=true;_iteratorError121=err;}finally{try{if(!_iteratorNormalCompletion121&&_iterator121.return){_iterator121.return();}}finally{if(_didIteratorError121){throw _iteratorError121;}}}}},{key:'getModuleName',value:function getModuleName(){return'accumulationchart';}},{key:'destroy',value:function destroy(){this.unWireEvents();_get(AccumulationChart.prototype.__proto__||Object.getPrototypeOf(AccumulationChart.prototype),'destroy',this).call(this);this.element.classList.remove('e-accumulationchart');}},{key:'requiredModules',value:function requiredModules(){var modules=[];var enableAnnotation=false;modules.push({member:this.type+'Series',args:[this]});if(this.legendSettings.visible){modules.push({member:'AccumulationLegend',args:[this]});}if(this.findDatalabelVisibility()){modules.push({member:'AccumulationDataLabel',args:[this]});}if(this.tooltip.enable){modules.push({member:'AccumulationTooltip',args:[this]});}if(this.selectionMode!=='None'){modules.push({member:'AccumulationSelection',args:[this]});}enableAnnotation=this.annotations.some(function(value){return value.content!==null;});if(enableAnnotation){modules.push({member:'Annotation',args:[this,this.annotations]});}return modules;}},{key:'findDatalabelVisibility',value:function findDatalabelVisibility(){var _iteratorNormalCompletion122=true;var _didIteratorError122=false;var _iteratorError122=undefined;try{for(var _iterator122=this.series[Symbol.iterator](),_step122;!(_iteratorNormalCompletion122=(_step122=_iterator122.next()).done);_iteratorNormalCompletion122=true){var series=_step122.value;if(series.dataLabel.visible){return true;}}}catch(err){_didIteratorError122=true;_iteratorError122=err;}finally{try{if(!_iteratorNormalCompletion122&&_iterator122.return){_iterator122.return();}}finally{if(_didIteratorError122){throw _iteratorError122;}}}return false;}},{key:'getPersistData',value:function getPersistData(){return'';}},{key:'onPropertyChanged',value:function onPropertyChanged(newProp,oldProp){var update={refreshElements:false,refreshBounds:false};var _iteratorNormalCompletion123=true;var _didIteratorError123=false;var _iteratorError123=undefined;try{for(var _iterator123=Object.keys(newProp)[Symbol.iterator](),_step123;!(_iteratorNormalCompletion123=(_step123=_iterator123.next()).done);_iteratorNormalCompletion123=true){var prop=_step123.value;switch(prop){case'theme':this.animateSeries=true;break;case'title':case'height':case'width':case'margin':update.refreshBounds=true;break;case'titleStyle':if(newProp.titleStyle&&(newProp.titleStyle.size||newProp.titleStyle.textOverflow)){update.refreshBounds=true;}else{update.refreshElements=true;}break;case'legendSettings':update.refreshBounds=true;update.refreshElements=true;break;case'locale':case'currencyCode':_get(AccumulationChart.prototype.__proto__||Object.getPrototypeOf(AccumulationChart.prototype),'refresh',this).call(this);break;case'background':case'border':case'annotations':case'enableSmartLabels':update.refreshElements=true;break;case'isMultiSelect':case'selectedDataIndexes':case'selectionMode':if(this.accumulationSelectionModule){if(isNullOrUndefined(this.accumulationSelectionModule.selectedDataIndexes)){this.accumulationSelectionModule.invokeSelection(this);}else{this.accumulationSelectionModule.redrawSelection(this,oldProp.selectionMode);}}break;}}}catch(err){_didIteratorError123=true;_iteratorError123=err;}finally{try{if(!_iteratorNormalCompletion123&&_iterator123.return){_iterator123.return();}}finally{if(_didIteratorError123){throw _iteratorError123;}}}if(!update.refreshBounds&&update.refreshElements){this.createPieSvg();this.renderElements();}else if(update.refreshBounds){this.refreshSeries();this.createPieSvg();this.calculateBounds();this.renderElements();}}},{key:'type',get:function get(){if(this.series&&this.series.length){return this.series[0].type;}return'Pie';}}]);return AccumulationChart;}(Component));__decorate$7([Property(null)],AccumulationChart.prototype,"width",void 0);__decorate$7([Property(null)],AccumulationChart.prototype,"height",void 0);__decorate$7([Property(null)],AccumulationChart.prototype,"title",void 0);__decorate$7([Complex(Theme.chartTitleFont,Font)],AccumulationChart.prototype,"titleStyle",void 0);__decorate$7([Complex({},LegendSettings)],AccumulationChart.prototype,"legendSettings",void 0);__decorate$7([Complex({},TooltipSettings)],AccumulationChart.prototype,"tooltip",void 0);__decorate$7([Property('None')],AccumulationChart.prototype,"selectionMode",void 0);__decorate$7([Property(false)],AccumulationChart.prototype,"isMultiSelect",void 0);__decorate$7([Collection([],Indexes)],AccumulationChart.prototype,"selectedDataIndexes",void 0);__decorate$7([Complex({},Margin)],AccumulationChart.prototype,"margin",void 0);__decorate$7([Property(true)],AccumulationChart.prototype,"enableSmartLabels",void 0);__decorate$7([Complex({color:'#DDDDDD',width:0},Border)],AccumulationChart.prototype,"border",void 0);__decorate$7([Property(null)],AccumulationChart.prototype,"background",void 0);__decorate$7([Collection([{}],AccumulationSeries)],AccumulationChart.prototype,"series",void 0);__decorate$7([Collection([{}],AccumulationAnnotationSettings)],AccumulationChart.prototype,"annotations",void 0);__decorate$7([Property('Material')],AccumulationChart.prototype,"theme",void 0);__decorate$7([Event()],AccumulationChart.prototype,"loaded",void 0);__decorate$7([Event()],AccumulationChart.prototype,"load",void 0);__decorate$7([Event()],AccumulationChart.prototype,"seriesRender",void 0);__decorate$7([Event()],AccumulationChart.prototype,"legendRender",void 0);__decorate$7([Event()],AccumulationChart.prototype,"textRender",void 0);__decorate$7([Event()],AccumulationChart.prototype,"tooltipRender",void 0);__decorate$7([Event()],AccumulationChart.prototype,"pointRender",void 0);__decorate$7([Event()],AccumulationChart.prototype,"annotationRender",void 0);__decorate$7([Event()],AccumulationChart.prototype,"beforePrint",void 0);__decorate$7([Event()],AccumulationChart.prototype,"chartMouseMove",void 0);__decorate$7([Event()],AccumulationChart.prototype,"chartMouseClick",void 0);__decorate$7([Event()],AccumulationChart.prototype,"pointClick",void 0);__decorate$7([Event()],AccumulationChart.prototype,"pointMove",void 0);__decorate$7([Event()],AccumulationChart.prototype,"animationComplete",void 0);__decorate$7([Event()],AccumulationChart.prototype,"chartMouseDown",void 0);__decorate$7([Event()],AccumulationChart.prototype,"chartMouseLeave",void 0);__decorate$7([Event()],AccumulationChart.prototype,"chartMouseUp",void 0);__decorate$7([Event()],AccumulationChart.prototype,"resized",void 0);__decorate$7([Property('USD')],AccumulationChart.prototype,"currencyCode",void 0);_export2('AccumulationChart',AccumulationChart=__decorate$7([NotifyPropertyChanges],AccumulationChart));/**
 * Defines the common behavior of funnel and pyramid series
 *//**
 * TriangularBase is used to calculate base functions for funnel/pyramid series.
 */TriangularBase=function(_AccumulationBase2){_inherits(TriangularBase,_AccumulationBase2);function TriangularBase(){_classCallCheck(this,TriangularBase);return _possibleConstructorReturn(this,(TriangularBase.__proto__||Object.getPrototypeOf(TriangularBase)).apply(this,arguments));}_createClass(TriangularBase,[{key:'initProperties',value:function initProperties(chart,series){var actualChartArea=chart.initialClipRect;series.triangleSize=new Size(stringToNumber(series.width,actualChartArea.width),stringToNumber(series.height,actualChartArea.height));series.neckSize=new Size(stringToNumber(series.neckWidth,actualChartArea.width),stringToNumber(series.neckHeight,actualChartArea.height));this.defaultLabelBound(series,series.dataLabel.visible,series.dataLabel.position,chart);if(series.explodeOffset==='30%'){series.explodeOffset='25px';}chart.explodeDistance=stringToNumber(series.explodeOffset,actualChartArea.width);var points=series.points;this.initializeSizeRatio(points,series);}},{key:'initializeSizeRatio',value:function initializeSizeRatio(points,series){var reverse=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var sumOfPoints=series.sumOfPoints;//Limiting the ratio within the range of 0 to 1
var gapRatio=Math.min(Math.max(series.gapRatio,0),1);//% equivalence of a value 1
var coEff=1/(sumOfPoints*(1+gapRatio/(1-gapRatio)));var spacing=gapRatio/(points.length-1);var y=0;//starting from bottom
for(var i=points.length-1;i>=0;i--){var index=reverse?points.length-1-i:i;if(points[index].visible){var height=coEff*points[index].y;points[index].yRatio=y;points[index].heightRatio=height;y+=height+spacing;}}}},{key:'setLabelLocation',value:function setLabelLocation(series,point,points){var last=points.length-1;var bottom=series.type==='Funnel'?points.length-2:points.length-1;var x=(points[0].x+points[bottom].x)/2;var right=(points[1].x+points[bottom-1].x)/2;point.region=new Rect(x,points[0].y,right-x,points[bottom].y-points[0].y);point.symbolLocation={x:point.region.x+point.region.width/2,y:point.region.y+point.region.height/2};point.labelOffset={x:point.symbolLocation.x-(points[0].x+points[last].x)/2,y:point.symbolLocation.y-(points[0].y+points[last].y)/2};}},{key:'findPath',value:function findPath(locations){var path='M';for(var i=0;i<locations.length;i++){path+=locations[i].x+' '+locations[i].y;if(i!==locations.length-1){path+=' L';}}return path;}},{key:'defaultLabelBound',value:function defaultLabelBound(series,visible,position,chart){var x=(chart.initialClipRect.width-series.triangleSize.width)/2;var y=(chart.initialClipRect.height-series.triangleSize.height)/2;var accumulationBound=new Rect(x,y,series.triangleSize.width,series.triangleSize.height);series.labelBound=new Rect(accumulationBound.x,accumulationBound.y,accumulationBound.width+accumulationBound.x,accumulationBound.height+accumulationBound.y);series.accumulationBound=accumulationBound;if(visible&&position==='Outside'){series.labelBound=new Rect(Infinity,Infinity,-Infinity,-Infinity);}}}]);return TriangularBase;}(AccumulationBase);_export2('FunnelSeries',FunnelSeries=function(_TriangularBase){_inherits(FunnelSeries,_TriangularBase);function FunnelSeries(){_classCallCheck(this,FunnelSeries);return _possibleConstructorReturn(this,(FunnelSeries.__proto__||Object.getPrototypeOf(FunnelSeries)).apply(this,arguments));}_createClass(FunnelSeries,[{key:'getSegmentData',value:function getSegmentData(point,series,chart){var lineWidth=void 0;var topRadius=void 0;var bottomRadius=void 0;var endTop=void 0;var endBottom=void 0;var minRadius=void 0;var endMin=void 0;var bottomY=void 0;var area=series.triangleSize;var offset=0;var extraSpace=(chart.initialClipRect.width-series.triangleSize.width)/2;var emptySpaceAtLeft=extraSpace+chart.initialClipRect.x;var seriesTop=chart.initialClipRect.y+(chart.initialClipRect.height-area.height)/2;//defines the top and bottom of a segment
var top=point.yRatio*area.height;var bottom=top+point.heightRatio*area.height;var neckSize=series.neckSize;lineWidth=neckSize.width+(area.width-neckSize.width)*((area.height-neckSize.height-top)/(area.height-neckSize.height));topRadius=area.width/2-lineWidth/2;//Calculating the middle slope change and bottom
endTop=topRadius+lineWidth;if(bottom>area.height-neckSize.height||area.height===neckSize.height){lineWidth=neckSize.width;}else{lineWidth=neckSize.width+(area.width-neckSize.width)*((area.height-neckSize.height-bottom)/(area.height-neckSize.height));}bottomRadius=area.width/2-lineWidth/2;endBottom=bottomRadius+lineWidth;if(top>=area.height-neckSize.height){topRadius=bottomRadius=minRadius=area.width/2-neckSize.width/2;endTop=endBottom=endMin=area.width/2+neckSize.width/2;}else if(bottom>area.height-neckSize.height){minRadius=bottomRadius=area.width/2-lineWidth/2;endMin=endBottom=minRadius+lineWidth;bottomY=area.height-neckSize.height;}top+=seriesTop;bottom+=seriesTop;bottomY+=seriesTop;var line1={x:emptySpaceAtLeft+offset+topRadius,y:top};var line2={x:emptySpaceAtLeft+offset+endTop,y:top};var line4={x:emptySpaceAtLeft+offset+endBottom,y:bottom};var line5={x:emptySpaceAtLeft+offset+bottomRadius,y:bottom};var line3={x:emptySpaceAtLeft+offset+endBottom,y:bottom};var line6={x:emptySpaceAtLeft+offset+bottomRadius,y:bottom};if(bottomY){line3={x:emptySpaceAtLeft+offset+endMin,y:bottomY};line6={x:emptySpaceAtLeft+offset+minRadius,y:bottomY};}var polygon=[line1,line2,line3,line4,line5,line6];this.setLabelLocation(series,point,polygon);var direction=this.findPath(polygon);return direction;}},{key:'renderPoint',value:function renderPoint(point,series,chart,options){var direction=this.getSegmentData(point,series,chart);point.midAngle=0;options.d=direction;}},{key:'getModuleName',value:function getModuleName(){return'FunnelSeries';}},{key:'destroy',value:function destroy(accumulation){/**
         * Destroys the funnel series
         */}}]);return FunnelSeries;}(TriangularBase));_export2('PyramidSeries',PyramidSeries=function(_TriangularBase2){_inherits(PyramidSeries,_TriangularBase2);function PyramidSeries(){_classCallCheck(this,PyramidSeries);return _possibleConstructorReturn(this,(PyramidSeries.__proto__||Object.getPrototypeOf(PyramidSeries)).apply(this,arguments));}_createClass(PyramidSeries,[{key:'getSegmentData',value:function getSegmentData(point,series,chart){var area=series.triangleSize;//top of th series
var seriesTop=chart.initialClipRect.y+(chart.initialClipRect.height-area.height)/2;var offset=0;var extraSpace=(chart.initialClipRect.width-series.triangleSize.width)/2;var emptySpaceAtLeft=extraSpace+chart.initialClipRect.x;//top and bottom
var top=point.yRatio;var bottom=point.yRatio+point.heightRatio;//width of the top and bottom edge
var topRadius=0.5*(1-point.yRatio);var bottomRadius=0.5*(1-bottom);top+=seriesTop/area.height;bottom+=seriesTop/area.height;var line1={x:emptySpaceAtLeft+offset+topRadius*area.width,y:top*area.height};var line2={x:emptySpaceAtLeft+offset+(1-topRadius)*area.width,y:top*area.height};var line3={x:emptySpaceAtLeft+offset+(1-bottomRadius)*area.width,y:bottom*area.height};var line4={x:emptySpaceAtLeft+offset+bottomRadius*area.width,y:bottom*area.height};var polygon=[line1,line2,line3,line4];this.setLabelLocation(series,point,polygon);var direction=this.findPath(polygon);return direction;}},{key:'initializeSizeRatio',value:function initializeSizeRatio(points,series){if(series.pyramidMode==='Linear'){_get(PyramidSeries.prototype.__proto__||Object.getPrototypeOf(PyramidSeries.prototype),'initializeSizeRatio',this).call(this,points,series,true);}else{this.calculateSurfaceSegments(series);}}},{key:'calculateSurfaceSegments',value:function calculateSurfaceSegments(series){var count=series.points.length;var sumOfValues=series.sumOfPoints;var y=[];var height=[];var gapRatio=Math.min(0,Math.max(series.gapRatio,1));var gapHeight=gapRatio/(count-1);var preSum=this.getSurfaceHeight(0,sumOfValues);var currY=0;for(var i=0;i<count;i++){if(series.points[i].visible){y[i]=currY;height[i]=this.getSurfaceHeight(currY,Math.abs(series.points[i].y));currY+=height[i]+gapHeight*preSum;}}var coef=1/(currY-gapHeight*preSum);for(var _i15=0;_i15<count;_i15++){if(series.points[_i15].visible){series.points[_i15].yRatio=coef*y[_i15];series.points[_i15].heightRatio=coef*height[_i15];}}}},{key:'getSurfaceHeight',value:function getSurfaceHeight(y,surface){var result=this.solveQuadraticEquation(1,2*y,-surface);return result;}},{key:'solveQuadraticEquation',value:function solveQuadraticEquation(a,b,c){var root1=void 0;var root2=void 0;var d=b*b-4*a*c;if(d>=0){var sd=Math.sqrt(d);root1=(-b-sd)/(2*a);root2=(-b+sd)/(2*a);return Math.max(root1,root2);}return 0;}},{key:'renderPoint',value:function renderPoint(point,series,chart,options){var direction=this.getSegmentData(point,series,chart);point.midAngle=0;options.d=direction;}},{key:'getModuleName',value:function getModuleName(){return'PyramidSeries';}},{key:'destroy',value:function destroy(accumulation){/**
         * Destroys the pyramid series
         */}}]);return PyramidSeries;}(TriangularBase));_export2('AccumulationLegend',AccumulationLegend=function(_BaseLegend2){_inherits(AccumulationLegend,_BaseLegend2);/**
     * Constructor for Accumulation Legend.
     * @param chart
     */function AccumulationLegend(chart){_classCallCheck(this,AccumulationLegend);var _this124=_possibleConstructorReturn(this,(AccumulationLegend.__proto__||Object.getPrototypeOf(AccumulationLegend)).call(this,chart));_this124.library=_this124;_this124.titleRect=new Rect(0,chart.margin.top,0,0);return _this124;}/**
     * Get the legend options.
     * @return {void}
     * @private
     */_createClass(AccumulationLegend,[{key:'getLegendOptions',value:function getLegendOptions(chart,series){this.legendCollections=[];for(var i=0;i<1;i++){var seriesType=series[i].type;if(seriesType==='Pie'||seriesType==='Doughnut'){seriesType=series[i].innerRadius!=='0'&&series[i].innerRadius!=='0%'?'Doughnut':'Pie';}var _iteratorNormalCompletion124=true;var _didIteratorError124=false;var _iteratorError124=undefined;try{for(var _iterator124=series[i].points[Symbol.iterator](),_step124;!(_iteratorNormalCompletion124=(_step124=_iterator124.next()).done);_iteratorNormalCompletion124=true){var point=_step124.value;if(!isNullOrUndefined(point.x)&&!isNullOrUndefined(point.y)){this.legendCollections.push(new LegendOptions(point.x.toString(),point.color,series[i].legendShape,point.visible,seriesType,null,null,point.index,series[i].index));}}}catch(err){_didIteratorError124=true;_iteratorError124=err;}finally{try{if(!_iteratorNormalCompletion124&&_iterator124.return){_iterator124.return();}}finally{if(_didIteratorError124){throw _iteratorError124;}}}}}},{key:'getLegendBounds',value:function getLegendBounds(availableSize,legendBounds,legend){var extraWidth=0;var extraHeight=0;var padding=legend.padding;if(!this.isVertical){extraHeight=!legend.height?availableSize.height/100*5:0;}else{extraWidth=!legend.width?availableSize.width/100*5:0;}legendBounds.width+=extraWidth;legendBounds.height+=extraHeight;var shapePadding=legend.shapePadding;var maximumWidth=0;var shapeWidth=legend.shapeWidth;var rowWidth=0;var rowCount=0;var columnWidth=[];var columnHeight=0;var legendWidth=0;this.maxItemHeight=Math.max(measureText('MeasureText',legend.textStyle).height,legend.shapeHeight);var legendEventArgs=void 0;var render=false;var _iteratorNormalCompletion125=true;var _didIteratorError125=false;var _iteratorError125=undefined;try{for(var _iterator125=this.legendCollections[Symbol.iterator](),_step125;!(_iteratorNormalCompletion125=(_step125=_iterator125.next()).done);_iteratorNormalCompletion125=true){var legendOption=_step125.value;legendEventArgs={fill:legendOption.fill,text:legendOption.text,shape:legendOption.shape,name:'legendRender',cancel:false};this.chart.trigger('legendRender',legendEventArgs);legendOption.render=!legendEventArgs.cancel;legendOption.text=legendEventArgs.text;legendOption.fill=legendEventArgs.fill;legendOption.shape=legendEventArgs.shape;legendOption.textSize=measureText(legendOption.text,legend.textStyle);if(legendOption.render&&legendOption.text!==''){render=true;legendWidth=shapeWidth+shapePadding+legendOption.textSize.width+padding;if(this.isVertical){++rowCount;columnHeight=rowCount*(this.maxItemHeight+padding)+padding;if(rowCount*(this.maxItemHeight+padding)+padding>legendBounds.height){columnHeight=Math.max(columnHeight,rowCount*(this.maxItemHeight+padding)+padding);rowWidth=rowWidth+maximumWidth;columnWidth.push(maximumWidth);this.totalPages=Math.max(rowCount,this.totalPages||1);maximumWidth=0;rowCount=1;}maximumWidth=Math.max(legendWidth,maximumWidth);}else{rowWidth=rowWidth+legendWidth;if(legendBounds.width<padding+rowWidth){maximumWidth=Math.max(maximumWidth,rowWidth+padding-legendWidth);if(rowCount===0&&legendWidth!==rowWidth){rowCount=1;}rowWidth=legendWidth;rowCount++;columnHeight=rowCount*(this.maxItemHeight+padding)+padding;}}}}}catch(err){_didIteratorError125=true;_iteratorError125=err;}finally{try{if(!_iteratorNormalCompletion125&&_iterator125.return){_iterator125.return();}}finally{if(_didIteratorError125){throw _iteratorError125;}}}if(this.isVertical){rowWidth=rowWidth+maximumWidth;this.isPaging=legendBounds.width<rowWidth+padding;columnHeight=Math.max(columnHeight,(this.totalPages||1)*(this.maxItemHeight+padding)+padding);this.isPaging=this.isPaging&&this.totalPages>1;if(columnWidth[columnWidth.length-1]!==maximumWidth){columnWidth.push(maximumWidth);}}else{this.isPaging=legendBounds.height<columnHeight;this.totalPages=this.totalRowCount=rowCount;columnHeight=Math.max(columnHeight,this.maxItemHeight+padding+padding);}this.maxColumns=0;// initialization for max columns
var width=this.isVertical?this.getMaxColumn(columnWidth,legendBounds.width,padding,rowWidth+padding):Math.max(rowWidth+padding,maximumWidth);if(render){this.setBounds(width,columnHeight,legend,legendBounds);}else{this.setBounds(0,0,legend,legendBounds);}}},{key:'getMaxColumn',value:function getMaxColumn(columns,width,padding,rowWidth){var maxPageColumn=padding;this.maxColumnWidth=Math.max.apply(null,columns);var _iteratorNormalCompletion126=true;var _didIteratorError126=false;var _iteratorError126=undefined;try{for(var _iterator126=columns[Symbol.iterator](),_step126;!(_iteratorNormalCompletion126=(_step126=_iterator126.next()).done);_iteratorNormalCompletion126=true){var column=_step126.value;maxPageColumn+=this.maxColumnWidth;this.maxColumns++;if(maxPageColumn+padding>width){maxPageColumn-=this.maxColumnWidth;this.maxColumns--;break;}}}catch(err){_didIteratorError126=true;_iteratorError126=err;}finally{try{if(!_iteratorNormalCompletion126&&_iterator126.return){_iterator126.return();}}finally{if(_didIteratorError126){throw _iteratorError126;}}}this.isPaging=maxPageColumn<rowWidth&&this.totalPages>1;if(maxPageColumn===padding){maxPageColumn=width;}this.maxColumns=Math.max(1,this.maxColumns);this.maxWidth=maxPageColumn;return maxPageColumn;}},{key:'getAvailWidth',value:function getAvailWidth(tx,width,legendX){if(this.isVertical){width=this.maxWidth;}return width-(this.legend.padding*2+this.legend.shapeWidth+this.legend.shapePadding);}},{key:'getRenderPoint',value:function getRenderPoint(legendOption,start,textPadding,prevLegend,rect,count,firstLegend){var padding=this.legend.padding;if(this.isVertical){if(count===firstLegend||prevLegend.location.y+this.maxItemHeight*1.5+padding*2>rect.y+rect.height){legendOption.location.x=prevLegend.location.x+(count===firstLegend?0:this.maxColumnWidth);legendOption.location.y=start.y;this.pageXCollections.push(legendOption.location.x-this.legend.shapeWidth/2-padding);this.totalPages++;}else{legendOption.location.x=prevLegend.location.x;legendOption.location.y=prevLegend.location.y+this.maxItemHeight+padding;}}else{var previousBound=prevLegend.location.x+textPadding+prevLegend.textSize.width;if(previousBound+(legendOption.textSize.width+textPadding)>rect.x+rect.width+this.legend.shapeWidth/2){legendOption.location.y=count===firstLegend?prevLegend.location.y:prevLegend.location.y+this.maxItemHeight+padding;legendOption.location.x=start.x;}else{legendOption.location.y=prevLegend.location.y;legendOption.location.x=count===firstLegend?prevLegend.location.x:previousBound;}this.totalPages=this.totalRowCount;}var availablewidth=this.getAvailWidth(legendOption.location.x,this.legendBounds.width,this.legendBounds.x);legendOption.text=textTrim(+availablewidth.toFixed(4),legendOption.text,this.legend.textStyle);}},{key:'getSmartLegendLocation',value:function getSmartLegendLocation(labelBound,legendBound,margin){var space=void 0;switch(this.position){case'Left':space=(labelBound.x-legendBound.width-margin.left)/2;legendBound.x=labelBound.x-legendBound.width<margin.left?legendBound.x:labelBound.x-legendBound.width-space;break;case'Right':space=(this.chart.availableSize.width-margin.right-(labelBound.x+labelBound.width+legendBound.width))/2;legendBound.x=labelBound.x+labelBound.width+legendBound.width>this.chart.availableSize.width-margin.right?legendBound.x:labelBound.x+labelBound.width+space;break;case'Top':this.getTitleRect(this.chart);space=(labelBound.y-legendBound.height-(this.titleRect.y+this.titleRect.height))/2;legendBound.y=labelBound.y-legendBound.height<margin.top?legendBound.y:labelBound.y-legendBound.height-space;break;case'Bottom':space=(this.chart.availableSize.height-margin.bottom-(labelBound.y+labelBound.height+legendBound.height))/2;legendBound.y=labelBound.y+labelBound.height+legendBound.height>this.chart.availableSize.height-margin.bottom?legendBound.y:labelBound.y+labelBound.height+space;break;}}},{key:'getTitleRect',value:function getTitleRect(accumulation){if(!accumulation.title){return null;}var titleSize=measureText(accumulation.title,accumulation.titleStyle);this.titleRect=new Rect(accumulation.availableSize.width/2-titleSize.width/2,accumulation.margin.top,titleSize.width,titleSize.height);}},{key:'legendByIndex',value:function legendByIndex(index,legendCollections){var _iteratorNormalCompletion127=true;var _didIteratorError127=false;var _iteratorError127=undefined;try{for(var _iterator127=legendCollections[Symbol.iterator](),_step127;!(_iteratorNormalCompletion127=(_step127=_iterator127.next()).done);_iteratorNormalCompletion127=true){var legend=_step127.value;if(legend.pointIndex===index){return legend;}}}catch(err){_didIteratorError127=true;_iteratorError127=err;}finally{try{if(!_iteratorNormalCompletion127&&_iterator127.return){_iterator127.return();}}finally{if(_didIteratorError127){throw _iteratorError127;}}}return null;}},{key:'click',value:function click(event){var targetId=event.target.id;var legendItemsId=[this.legendID+'_text_',this.legendID+'_shape_',this.legendID+'_shape_marker_'];var selectedDataIndexes=[];if(this.chart.accumulationSelectionModule){selectedDataIndexes=extend([],this.chart.accumulationSelectionModule.selectedDataIndexes,null,true);}var _iteratorNormalCompletion128=true;var _didIteratorError128=false;var _iteratorError128=undefined;try{for(var _iterator128=legendItemsId[Symbol.iterator](),_step128;!(_iteratorNormalCompletion128=(_step128=_iterator128.next()).done);_iteratorNormalCompletion128=true){var id=_step128.value;if(targetId.indexOf(id)>-1){var pointIndex=parseInt(targetId.split(id)[1],10);var currentSeries=this.chart.visibleSeries[0];var point=pointByIndex(pointIndex,currentSeries.points);var legendOption=this.legendByIndex(pointIndex,this.legendCollections);if(this.chart.legendSettings.toggleVisibility){point.visible=!point.visible;legendOption.visible=point.visible;this.chart.removeSvg();if(point.visible){currentSeries.sumOfPoints+=point.y;}else{currentSeries.sumOfPoints-=point.y;}this.chart.refreshPoints(currentSeries.points);this.chart.renderElements();}else if(this.chart.accumulationSelectionModule){this.chart.accumulationSelectionModule.legendSelection(this.chart,0,pointIndex);}}}}catch(err){_didIteratorError128=true;_iteratorError128=err;}finally{try{if(!_iteratorNormalCompletion128&&_iterator128.return){_iterator128.return();}}finally{if(_didIteratorError128){throw _iteratorError128;}}}if(targetId.indexOf(this.legendID+'_pageup')>-1){this.changePage(event,true);}else if(targetId.indexOf(this.legendID+'_pagedown')>-1){this.changePage(event,false);}}},{key:'getModuleName',value:function getModuleName(){return'AccumulationLegend';}},{key:'destroy',value:function destroy(chart){/**
         * Destroy method calling here
         */}}]);return AccumulationLegend;}(BaseLegend));_export2('AccumulationDataLabel',AccumulationDataLabel=function(_AccumulationBase3){_inherits(AccumulationDataLabel,_AccumulationBase3);function AccumulationDataLabel(accumulation){_classCallCheck(this,AccumulationDataLabel);var _this125=_possibleConstructorReturn(this,(AccumulationDataLabel.__proto__||Object.getPrototypeOf(AccumulationDataLabel)).call(this,accumulation));_this125.id=accumulation.element.id+'_datalabel_Series_';if(accumulation.title){var titleSize=measureText(accumulation.title,accumulation.titleStyle);_this125.titleRect=new Rect(accumulation.availableSize.width/2-titleSize.width/2,accumulation.margin.top,titleSize.width,titleSize.height);}return _this125;}/**
     * Method to get datalabel text location.
     * @private
     */_createClass(AccumulationDataLabel,[{key:'getDataLabelPosition',value:function getDataLabelPosition(point,dataLabel,textSize,points,parent,id){var radius=this.isCircular()?this.labelRadius:this.getLabelDistance(point,dataLabel);this.getLabelRegion(point,dataLabel.position,textSize,radius,this.marginValue);point.labelAngle=point.midAngle;point.labelPosition=dataLabel.position;if(this.accumulation.enableSmartLabels){this.getSmartLabel(point,dataLabel,textSize,points,parent,id);}}},{key:'getLabelRegion',value:function getLabelRegion(point,position,textSize,labelRadius,margin){var endAngle=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;var labelAngle=endAngle||point.midAngle;var space=10;var location=degreeToLocation(labelAngle,labelRadius,this.isCircular()?this.center:this.getLabelLocation(point,position));location.y=position==='Inside'?location.y-textSize.height/2:location.y;location.x=position==='Inside'?location.x-textSize.width/2:location.x;point.labelRegion=new Rect(location.x,location.y,textSize.width+margin*2,textSize.height+margin*2);if(position==='Outside'){point.labelRegion.y-=point.labelRegion.height/2;if(labelAngle>=90&&labelAngle<=270){point.labelRegion.x-=point.labelRegion.width+space;}else{point.labelRegion.x+=space;}}}},{key:'getSmartLabel',value:function getSmartLabel(point,dataLabel,textSize,points,parent,id){var circular=this.isCircular();var labelRadius=circular?this.radius:this.getLabelDistance(point,dataLabel);var connectorLength=circular?dataLabel.connectorStyle.length||'4%':'0px';labelRadius+=stringToNumber(connectorLength,labelRadius);var previousPoint=this.findPreviousPoint(points,point.index,point.labelPosition);if(dataLabel.position==='Inside'){if(previousPoint&&previousPoint.labelRegion&&(isOverlap(point.labelRegion,previousPoint.labelRegion)||this.isOverlapping(point,points))||!circular&&!containsRect(point.region,point.labelRegion)){point.labelPosition='Outside';if(!circular){labelRadius=this.getLabelDistance(point,dataLabel);}this.getLabelRegion(point,point.labelPosition,textSize,labelRadius,this.marginValue);previousPoint=this.findPreviousPoint(points,point.index,point.labelPosition);if(previousPoint&&(isOverlap(point.labelRegion,previousPoint.labelRegion)||this.isConnectorLineOverlapping(point,previousPoint))){this.setOuterSmartLabel(previousPoint,point,dataLabel.border.width,labelRadius,textSize,this.marginValue);}}}else{if(previousPoint&&previousPoint.labelRegion&&(isOverlap(point.labelRegion,previousPoint.labelRegion)||this.isOverlapping(point,points)||this.isConnectorLineOverlapping(point,previousPoint))){this.setOuterSmartLabel(previousPoint,point,dataLabel.border.width,labelRadius,textSize,this.marginValue);}}if(this.isOverlapping(point,points)||this.titleRect&&point.labelRegion&&isOverlap(point.labelRegion,this.titleRect)){this.setPointVisibileFalse(point);}if(this.accumulation.accumulationLegendModule&&point.labelVisible&&point.labelRegion){var rect=this.accumulation.accumulationLegendModule.legendBounds;var padding=this.accumulation.legendSettings.border.width/2;this.textTrimming(point,new Rect(rect.x-padding,rect.y-padding,rect.width+2*padding,rect.height+2*padding),dataLabel.font,this.accumulation.accumulationLegendModule.position);}if(point.labelVisible&&point.labelRegion){var position=this.isCircular()?point.labelRegion.x>=this.center.x?'InsideRight':'InsideLeft':'InsideRight';this.textTrimming(point,this.areaRect,dataLabel.font,position);}if(point.labelVisible&&point.labelRegion&&(point.labelRegion.y+point.labelRegion.height>this.areaRect.y+this.areaRect.height||point.labelRegion.y<this.areaRect.y||point.labelRegion.x<this.areaRect.x||point.labelRegion.x+point.labelRegion.width>this.areaRect.x+this.areaRect.width)){this.setPointVisibileFalse(point);}}},{key:'move',value:function move(e,x,y,isTouch){var _this126=this;if(e.target.textContent.indexOf('...')>-1){var targetId=e.target.id.split(this.id);if(targetId.length===2){var seriesIndex=parseInt(targetId[1].split('_text_')[0],10);var pointIndex=parseInt(targetId[1].split('_text_')[1],10);if(!isNaN(seriesIndex)&&!isNaN(pointIndex)){if(isTouch){removeElement(this.accumulation.element.id+'_EJ2_Datalabel_Tooltip');}var point=getSeriesFromIndex(seriesIndex,this.accumulation.visibleSeries).points[pointIndex];showTooltip(point.text||point.y.toString(),x,y,this.areaRect.width,this.accumulation.element.id+'_EJ2_Datalabel_Tooltip',getElement(this.accumulation.element.id+'_Secondary_Element'));}}}else{removeElement(this.accumulation.element.id+'_EJ2_Datalabel_Tooltip');}if(isTouch){clearTimeout(this.clearTooltip);this.clearTooltip=setTimeout(function(){removeElement(_this126.accumulation.element.id+'_EJ2_Datalabel_Tooltip');},1000);}}},{key:'findPreviousPoint',value:function findPreviousPoint(points,index,position){var point=points[0];for(var i=index-1;i>=0;i--){point=points[i];if(point.visible&&point.labelVisible&&point.labelRegion&&point.labelPosition===position){return point;}}return null;}},{key:'isOverlapping',value:function isOverlapping(currentPoint,points){for(var i=currentPoint.index-1;i>=0;i--){if(points[i].visible&&points[i].labelVisible&&points[i].labelRegion&&currentPoint.labelRegion&&currentPoint.labelVisible&&isOverlap(currentPoint.labelRegion,points[i].labelRegion)){return true;}}return false;}},{key:'textTrimming',value:function textTrimming(point,rect,font,position){if(isOverlap(point.labelRegion,rect)){var size=point.labelRegion.width;if(position==='Right'){size=rect.x-point.labelRegion.x;}else if(position==='Left'){size=point.labelRegion.x-(rect.x+rect.width);if(size<0){size+=point.labelRegion.width;point.labelRegion.x=rect.x+rect.width;}}else if(position==='InsideRight'){size=rect.x+rect.width-point.labelRegion.x;}else if(position==='InsideLeft'){size=point.labelRegion.x+point.labelRegion.width-rect.x;if(size<point.labelRegion.width){point.labelRegion.x=rect.x;}}else{this.setPointVisibileFalse(point);}if(point.labelVisible&&point.labelRegion){if(size<point.labelRegion.width){point.label=textTrim(size-this.marginValue*2,point.label,font);point.labelRegion.width=size;}if(point.label.length===3&&point.label.indexOf('...')>-1){this.setPointVisibileFalse(point);}}}}},{key:'setPointVisibileFalse',value:function setPointVisibileFalse(point){point.labelVisible=false;point.labelRegion=null;}},{key:'setOuterSmartLabel',value:function setOuterSmartLabel(previousPoint,point,border,labelRadius,textsize,margin){if(!this.isCircular()){this.setSmartLabelForSegments(point,previousPoint,labelRadius,textsize,margin);}else{var labelAngle=this.getOverlappedAngle(previousPoint.labelRegion,point.labelRegion,point.midAngle,border*2);this.getLabelRegion(point,'Outside',textsize,labelRadius,margin,labelAngle);if(labelAngle>point.endAngle){this.setPointVisibileFalse(point);}point.labelAngle=labelAngle;while(point.labelVisible&&(isOverlap(previousPoint.labelRegion,point.labelRegion)||labelAngle<=previousPoint.labelAngle||this.isConnectorLineOverlapping(point,previousPoint))){if(labelAngle>point.endAngle){this.setPointVisibileFalse(point);break;}point.labelAngle=labelAngle;this.getLabelRegion(point,'Outside',textsize,labelRadius,margin,labelAngle);labelAngle+=0.1;}}}},{key:'setSmartLabelForSegments',value:function setSmartLabelForSegments(point,prevPoint,distance,textSize,margin){var textRegion=point.labelRegion;//let overlapWidth: number = prevPoint.labelRegion.x + prevPoint.labelRegion.width - textRegion.x;
var overlapHeight=this.accumulation.type==='Funnel'?prevPoint.labelRegion.y-(textRegion.y+textRegion.height):point.labelRegion.y-(prevPoint.labelRegion.y+prevPoint.labelRegion.height);if(overlapHeight<0){point.labelRegion.y+=this.accumulation.type==='Funnel'?overlapHeight:-overlapHeight;}}},{key:'isConnectorLineOverlapping',value:function isConnectorLineOverlapping(point,previous){var start=this.getLabelLocation(point);var end=new ChartLocation(0,0);this.getEdgeOfLabel(point.labelRegion,point.labelAngle,end);var previousstart=this.getLabelLocation(previous);var previousend=new ChartLocation(0,0);this.getEdgeOfLabel(previous.labelRegion,previous.labelAngle,previousend);return this.isLineRectangleIntersect(start,end,point.labelRegion)||this.isLineRectangleIntersect(start,end,previous.labelRegion)||this.isLineRectangleIntersect(previousstart,previousend,point.labelRegion);}},{key:'isLineRectangleIntersect',value:function isLineRectangleIntersect(line1,line2,rect){var rectPoints=[new ChartLocation(Math.round(rect.x),Math.round(rect.y)),new ChartLocation(Math.round(rect.x+rect.width),Math.round(rect.y)),new ChartLocation(Math.round(rect.x+rect.width),Math.round(rect.y+rect.height)),new ChartLocation(Math.round(rect.x),Math.round(rect.y+rect.height))];line1.x=Math.round(line1.x);line1.y=Math.round(line1.y);line2.x=Math.round(line2.x);line2.y=Math.round(line2.y);for(var i=0;i<rectPoints.length;i++){if(this.isLinesIntersect(line1,line2,rectPoints[i],rectPoints[(i+1)%rectPoints.length])){return true;}}return false;}},{key:'isLinesIntersect',value:function isLinesIntersect(point1,point2,point11,point12){var a1=point2.y-point1.y;var b1=point1.x-point2.x;var c1=a1*point1.x+b1*point1.y;var a2=point12.y-point11.y;var b2=point11.x-point12.x;var c2=a2*point11.x+b2*point11.y;var delta=a1*b2-a2*b1;if(delta!==0){var x=(b2*c1-b1*c2)/delta;var y=(a1*c2-a2*c1)/delta;var lies=Math.min(point1.x,point2.x)<=x&&x<=Math.max(point1.x,point2.x);lies=lies&&Math.min(point1.y,point2.y)<=y&&y<=Math.max(point1.y,point2.y);lies=lies&&Math.min(point11.x,point12.x)<=x&&x<=Math.max(point11.x,point12.x);lies=lies&&Math.min(point11.y,point12.y)<=y&&y<=Math.max(point11.y,point12.y);return lies;}return false;}},{key:'getOverlappedAngle',value:function getOverlappedAngle(first,second,angle,padding){var x=first.x;if(angle>=90&&angle<=270){second.y=first.y-(padding+second.height/2);x=first.x+first.width;}else{second.y=first.y+first.height+padding;}return getAngle(this.center,new ChartLocation(x,second.y));}},{key:'getConnectorPath',value:function getConnectorPath(label,point,dataLabel){var end=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var connector=dataLabel.connectorStyle;var labelRadius=this.isCircular()?this.labelRadius:this.getLabelDistance(point,dataLabel);var start=this.getConnectorStartPoint(point,connector);var labelAngle=end||point.midAngle;var middle=new ChartLocation(0,0);var endPoint=this.getEdgeOfLabel(label,labelAngle,middle,connector.width);if(connector.type==='Curve'){if(this.isCircular()){var r=labelRadius-this.radius;middle=degreeToLocation(labelAngle,labelRadius-r/2,this.center);return'M '+start.x+' '+start.y+' Q'+middle.x+','+middle.y+' '+endPoint.x+','+endPoint.y;}else{return this.getPolyLinePath(start,endPoint);}}else{return'M '+start.x+' '+start.y+' L '+middle.x+' '+middle.y+' L '+endPoint.x+' '+endPoint.y;}}},{key:'getPolyLinePath',value:function getPolyLinePath(start,end){var controlPoints=[start,end];if(start.y===end.y){return'M '+start.x+' '+start.y+' L '+end.x+' '+end.y;}var path='M';for(var i=0;i<=16;i++){var t=i/16;var points=this.getBezierPoint(t,controlPoints,0,2);path+=points.x+','+points.y;if(i!==16){path+=' L';}}return path;}},{key:'getBezierPoint',value:function getBezierPoint(t,controlPoints,index,count){if(count===1){return controlPoints[index];}var p0=this.getBezierPoint(t,controlPoints,index,count-1);var p1=this.getBezierPoint(t,controlPoints,index+1,count-1);var x=p0.x?p0.x:p0.x;var y=p0.y?p0.y:p0.y;var x1=p1.x?p1.x:p1.x;var y1=p1.y?p1.y:p1.y;var x2=(1-t)*x+t*x1;var y2=(1-t)*y+t*y1;if(p0.x){return{x:x2,y:y2};}else{return{x:x2,y:y2};}}},{key:'getEdgeOfLabel',value:function getEdgeOfLabel(labelshape,angle,middle){var border=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var edge=new ChartLocation(labelshape.x,labelshape.y);if(angle>=90&&angle<=270){edge.x+=labelshape.width+border/2;edge.y+=labelshape.height/2;middle.x=edge.x+10;middle.y=edge.y;}else{edge.x-=border/2;edge.y+=labelshape.height/2;middle.x=edge.x-10;middle.y=edge.y;}return edge;}},{key:'getLabelDistance',value:function getLabelDistance(point,dataLabel){if(point.labelPosition&&dataLabel.position!==point.labelPosition||dataLabel.connectorStyle.length){var length=stringToNumber(dataLabel.connectorStyle.length||'70px',this.accumulation.initialClipRect.width);if(length<this.accumulation.initialClipRect.width){return length;}}var position=point.labelPosition||dataLabel.position;var series=this.accumulation.visibleSeries[0];var extraSpace=(this.accumulation.initialClipRect.width-series.triangleSize.width)/2;var labelLocation=void 0;switch(position){case'Inside':return 0;case'Outside':labelLocation=point.symbolLocation.x+point.labelOffset.x;return this.accumulation.initialClipRect.width-labelLocation-extraSpace;}}},{key:'getLabelLocation',value:function getLabelLocation(point){var position=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'Outside';if(this.accumulation.type!=='Pie'){position=point.labelPosition||position;var location={x:point.symbolLocation.x,y:point.symbolLocation.y-point.labelOffset.y};switch(position){case'Inside':location.y=point.region.y+point.region.height/2;break;case'Outside':location.x+=point.labelOffset.x;}return location;}else{return degreeToLocation(point.midAngle,this.radius,this.center);}}},{key:'getConnectorStartPoint',value:function getConnectorStartPoint(point,connector){return this.isCircular()?degreeToLocation(point.midAngle,this.radius-connector.width,this.center):this.getLabelLocation(point);}},{key:'findAreaRect',value:function findAreaRect(){this.areaRect=new Rect(0,0,this.accumulation.availableSize.width,this.accumulation.availableSize.height);var margin=this.accumulation.margin;subtractThickness(this.areaRect,new Thickness(margin.left,margin.right,margin.top,margin.bottom));}},{key:'renderDataLabel',value:function renderDataLabel(point,dataLabel,parent,points,series,templateElement){var id=this.accumulation.element.id+'_datalabel_Series_'+series+'_';var datalabelGroup=this.accumulation.renderer.createGroup({id:id+'g_'+point.index});point.label=point.originalText||point.y.toString();var border={width:dataLabel.border.width,color:dataLabel.border.color};var argsData={cancel:false,name:textRender,series:this.accumulation.visibleSeries[0],point:point,text:point.label,border:border,color:dataLabel.fill,template:dataLabel.template};this.accumulation.trigger(textRender,argsData);var isTemplate=argsData.template!==null;point.labelVisible=!argsData.cancel;point.text=point.label=argsData.text;this.marginValue=argsData.border.width?5+argsData.border.width:1;// Template element
var childElement=createElement('div',{id:this.accumulation.element.id+'_Series_'+0+'_DataLabel_'+point.index,styles:'position: absolute;background-color:'+argsData.color+';'+getFontStyle(dataLabel.font)+';border:'+argsData.border.width+'px solid '+argsData.border.color+';'});var textSize=isTemplate?this.getTemplateSize(childElement,point,argsData):measureText(point.label,dataLabel.font);textSize.height+=4;// 4 for calculation with padding for smart label shape
textSize.width+=4;this.getDataLabelPosition(point,dataLabel,textSize,points,datalabelGroup,id);if(point.labelVisible){this.correctLabelRegion(point.labelRegion,textSize);if(isTemplate){this.setTemplateStyle(childElement,point,templateElement,dataLabel.font.color,argsData.color);}else{datalabelGroup.appendChild(this.accumulation.renderer.drawRectangle(new RectOption(id+'shape_'+point.index,argsData.color,argsData.border,1,point.labelRegion,dataLabel.rx,dataLabel.ry)));textElement(new TextOption(id+'text_'+point.index,point.labelRegion.x+this.marginValue,point.labelRegion.y+textSize.height*3/4+this.marginValue,'start',point.label,'','auto'),dataLabel.font,dataLabel.font.color||this.getSaturatedColor(point,argsData.color),datalabelGroup);}if(this.accumulation.accumulationLegendModule&&(dataLabel.position==='Outside'||this.accumulation.enableSmartLabels)){this.accumulation.visibleSeries[0].findMaxBounds(this.accumulation.visibleSeries[0].labelBound,point.labelRegion);}if(point.labelPosition==='Outside'){var path=this.getConnectorPath(extend({},point.labelRegion,null,true),point,dataLabel,point.labelAngle);var pathElement=this.accumulation.renderer.drawPath(new PathOption(id+'connector_'+point.index,'transparent',dataLabel.connectorStyle.width,dataLabel.connectorStyle.color||point.color,1,'',path));datalabelGroup.appendChild(pathElement);}parent.appendChild(datalabelGroup);}}},{key:'getTemplateSize',value:function getTemplateSize(element,point,argsData){var clientRect=void 0;element=createTemplate(element,point.index,argsData.template,this.accumulation,point,this.accumulation.visibleSeries[0]);clientRect=measureElementRect(element);return{width:clientRect.width,height:clientRect.height};}},{key:'setTemplateStyle',value:function setTemplateStyle(childElement,point,parent,labelColor,fill){childElement.style.left=point.labelRegion.x+'px';childElement.style.top=point.labelRegion.y+'px';childElement.style.color=labelColor||this.getSaturatedColor(point,fill);if(childElement.childElementCount){parent.appendChild(childElement);this.doTemplateAnimation(this.accumulation,childElement);}}},{key:'getSaturatedColor',value:function getSaturatedColor(point,color){var saturatedColor=void 0;if(this.marginValue>=1){saturatedColor=color==='transparent'?this.getLabelBackground(point):color;}else{saturatedColor=this.getLabelBackground(point);}saturatedColor=saturatedColor==='transparent'?window.getComputedStyle(document.body,null).backgroundColor:saturatedColor;var rgbValue=convertHexToColor(colorNameToHex(saturatedColor));var contrast=Math.round((rgbValue.r*299+rgbValue.g*587+rgbValue.b*114)/1000);return contrast>=128?'black':'white';}},{key:'doTemplateAnimation',value:function doTemplateAnimation(accumulation,element){var series=accumulation.visibleSeries[0];var delay=series.animation.delay+series.animation.duration;if(series.animation.enable&&accumulation.animateSeries){element.style.visibility='hidden';templateAnimate(element,delay,200,'ZoomIn');}}},{key:'getLabelBackground',value:function getLabelBackground(point){return point.labelPosition==='Outside'?this.accumulation.background||this.accumulation.themeStyle.background:point.color;}},{key:'correctLabelRegion',value:function correctLabelRegion(labelRegion,textSize){var padding=arguments.length>2&&arguments[2]!==undefined?arguments[2]:4;labelRegion.height-=padding;labelRegion.width-=padding;labelRegion.x+=padding/2;labelRegion.y+=padding/2;textSize.height-=padding;textSize.width-=padding;}},{key:'getModuleName',value:function getModuleName(){return'AccumulationDataLabel';}},{key:'destroy',value:function destroy(accumulation){/**
         * Destroy method performed here
         */}}]);return AccumulationDataLabel;}(AccumulationBase));_export2('AccumulationTooltip',AccumulationTooltip=function(_BaseTooltip2){_inherits(AccumulationTooltip,_BaseTooltip2);function AccumulationTooltip(accumulation){_classCallCheck(this,AccumulationTooltip);var _this127=_possibleConstructorReturn(this,(AccumulationTooltip.__proto__||Object.getPrototypeOf(AccumulationTooltip)).call(this,accumulation));_this127.accumulation=accumulation;_this127.addEventListener();return _this127;}/**
     * @hidden
     */_createClass(AccumulationTooltip,[{key:'addEventListener',value:function addEventListener(){if(this.accumulation.isDestroyed){return;}this.accumulation.on(Browser.isPointer?'pointerleave':'mouseleave',this.mouseLeaveHandler,this);this.accumulation.on(Browser.touchMoveEvent,this.mouseMoveHandler,this);this.accumulation.on(Browser.touchEndEvent,this.mouseUpHandler,this);}},{key:'mouseLeaveHandler',value:function mouseLeaveHandler(e){this.removeTooltip(1000);}},{key:'mouseUpHandler',value:function mouseUpHandler(e){var control=this.accumulation;if(control.tooltip.enable&&control.isTouch&&withInBounds(control.mouseX,control.mouseY,control.initialClipRect)){this.tooltip(e);this.removeTooltip(2000);}}},{key:'mouseMoveHandler',value:function mouseMoveHandler(e){var control=this.accumulation;// Tooltip for chart series.    
if(control.tooltip.enable&&withInBounds(control.mouseX,control.mouseY,control.initialClipRect)){this.tooltip(e);}}},{key:'tooltip',value:function tooltip(event){var isTooltip=this.getElement(this.element.id+'_tooltip');var tooltipDiv=this.getTooltipElement(isTooltip);this.renderSeriesTooltip(event,this.accumulation,!isTooltip,tooltipDiv);}},{key:'renderSeriesTooltip',value:function renderSeriesTooltip(e,chart,isFirst,tooltipDiv){var data=this.getPieData(e,chart,chart.mouseX,chart.mouseY);var rect=chart.initialClipRect;this.currentPoints=[];var markerSide=void 0;if(data.point&&(!this.previousPoints[0]||this.previousPoints[0].point!==data.point)){if(this.pushData(data,isFirst,tooltipDiv,false)){var text=this.getTooltipText(data,chart.tooltip);if(!chart.tooltip.template){if(this.header!==''){this.findHeader(data);}markerSide=this.renderTooltip(data,rect,data.point.symbolLocation,text,isFirst,false);if(markerSide){this.drawMarker(markerSide.isBottom,10);}}else{this.renderTemplate(data,rect,data.point.symbolLocation,this.getTemplateText(data),isFirst);}this.isRemove=true;}this.previousPoints=extend([],this.currentPoints,null,true);}else{if(!data.point&&this.isRemove){this.removeTooltip(1000);this.isRemove=false;}}}},{key:'drawMarker',value:function drawMarker(isBottom,size){var count=0;var shapeOption=void 0;var groupElement=this.getElement(this.element.id+'_tooltip_group');var markerGroup=this.chart.renderer.createGroup({id:this.element.id+'_tooltip_trackball_group'});var x=this.padding*2+size/2;var y=void 0;var series=void 0;var _iteratorNormalCompletion129=true;var _didIteratorError129=false;var _iteratorError129=undefined;try{for(var _iterator129=this.currentPoints[Symbol.iterator](),_step129;!(_iteratorNormalCompletion129=(_step129=_iterator129.next()).done);_iteratorNormalCompletion129=true){var data=_step129.value;series=data.series;y=this.markerPoint[count]-this.padding+(isBottom?this.arrowPadding:0);shapeOption=new PathOption(this.element.id+'_Tooltip_Trackball_'+series.index,data.point.color,1,'#cccccc',series.opacity,null);markerGroup.appendChild(drawSymbol(new ChartLocation(x,y),'Circle',new Size(size,size),null,shapeOption,null));count++;}}catch(err){_didIteratorError129=true;_iteratorError129=err;}finally{try{if(!_iteratorNormalCompletion129&&_iterator129.return){_iterator129.return();}}finally{if(_didIteratorError129){throw _iteratorError129;}}}groupElement.appendChild(markerGroup);}},{key:'getPieData',value:function getPieData(e,chart,x,y){var target=e.target;var id=indexFinder(target.id,true);if(!isNaN(id.series)){var seriesIndex=id.series;var pointIndex=id.point;if(!isNullOrUndefined(seriesIndex)&&!isNaN(seriesIndex)&&!isNullOrUndefined(pointIndex)&&!isNaN(pointIndex)){var series=this.getSeriesFromIndex(seriesIndex,chart.visibleSeries);if(series.enableTooltip){return new AccPointData(series.points[pointIndex],series);}}}return new AccPointData(null,null);}},{key:'getSeriesFromIndex',value:function getSeriesFromIndex(index,visibleSeries){return visibleSeries[0];}},{key:'getTemplateText',value:function getTemplateText(data){var point=extend({},data.point);return point;}},{key:'getTooltipText',value:function getTooltipText(data,tooltip){var series=data.series;var format=tooltip.format?tooltip.format:'${point.x} : <b>${point.y}</b>';return this.parseTemplate(data.point,series,format);}},{key:'findHeader',value:function findHeader(data){this.header=this.parseTemplate(data.point,data.series,this.header);if(this.header.replace(/<b>/g,'').replace(/<\/b>/g,'').trim()!==''){this.formattedText=this.formattedText.concat(this.header);}}},{key:'parseTemplate',value:function parseTemplate(point,series,format){var value=void 0;var textValue=void 0;var _iteratorNormalCompletion130=true;var _didIteratorError130=false;var _iteratorError130=undefined;try{for(var _iterator130=Object.keys(point)[Symbol.iterator](),_step130;!(_iteratorNormalCompletion130=(_step130=_iterator130.next()).done);_iteratorNormalCompletion130=true){var dataValue=_step130.value;value=new RegExp('${point'+'.'+dataValue+'}','gm');format=format.replace(value.source,point[dataValue]);}}catch(err){_didIteratorError130=true;_iteratorError130=err;}finally{try{if(!_iteratorNormalCompletion130&&_iterator130.return){_iterator130.return();}}finally{if(_didIteratorError130){throw _iteratorError130;}}}var _iteratorNormalCompletion131=true;var _didIteratorError131=false;var _iteratorError131=undefined;try{for(var _iterator131=Object.keys(Object.getPrototypeOf(series))[Symbol.iterator](),_step131;!(_iteratorNormalCompletion131=(_step131=_iterator131.next()).done);_iteratorNormalCompletion131=true){var _dataValue2=_step131.value;value=new RegExp('${series'+'.'+_dataValue2+'}','gm');textValue=series[_dataValue2];format=format.replace(value.source,textValue);}}catch(err){_didIteratorError131=true;_iteratorError131=err;}finally{try{if(!_iteratorNormalCompletion131&&_iterator131.return){_iterator131.return();}}finally{if(_didIteratorError131){throw _iteratorError131;}}}return format;}},{key:'removeTooltip',value:function removeTooltip(duration){var _this128=this;var chart=this.control;var tooltipElement=this.getElement(this.element.id+'_tooltip');this.stopAnimation();if(tooltipElement&&this.previousPoints.length>0){var data=this.previousPoints;this.toolTipInterval=setTimeout(function(){var series=data[0].series;var tooltipGroup=tooltipElement.firstChild;var opacity=parseFloat(tooltipGroup.getAttribute('opacity'))||1;var element=_this128.getElement(chart.element.id+'_Series_'+data[0].series.index+'_Point_'+data[0].point.index);var rectOpacity=void 0;if(element){rectOpacity=parseFloat(element.getAttribute('opacity'));}new Animation({}).animate(tooltipGroup,{duration:200,progress:function progress(args){_this128.progressAnimation(element,tooltipGroup,series,opacity,rectOpacity,args.timeStamp/args.duration,series.isRectSeries,false);},end:function end(model){_this128.previousPoints=[];_this128.endAnimation(element,tooltipGroup,series,false);}});},duration);}}},{key:'getModuleName',value:function getModuleName(){return'AccumulationTooltip';}},{key:'destroy',value:function destroy(chart){/**
         * Destroy method calling here
         */}}]);return AccumulationTooltip;}(BaseTooltip));_export2('AccumulationSelection',AccumulationSelection=function(_BaseSelection2){_inherits(AccumulationSelection,_BaseSelection2);function AccumulationSelection(accumulation){_classCallCheck(this,AccumulationSelection);var _this129=_possibleConstructorReturn(this,(AccumulationSelection.__proto__||Object.getPrototypeOf(AccumulationSelection)).call(this,accumulation));_this129.renderer=accumulation.renderer;return _this129;}/**
     * To initialize the private variables
     */_createClass(AccumulationSelection,[{key:'initPrivateVariables',value:function initPrivateVariables(accumulation){this.styleId=accumulation.element.id+'_ej2_chart_selection';this.unselected=accumulation.element.id+'_ej2_deselected';this.selectedDataIndexes=[];this.rectPoints=null;}},{key:'invokeSelection',value:function invokeSelection(accumulation){this.initPrivateVariables(accumulation);this.series=extend({},accumulation.visibleSeries,null,true);this.seriesStyles();this.selectDataIndex(this.concatIndexes(accumulation.selectedDataIndexes,this.selectedDataIndexes),accumulation);}},{key:'generateStyle',value:function generateStyle(series){return series.selectionStyle||this.styleId+'_series_'+series.index;}},{key:'findElements',value:function findElements(accumulation,series,index){return[this.getElementByIndex(index)];}},{key:'getElementByIndex',value:function getElementByIndex(index){var elementId=this.control.element.id+'_Series_'+index.series+'_Point_'+index.point;return document.getElementById(elementId);}},{key:'calculateSelectedElements',value:function calculateSelectedElements(accumulation,event){if(event.target.id.indexOf(accumulation.element.id+'_')===-1){return;}if(event.target.id.indexOf('_Series_')>-1||event.target.id.indexOf('_datalabel_')>-1){this.performSelection(indexFinder(event.target.id),accumulation,event.target);}}},{key:'performSelection',value:function performSelection(index,accumulation,element){element=element.id.indexOf('datalabel')>-1?accumulation.getSeriesElement().childNodes[index.series].childNodes[index.point]:element;switch(accumulation.selectionMode){case'Point':if(!isNaN(index.point)){this.selection(accumulation,index,[element]);this.blurEffect(accumulation.element.id,accumulation.visibleSeries);}break;}}},{key:'selection',value:function selection(accumulation,index,selectedElements){if(!accumulation.isMultiSelect){this.removeMultiSelectEelments(accumulation,this.selectedDataIndexes,index,accumulation.series);}var className=selectedElements[0]&&(selectedElements[0].getAttribute('class')||'');if(selectedElements[0]&&className.indexOf(this.getSelectionClass(selectedElements[0].id))>-1){this.removeStyles(selectedElements,index);this.addOrRemoveIndex(this.selectedDataIndexes,index);}else{this.applyStyles(selectedElements,index);this.addOrRemoveIndex(this.selectedDataIndexes,index,true);}}},{key:'redrawSelection',value:function redrawSelection(accumulation,oldMode){var selectedDataIndexes=extend([],this.selectedDataIndexes,null,true);this.removeSelectedElements(accumulation,this.selectedDataIndexes);this.blurEffect(accumulation.element.id,accumulation.visibleSeries);this.selectDataIndex(selectedDataIndexes,accumulation);}},{key:'removeSelectedElements',value:function removeSelectedElements(accumulation,indexes){var seriesgroup=accumulation.getSeriesElement();var _iteratorNormalCompletion132=true;var _didIteratorError132=false;var _iteratorError132=undefined;try{for(var _iterator132=indexes[Symbol.iterator](),_step132;!(_iteratorNormalCompletion132=(_step132=_iterator132.next()).done);_iteratorNormalCompletion132=true){var index=_step132.value;this.removeStyles([this.getElementByIndex(index)],index);}}catch(err){_didIteratorError132=true;_iteratorError132=err;}finally{try{if(!_iteratorNormalCompletion132&&_iterator132.return){_iterator132.return();}}finally{if(_didIteratorError132){throw _iteratorError132;}}}}},{key:'legendSelection',value:function legendSelection(accumulation,series,pointIndex){var element=accumulation.getSeriesElement().childNodes[series].childNodes[pointIndex];var seriesStyle=this.generateStyle(accumulation.visibleSeries[series]);var seriesElements=accumulation.getSeriesElement().childNodes[series].childNodes[pointIndex];this.selection(accumulation,new Index(series,pointIndex),[seriesElements]);this.blurEffect(accumulation.element.id,accumulation.visibleSeries);}},{key:'selectDataIndex',value:function selectDataIndex(indexes,accumulation){var element=void 0;var _iteratorNormalCompletion133=true;var _didIteratorError133=false;var _iteratorError133=undefined;try{for(var _iterator133=indexes[Symbol.iterator](),_step133;!(_iteratorNormalCompletion133=(_step133=_iterator133.next()).done);_iteratorNormalCompletion133=true){var index=_step133.value;element=this.getElementByIndex(index);if(element){this.performSelection(index,accumulation,element);}}}catch(err){_didIteratorError133=true;_iteratorError133=err;}finally{try{if(!_iteratorNormalCompletion133&&_iterator133.return){_iterator133.return();}}finally{if(_didIteratorError133){throw _iteratorError133;}}}}},{key:'removeMultiSelectEelments',value:function removeMultiSelectEelments(accumulation,index,currentIndex,seriesCollection){var series=void 0;for(var i=0;i<index.length;i++){series=seriesCollection[index[i].series];if(!this.checkEquals(index[i],currentIndex)){this.removeStyles(this.findElements(accumulation,series,index[i]),index[i]);index.splice(i,1);i--;}}}},{key:'blurEffect',value:function blurEffect(pieId,visibleSeries){var visibility=this.checkPointVisibility(this.selectedDataIndexes);// legend click scenario
var _iteratorNormalCompletion134=true;var _didIteratorError134=false;var _iteratorError134=undefined;try{for(var _iterator134=visibleSeries[Symbol.iterator](),_step134;!(_iteratorNormalCompletion134=(_step134=_iterator134.next()).done);_iteratorNormalCompletion134=true){var series=_step134.value;if(series.visible){this.checkSelectionElements(document.getElementById(pieId+'_SeriesCollection'),this.generateStyle(series),visibility);}}}catch(err){_didIteratorError134=true;_iteratorError134=err;}finally{try{if(!_iteratorNormalCompletion134&&_iterator134.return){_iterator134.return();}}finally{if(_didIteratorError134){throw _iteratorError134;}}}}},{key:'checkSelectionElements',value:function checkSelectionElements(element,className,visibility){var children=element.childNodes[0].childNodes;var legendShape=void 0;var elementClass=void 0;var parentClass=void 0;for(var i=0;i<children.length;i++){elementClass=children[i].getAttribute('class')||'';parentClass=children[i].parentNode.getAttribute('class')||'';if(elementClass.indexOf(className)===-1&&parentClass.indexOf(className)===-1&&visibility){this.addSvgClass(children[i],this.unselected);}else{this.removeSvgClass(children[i],this.unselected);}if(this.control.accumulationLegendModule&&this.control.legendSettings.visible){legendShape=document.getElementById(this.control.element.id+'_chart_legend_shape_'+i);if(legendShape){if(elementClass.indexOf(className)===-1&&parentClass.indexOf(className)===-1&&visibility){this.addSvgClass(legendShape,this.unselected);}else{this.removeSvgClass(legendShape,this.unselected);}}}}}},{key:'applyStyles',value:function applyStyles(elements,index){var _iteratorNormalCompletion135=true;var _didIteratorError135=false;var _iteratorError135=undefined;try{for(var _iterator135=elements[Symbol.iterator](),_step135;!(_iteratorNormalCompletion135=(_step135=_iterator135.next()).done);_iteratorNormalCompletion135=true){var element=_step135.value;var legendShape=void 0;if(element){if(this.control.accumulationLegendModule&&this.control.legendSettings.visible){legendShape=document.getElementById(this.control.element.id+'_chart_legend_shape_'+index.point);this.removeSvgClass(legendShape,this.unselected);this.addSvgClass(legendShape,this.getSelectionClass(legendShape.id));}this.removeSvgClass(element.parentNode,this.unselected);this.removeSvgClass(element,this.unselected);this.addSvgClass(element,this.getSelectionClass(element.id));}}}catch(err){_didIteratorError135=true;_iteratorError135=err;}finally{try{if(!_iteratorNormalCompletion135&&_iterator135.return){_iterator135.return();}}finally{if(_didIteratorError135){throw _iteratorError135;}}}}},{key:'getSelectionClass',value:function getSelectionClass(id){return this.generateStyle(this.control.series[indexFinder(id).series]);}},{key:'removeStyles',value:function removeStyles(elements,index){var legendShape=void 0;var _iteratorNormalCompletion136=true;var _didIteratorError136=false;var _iteratorError136=undefined;try{for(var _iterator136=elements[Symbol.iterator](),_step136;!(_iteratorNormalCompletion136=(_step136=_iterator136.next()).done);_iteratorNormalCompletion136=true){var element=_step136.value;if(element){if(this.control.accumulationLegendModule&&this.control.legendSettings.visible){legendShape=document.getElementById(this.control.element.id+'_chart_legend_shape_'+index.point);this.removeSvgClass(legendShape,this.getSelectionClass(legendShape.id));}this.removeSvgClass(element,this.getSelectionClass(element.id));}}}catch(err){_didIteratorError136=true;_iteratorError136=err;}finally{try{if(!_iteratorNormalCompletion136&&_iterator136.return){_iterator136.return();}}finally{if(_didIteratorError136){throw _iteratorError136;}}}}},{key:'addOrRemoveIndex',value:function addOrRemoveIndex(indexes,index,add){for(var i=0;i<indexes.length;i++){if(this.checkEquals(indexes[i],index)){indexes.splice(i,1);i--;}}if(add){indexes.push(index);}}},{key:'checkEquals',value:function checkEquals(first,second){return first.point===second.point&&first.series===second.series;}},{key:'checkPointVisibility',value:function checkPointVisibility(selectedDataIndexes){var visible=false;var _iteratorNormalCompletion137=true;var _didIteratorError137=false;var _iteratorError137=undefined;try{for(var _iterator137=selectedDataIndexes[Symbol.iterator](),_step137;!(_iteratorNormalCompletion137=(_step137=_iterator137.next()).done);_iteratorNormalCompletion137=true){var data=_step137.value;if(pointByIndex(data.point,this.control.visibleSeries[0].points).visible){visible=true;break;}}}catch(err){_didIteratorError137=true;_iteratorError137=err;}finally{try{if(!_iteratorNormalCompletion137&&_iterator137.return){_iterator137.return();}}finally{if(_didIteratorError137){throw _iteratorError137;}}}return visible;}},{key:'getModuleName',value:function getModuleName(){return'AccumulationSelection';}},{key:'destroy',value:function destroy(accumulation){// Destroy method performed here
}}]);return AccumulationSelection;}(BaseSelection));_export2('AccumulationAnnotation',AccumulationAnnotation=function(_AnnotationBase2){_inherits(AccumulationAnnotation,_AnnotationBase2);/**
     * Constructor for accumulation chart annotation.
     * @private.
     */function AccumulationAnnotation(control,annotations){_classCallCheck(this,AccumulationAnnotation);var _this130=_possibleConstructorReturn(this,(AccumulationAnnotation.__proto__||Object.getPrototypeOf(AccumulationAnnotation)).call(this,control));_this130.pie=control;_this130.annotations=annotations;return _this130;}/**
     * Method to render the annotation for accumulation chart
     * @param element
     */_createClass(AccumulationAnnotation,[{key:'renderAnnotations',value:function renderAnnotations(element){var _this131=this;this.parentElement=createElement('div',{id:this.pie.element.id+'_Annotation_Collections'});this.annotations.map(function(annotation,index){_this131.processAnnotation(annotation,index,_this131.parentElement);});appendElement(this.parentElement,element);}},{key:'getModuleName',value:function getModuleName(){// Returns te module name
return'Annotation';}},{key:'destroy',value:function destroy(control){// Destroy method performed here
}}]);return AccumulationAnnotation;}(AnnotationBase));_export2('CrosshairSettings',CrosshairSettings);_export2('ZoomSettings',ZoomSettings);_export2('Chart',Chart);_export2('Row',Row);_export2('Column',Column);_export2('MajorGridLines',MajorGridLines);_export2('MinorGridLines',MinorGridLines);_export2('AxisLine',AxisLine);_export2('MajorTickLines',MajorTickLines);_export2('MinorTickLines',MinorTickLines);_export2('CrosshairTooltip',CrosshairTooltip);_export2('Axis',Axis);_export2('VisibleLabels',VisibleLabels);_export2('DateTime',DateTime);_export2('Category',Category);_export2('Logarithmic',Logarithmic);_export2('DateTimeCategory',DateTimeCategory);_export2('NiceInterval',NiceInterval);_export2('StripLine',StripLine);_export2('Connector',Connector);_export2('Font',Font);_export2('Border',Border);_export2('ChartArea',ChartArea);_export2('Margin',Margin);_export2('Animation',Animation$1);_export2('Indexes',Indexes);_export2('CornerRadius',CornerRadius);_export2('Index',Index);_export2('EmptyPointSettings',EmptyPointSettings);_export2('TooltipSettings',TooltipSettings);_export2('LineSeries',LineSeries);_export2('ColumnSeries',ColumnSeries);_export2('AreaSeries',AreaSeries);_export2('BarSeries',BarSeries);_export2('PolarSeries',PolarSeries);_export2('RadarSeries',RadarSeries);_export2('StackingBarSeries',StackingBarSeries);_export2('CandleSeries',CandleSeries);_export2('StackingColumnSeries',StackingColumnSeries);_export2('StepLineSeries',StepLineSeries);_export2('StepAreaSeries',StepAreaSeries);_export2('StackingAreaSeries',StackingAreaSeries);_export2('ScatterSeries',ScatterSeries);_export2('RangeColumnSeries',RangeColumnSeries);_export2('WaterfallSeries',WaterfallSeries);_export2('HiloSeries',HiloSeries);_export2('HiloOpenCloseSeries',HiloOpenCloseSeries);_export2('RangeAreaSeries',RangeAreaSeries);_export2('BubbleSeries',BubbleSeries);_export2('SplineSeries',SplineSeries);_export2('SplineAreaSeries',SplineAreaSeries);_export2('TechnicalIndicator',TechnicalIndicator);_export2('SmaIndicator',SmaIndicator);_export2('EmaIndicator',EmaIndicator);_export2('TmaIndicator',TmaIndicator);_export2('AccumulationDistributionIndicator',AccumulationDistributionIndicator);_export2('AtrIndicator',AtrIndicator);_export2('MomentumIndicator',MomentumIndicator);_export2('RsiIndicator',RsiIndicator);_export2('StochasticIndicator',StochasticIndicator);_export2('BollingerBands',BollingerBands);_export2('MacdIndicator',MacdIndicator);_export2('Trendlines',Trendlines);_export2('measureText',measureText);_export2('sort',sort);_export2('rotateTextSize',rotateTextSize);_export2('removeElement',removeElement);_export2('logBase',logBase);_export2('showTooltip',showTooltip);_export2('inside',inside);_export2('withIn',withIn);_export2('withInRange',withInRange);_export2('sum',sum);_export2('subArraySum',subArraySum);_export2('subtractThickness',subtractThickness);_export2('subtractRect',subtractRect);_export2('degreeToLocation',degreeToLocation);_export2('getAngle',getAngle);_export2('subArray',subArray);_export2('valueToCoefficient',valueToCoefficient);_export2('TransformToVisible',TransformToVisible);_export2('indexFinder',indexFinder);_export2('CoefficientToVector',CoefficientToVector);_export2('valueToPolarCoefficient',valueToPolarCoefficient);_export2('Mean',Mean);_export2('PolarArc',PolarArc);_export2('createTooltip',createTooltip);_export2('createZoomingLabels',createZoomingLabels);_export2('withInBounds',withInBounds);_export2('getValueXByPoint',getValueXByPoint);_export2('getValueYByPoint',getValueYByPoint);_export2('findClipRect',findClipRect);_export2('firstToLowerCase',firstToLowerCase);_export2('getMinPointsDelta',getMinPointsDelta);_export2('getAnimationFunction',getAnimationFunction);_export2('linear',linear);_export2('markerAnimate',markerAnimate);_export2('templateAnimate',templateAnimate);_export2('drawSymbol',drawSymbol);_export2('calculateShapes',calculateShapes);_export2('getRectLocation',getRectLocation);_export2('minMax',minMax);_export2('getElement',getElement);_export2('getTemplateFunction',getTemplateFunction);_export2('createTemplate',createTemplate);_export2('getFontStyle',getFontStyle);_export2('measureElementRect',measureElementRect);_export2('findlElement',findlElement);_export2('getPoint',getPoint);_export2('appendElement',appendElement);_export2('getDraggedRectLocation',getDraggedRectLocation);_export2('checkBounds',checkBounds);_export2('getLabelText',getLabelText);_export2('stopTimer',stopTimer);_export2('isCollide',isCollide);_export2('isOverlap',isOverlap);_export2('containsRect',containsRect);_export2('calculateRect',calculateRect);_export2('convertToHexCode',convertToHexCode);_export2('componentToHex',componentToHex);_export2('convertHexToColor',convertHexToColor);_export2('colorNameToHex',colorNameToHex);_export2('getSaturationColor',getSaturationColor);_export2('getMedian',getMedian);_export2('calculateLegendShapes',calculateLegendShapes);_export2('textTrim',textTrim);_export2('stringToNumber',stringToNumber);_export2('findDirection',findDirection);_export2('textElement',textElement);_export2('calculateSize',calculateSize);_export2('createSvg',createSvg);_export2('getTitle',getTitle);_export2('titlePositionX',titlePositionX);_export2('textWrap',textWrap);_export2('CustomizeOption',CustomizeOption);_export2('StackValues',StackValues);_export2('TextOption',TextOption);_export2('PathOption',PathOption);_export2('RectOption',RectOption);_export2('CircleOption',CircleOption);_export2('PolygonOption',PolygonOption);_export2('Size',Size);_export2('Rect',Rect);_export2('ChartLocation',ChartLocation);_export2('Thickness',Thickness);_export2('ColorValue',ColorValue);_export2('PointData',PointData);_export2('AccPointData',AccPointData);_export2('ControlPoints',ControlPoints);_export2('Crosshair',Crosshair);_export2('Tooltip',Tooltip);_export2('Zoom',Zoom);_export2('Selection',Selection);_export2('DataLabel',DataLabel);_export2('ErrorBar',ErrorBar);_export2('DataLabelSettings',DataLabelSettings);_export2('MarkerSettings',MarkerSettings);_export2('Points',Points);_export2('Trendline',Trendline);_export2('ErrorBarCapSettings',ErrorBarCapSettings);_export2('ChartSegment',ChartSegment);_export2('ErrorBarSettings',ErrorBarSettings);_export2('SeriesBase',SeriesBase);_export2('Series',Series);_export2('Legend',Legend);_export2('ChartAnnotation',ChartAnnotation);_export2('ChartAnnotationSettings',ChartAnnotationSettings);_export2('LabelBorder',LabelBorder);_export2('MultiLevelCategories',MultiLevelCategories);_export2('StripLineSettings',StripLineSettings);_export2('MultiLevelLabels',MultiLevelLabels);_export2('BoxAndWhiskerSeries',BoxAndWhiskerSeries);_export2('MultiColoredAreaSeries',MultiColoredAreaSeries);_export2('MultiColoredLineSeries',MultiColoredLineSeries);_export2('MultiColoredSeries',MultiColoredSeries);_export2('MultiLevelLabel',MultiLevelLabel);_export2('AccumulationChart',AccumulationChart);_export2('AccumulationAnnotationSettings',AccumulationAnnotationSettings);_export2('AccumulationDataLabelSettings',AccumulationDataLabelSettings);_export2('AccPoints',AccPoints);_export2('AccumulationSeries',AccumulationSeries);_export2('getSeriesFromIndex',getSeriesFromIndex);_export2('pointByIndex',pointByIndex);_export2('PieSeries',PieSeries);_export2('FunnelSeries',FunnelSeries);_export2('PyramidSeries',PyramidSeries);_export2('AccumulationLegend',AccumulationLegend);_export2('AccumulationDataLabel',AccumulationDataLabel);_export2('AccumulationTooltip',AccumulationTooltip);_export2('AccumulationSelection',AccumulationSelection);_export2('AccumulationAnnotation',AccumulationAnnotation);_export2('loaded',loaded);_export2('load',load);_export2('animationComplete',animationComplete);_export2('legendRender',legendRender);_export2('textRender',textRender);_export2('pointRender',pointRender);_export2('seriesRender',seriesRender);_export2('axisLabelRender',axisLabelRender);_export2('axisRangeCalculated',axisRangeCalculated);_export2('axisMultiLabelRender',axisMultiLabelRender);_export2('tooltipRender',tooltipRender);_export2('chartMouseMove',chartMouseMove);_export2('chartMouseClick',chartMouseClick);_export2('pointClick',pointClick);_export2('pointMove',pointMove);_export2('chartMouseLeave',chartMouseLeave);_export2('chartMouseDown',chartMouseDown);_export2('chartMouseUp',chartMouseUp);_export2('zoomComplete',zoomComplete);_export2('dragComplete',dragComplete);_export2('resized',resized);_export2('beforePrint',beforePrint);_export2('annotationRender',annotationRender);_export2('Theme',Theme);_export2('getSeriesColor',getSeriesColor);_export2('getThemeColor',getThemeColor);}};});

//# sourceMappingURL=ej2-charts.es2015-compiled.js.map